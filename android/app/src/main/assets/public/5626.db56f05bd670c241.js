"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5626],{2726:(ce,F,l)=>{l.d(F,{Uw:()=>z,dV:()=>E,fo:()=>N});var m=l(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var M=function(o){return o.Unimplemented="UNIMPLEMENTED",o.Unavailable="UNAVAILABLE",o}(M||{});class $ extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const i=o=>{var t,n,r,c,a;const f=o.CapacitorCustomPlatform||null,s=o.Capacitor||{},b=s.Plugins=s.Plugins||{},p=o.CapacitorPlatforms,B=(null===(t=null==p?void 0:p.currentPlatform)||void 0===t?void 0:t.getPlatform)||(()=>null!==f?f.name:(o=>{var t,n;return null!=o&&o.androidBridge?"android":null!==(n=null===(t=null==o?void 0:o.webkit)||void 0===t?void 0:t.messageHandlers)&&void 0!==n&&n.bridge?"ios":"web"})(o)),ue=(null===(n=null==p?void 0:p.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||(()=>"web"!==B()),fe=(null===(r=null==p?void 0:p.currentPlatform)||void 0===r?void 0:r.isPluginAvailable)||(h=>{const g=_.get(h);return!!(null!=g&&g.platforms.has(B())||ie(h))}),ie=(null===(c=null==p?void 0:p.currentPlatform)||void 0===c?void 0:c.getPluginHeader)||(h=>{var g;return null===(g=s.PluginHeaders)||void 0===g?void 0:g.find(H=>H.name===h)}),_=new Map,be=(null===(a=null==p?void 0:p.currentPlatform)||void 0===a?void 0:a.registerPlugin)||((h,g={})=>{const H=_.get(h);if(H)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),H.proxy;const j=B(),k=ie(h);let U;const Pe=function(){var P=(0,m.Z)(function*(){return!U&&j in g?U=U="function"==typeof g[j]?yield g[j]():g[j]:null!==f&&!U&&"web"in g&&(U=U="function"==typeof g.web?yield g.web():g.web),U});return function(){return P.apply(this,arguments)}}(),ee=P=>{let v;const T=(...Z)=>{const x=Pe().then(w=>{const W=((P,v)=>{var T,Z;if(!k){if(P)return null===(Z=P[v])||void 0===Z?void 0:Z.bind(P);throw new $(`"${h}" plugin is not implemented on ${j}`,M.Unimplemented)}{const x=null==k?void 0:k.methods.find(w=>v===w.name);if(x)return"promise"===x.rtype?w=>s.nativePromise(h,v.toString(),w):(w,W)=>s.nativeCallback(h,v.toString(),w,W);if(P)return null===(T=P[v])||void 0===T?void 0:T.bind(P)}})(w,P);if(W){const Y=W(...Z);return v=null==Y?void 0:Y.remove,Y}throw new $(`"${h}.${P}()" is not implemented on ${j}`,M.Unimplemented)});return"addListener"===P&&(x.remove=(0,m.Z)(function*(){return v()})),x};return T.toString=()=>`${P.toString()}() { [capacitor code] }`,Object.defineProperty(T,"name",{value:P,writable:!1,configurable:!1}),T},se=ee("addListener"),le=ee("removeListener"),ye=(P,v)=>{const T=se({eventName:P},v),Z=function(){var w=(0,m.Z)(function*(){const W=yield T;le({eventName:P,callbackId:W},v)});return function(){return w.apply(this,arguments)}}(),x=new Promise(w=>T.then(()=>w({remove:Z})));return x.remove=(0,m.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Z()}),x},te=new Proxy({},{get(P,v){switch(v){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return k?ye:se;case"removeListener":return le;default:return ee(v)}}});return b[h]=te,_.set(h,{name:h,proxy:te,platforms:new Set([...Object.keys(g),...k?[j]:[]])}),te});return s.convertFileSrc||(s.convertFileSrc=h=>h),s.getPlatform=B,s.handleError=h=>o.console.error(h),s.isNativePlatform=ue,s.isPluginAvailable=fe,s.pluginMethodNoop=(h,g,H)=>Promise.reject(`${H} does not have an implementation of "${g}".`),s.registerPlugin=be,s.Exception=$,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s.platform=s.getPlatform(),s.isNative=s.isNativePlatform(),s},E=(o=>o.Capacitor=i(o))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),N=E.registerPlugin;class z{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,n){var r=this;this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n);const a=this.windowListeners[t];a&&!a.registered&&this.addWindowListener(a);const f=function(){var b=(0,m.Z)(function*(){return r.removeListener(t,n)});return function(){return b.apply(this,arguments)}}(),s=Promise.resolve({remove:f});return Object.defineProperty(s,"remove",{value:(b=(0,m.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield f()}),function(){return b.apply(this,arguments)})}),s;var b}removeAllListeners(){var t=this;return(0,m.Z)(function*(){t.listeners={};for(const n in t.windowListeners)t.removeWindowListener(t.windowListeners[n]);t.windowListeners={}})()}notifyListeners(t,n){const r=this.listeners[t];r&&r.forEach(c=>c(n))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new E.Exception(t,M.Unimplemented)}unavailable(t="not available"){return new E.Exception(t,M.Unavailable)}removeListener(t,n){var r=this;return(0,m.Z)(function*(){const c=r.listeners[t];if(!c)return;const a=c.indexOf(n);r.listeners[t].splice(a,1),r.listeners[t].length||r.removeWindowListener(r.windowListeners[t])})()}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const J=o=>encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),V=o=>o.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class e extends z{getCookies(){return(0,m.Z)(function*(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[c,a]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");c=V(c).trim(),a=V(a).trim(),n[c]=a}),n})()}setCookie(t){return(0,m.Z)(function*(){try{const n=J(t.key),r=J(t.value),c=`; expires=${(t.expires||"").replace("expires=","")}`,a=(t.path||"/").replace("path=",""),f=null!=t.url&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${c}; path=${a}; ${f};`}catch(n){return Promise.reject(n)}})()}deleteCookie(t){return(0,m.Z)(function*(){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}})()}clearCookies(){return(0,m.Z)(function*(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(t){return Promise.reject(t)}})()}clearAllCookies(){var t=this;return(0,m.Z)(function*(){try{yield t.clearCookies()}catch(n){return Promise.reject(n)}})()}}N("CapacitorCookies",{web:()=>new e});const L=function(){var o=(0,m.Z)(function*(t){return new Promise((n,r)=>{const c=new FileReader;c.onload=()=>{const a=c.result;n(a.indexOf(",")>=0?a.split(",")[1]:a)},c.onerror=a=>r(a),c.readAsDataURL(t)})});return function(n){return o.apply(this,arguments)}}();class D extends z{request(t){return(0,m.Z)(function*(){const n=((o,t={})=>{const n=Object.assign({method:o.method||"GET",headers:o.headers},t),c=((o={})=>{const t=Object.keys(o);return Object.keys(o).map(c=>c.toLocaleLowerCase()).reduce((c,a,f)=>(c[a]=o[t[f]],c),{})})(o.headers)["content-type"]||"";if("string"==typeof o.data)n.body=o.data;else if(c.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[f,s]of Object.entries(o.data||{}))a.set(f,s);n.body=a.toString()}else if(c.includes("multipart/form-data")){const a=new FormData;if(o.data instanceof FormData)o.data.forEach((s,b)=>{a.append(b,s)});else for(const s of Object.keys(o.data))a.append(s,o.data[s]);n.body=a;const f=new Headers(n.headers);f.delete("content-type"),n.headers=f}else(c.includes("application/json")||"object"==typeof o.data)&&(n.body=JSON.stringify(o.data));return n})(t,t.webFetchExtra),r=((o,t=!0)=>o?Object.entries(o).reduce((r,c)=>{const[a,f]=c;let s,b;return Array.isArray(f)?(b="",f.forEach(p=>{s=t?encodeURIComponent(p):p,b+=`${a}=${s}&`}),b.slice(0,-1)):(s=t?encodeURIComponent(f):f,b=`${a}=${s}`),`${r}&${b}`},"").substr(1):null)(t.params,t.shouldEncodeUrlParams),c=r?`${t.url}?${r}`:t.url,a=yield fetch(c,n),f=a.headers.get("content-type")||"";let b,p,{responseType:s="text"}=a.ok?t:{};switch(f.includes("application/json")&&(s="json"),s){case"arraybuffer":case"blob":p=yield a.blob(),b=yield L(p);break;case"json":b=yield a.json();break;default:b=yield a.text()}const Q={};return a.headers.forEach((B,S)=>{Q[S]=B}),{data:b,headers:Q,status:a.status,url:a.url}})()}get(t){var n=this;return(0,m.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"GET"}))})()}post(t){var n=this;return(0,m.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"POST"}))})()}put(t){var n=this;return(0,m.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"PUT"}))})()}patch(t){var n=this;return(0,m.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"PATCH"}))})()}delete(t){var n=this;return(0,m.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"DELETE"}))})()}}N("CapacitorHttp",{web:()=>new D})},5626:(ce,F,l)=>{l.r(F),l.d(F,{TabPageModule:()=>V});var m=l(6814),I=l(95),R=l(9843),G=l(2692),K=l(5861),O=l(2726);const A=(0,O.fo)("Geolocation",{web:()=>l.e(579).then(l.bind(l,579)).then(e=>new e.GeolocationWeb)});var M=function(e){return e.Accessibility="accessibility",e.Account="account",e.AirplaneMode="airplane_mode",e.Apn="apn",e.ApplicationDetails="application_details",e.ApplicationDevelopment="application_development",e.Application="application",e.AppNotification="app_notification",e.BatteryOptimization="battery_optimization",e.Bluetooth="bluetooth",e.Captioning="captioning",e.Cast="cast",e.DataRoaming="data_roaming",e.Date="date",e.Display="display",e.Dream="dream",e.Home="home",e.Keyboard="keyboard",e.KeyboardSubType="keyboard_subtype",e.Locale="locale",e.Location="location",e.ManageApplications="manage_applications",e.ManageAllApplications="manage_all_applications",e.MemoryCard="memory_card",e.Network="network",e.NfcSharing="nfcsharing",e.NfcPayment="nfc_payment",e.NfcSettings="nfc_settings",e.Print="print",e.Privacy="privacy",e.QuickLaunch="quick_launch",e.Search="search",e.Security="security",e.Settings="settings",e.ShowRegulatoryInfo="show_regulatory_info",e.Sound="sound",e.Storage="storage",e.Sync="sync",e.Usage="usage",e.UserDictionary="user_dictionary",e.VoiceInput="voice_input",e.Wifi="wifi",e.WifiIp="wifi_ip",e.Wireless="wireless",e}(M||{}),$=function(e){return e.About="about",e.App="app",e.AutoLock="autoLock",e.Bluetooth="bluetooth",e.DateTime="dateTime",e.FaceTime="facetime",e.General="general",e.Keyboard="keyboard",e.ICloud="iCloud",e.ICloudStorageBackup="iCloudStorageBackup",e.International="international",e.LocationServices="locationServices",e.Music="music",e.Notes="notes",e.Notifications="notifications",e.Phone="phone",e.Photos="photos",e.ManagedConfigurationList="managedConfigurationList",e.Reset="reset",e.Ringtone="ringtone",e.Sounds="sounds",e.SoftwareUpdate="softwareUpdate",e.Store="store",e.Tracking="tracking",e.Wallpaper="wallpaper",e.WiFi="wifi",e.Tethering="tethering",e.DoNotDisturb="doNotDisturb",e.TouchIdPasscode="touchIdPasscode",e}($||{});const X=(0,O.fo)("NativeSettings",{web:()=>l.e(359).then(l.bind(l,359)).then(e=>new e.NativeSettingsWeb)});var i=l(5879),ne=l(6401),E=l(6712);function N(e,y){1&e&&(i.TgZ(0,"ion-tab-button",8),i._UZ(1,"ion-icon",9),i._uU(2," QR "),i.qZA())}function oe(e,y){if(1&e){const L=i.EpF();i.TgZ(0,"ion-tab-button",10),i.NdJ("click",function(){i.CHM(L);const d=i.oxw();return i.KtG(d.getCurrentLocation())}),i._UZ(1,"ion-icon",11),i._uU(2," Presente "),i.qZA()}}function ae(e,y){1&e&&(i.TgZ(0,"ion-tab-button",12),i._UZ(1,"ion-icon",13),i._uU(2," Asistencia "),i.qZA())}const re=[{path:"",component:(()=>{var e;class y{constructor(u,d){this.dataService=u,this.locationAccuracy=d}ngOnInit(){this.permission=this.dataService.getPermission()}obtenerCoordenadas(u){var d=this;return(0,K.Z)(function*(){try{const C=yield A.getCurrentPosition(u);console.log("Coordenadas:",C.coords),d.calcularDistancia(C.coords.latitude,C.coords.longitude,-36.79538077676426,-73.06240811939503)<5500?(console.log("Las coordenadas est\xe1n cerca del lugar."),d.dataService.setActivaBoton(!0)):(console.log("Las coordenadas no est\xe1n cerca del lugar."),d.dataService.setActivaBoton(!1))}catch(C){console.error("Error al obtener las coordenadas:",C)}})()}getCurrentLocation(){var u=this;return(0,K.Z)(function*(){try{const d=yield A.checkPermissions();if(console.log("Permission status: ",d.location),"granted"!=(null==d?void 0:d.location)&&"granted"!=(yield A.requestPermissions()).location)return void(yield u.openSettings(!0));"android"==O.dV.getPlatform()&&u.enableGps();let C={maximumAge:3e3,timeout:1e4,enableHighAccuracy:!0};yield u.obtenerCoordenadas(C)}catch(d){"Location services are not enabled"==(null==d?void 0:d.message)&&(yield u.openSettings()),console.log(d)}})()}openSettings(u=!1){return console.log("open settings..."),X.open({optionAndroid:u?M.ApplicationDetails:M.Location,optionIOS:u?$.App:$.LocationServices})}enableGps(){var u=this;return(0,K.Z)(function*(){(yield u.locationAccuracy.canRequest())&&(yield u.locationAccuracy.request(u.locationAccuracy.REQUEST_PRIORITY_HIGH_ACCURACY))})()}calcularDistancia(u,d,C,D){const o=(C-u)*(Math.PI/180),t=(D-d)*(Math.PI/180),n=Math.sin(o/2)*Math.sin(o/2)+Math.cos(u*(Math.PI/180))*Math.cos(C*(Math.PI/180))*Math.sin(t/2)*Math.sin(t/2);return 2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))*6371}}return(e=y).\u0275fac=function(u){return new(u||e)(i.Y36(ne.D),i.Y36(E.E))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-tab"]],decls:12,vars:3,consts:[["slot","bottom","color","mycolor"],["tab","home"],["name","home-outline"],["tab","qr",4,"ngIf"],["tab","presente",3,"click",4,"ngIf"],["tab","asistencia",4,"ngIf"],["tab","perfil"],["name","person-circle-outline"],["tab","qr"],["name","qr-code-outline"],["tab","presente",3,"click"],["name","camera-outline"],["tab","asistencia"],["name","calendar-outline"]],template:function(u,d){1&u&&(i.TgZ(0,"ion-content")(1,"ion-tabs")(2,"ion-tab-bar",0)(3,"ion-tab-button",1),i._UZ(4,"ion-icon",2),i._uU(5," Home "),i.qZA(),i.YNc(6,N,3,0,"ion-tab-button",3),i.YNc(7,oe,3,0,"ion-tab-button",4),i.YNc(8,ae,3,0,"ion-tab-button",5),i.TgZ(9,"ion-tab-button",6),i._UZ(10,"ion-icon",7),i._uU(11," Perfil "),i.qZA()()()()),2&u&&(i.xp6(6),i.Q6J("ngIf",d.permission),i.xp6(1),i.Q6J("ngIf",!d.permission),i.xp6(1),i.Q6J("ngIf",!d.permission))},dependencies:[m.O5,R.W2,R.gu,R.yq,R.ZU,R.UN],styles:["ion-tab-bar[_ngcontent-%COMP%]{background-color:#00162b;color:#fff}*[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}"]}),y})(),children:[{path:"asistencia",loadChildren:()=>Promise.all([l.e(8592),l.e(614)]).then(l.bind(l,614)).then(e=>e.AsistenciaPageModule)},{path:"home",loadChildren:()=>l.e(7992).then(l.bind(l,7992)).then(e=>e.HomePageModule)},{path:"presente",loadChildren:()=>Promise.all([l.e(8592),l.e(4465)]).then(l.bind(l,4465)).then(e=>e.PresentePageModule)},{path:"qr",loadChildren:()=>Promise.all([l.e(8592),l.e(5331)]).then(l.bind(l,5331)).then(e=>e.QrPageModule)},{path:"perfil",loadChildren:()=>Promise.all([l.e(8592),l.e(5808)]).then(l.bind(l,5808)).then(e=>e.PerfilPageModule)}]}];let J=(()=>{var e;class y{}return(e=y).\u0275fac=function(u){return new(u||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[G.Bz.forChild(re),G.Bz]}),y})(),V=(()=>{var e;class y{}return(e=y).\u0275fac=function(u){return new(u||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[m.ez,I.u5,R.Pc,J]}),y})()}}]);