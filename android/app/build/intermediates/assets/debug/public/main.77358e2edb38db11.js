(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{5261:(Ht,Ke,x)=>{"use strict";x.d(Ke,{m:()=>ae});var d=x(7582),h=x(1501),Y=x(5879),ae=function(Ee){function te(){var ne=null!==Ee&&Ee.apply(this,arguments)||this;return ne.Encode={TEXT_TYPE:"TEXT_TYPE",EMAIL_TYPE:"EMAIL_TYPE",PHONE_TYPE:"PHONE_TYPE",SMS_TYPE:"SMS_TYPE"},ne}return(0,d.ZT)(te,Ee),te.prototype.scan=function(ne){return(0,h.DM)(this,"scan",{callbackOrder:"reverse"},arguments)},te.prototype.encode=function(ne,$e){return(0,h.DM)(this,"encode",{},arguments)},te.\u0275fac=function(){let ne;return function(Oe){return(ne||(ne=Y.n5z(te)))(Oe||te)}}(),te.\u0275prov=Y.Yz7({token:te,factory:te.\u0275fac}),te.pluginName="BarcodeScanner",te.plugin="phonegap-plugin-barcodescanner",te.pluginRef="cordova.plugins.barcodeScanner",te.repo="https://github.com/phonegap/phonegap-plugin-barcodescanner",te.platforms=["Android","BlackBerry 10","Browser","iOS","Windows"],te=(0,d.gn)([],te)}(h.On)},1501:(Ht,Ke,x)=>{"use strict";x.d(Ke,{On:()=>ze,DM:()=>ke});var h=x(5592),Y=x(2438),ae={error:"cordova_not_available"},Ee={error:"plugin_not_installed"};function te(Ae){if(typeof window<"u"&&window.angular){var at=window.document,tt=window.angular.element(at.querySelector("[ng-app]")||at.body).injector();if(tt)return tt.get("$q")(function(ee,oe){Ae(ee,oe)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(ee,oe){Ae(ee,oe)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function ue(Ae,Te,at){var tt,Ue;"string"==typeof Ae?tt=Ae:(tt=Ae.constructor.getPluginRef(),at=Ae.constructor.getPluginName(),Ue=Ae.constructor.getPluginInstallName());var ee=He(tt);return!(!ee||Te&&typeof ee[Te]>"u")||(typeof window>"u"||!window.cordova?(function Xe(Ae,Te){typeof process>"u"&&console.warn(Te?"Native: tried calling "+Ae+"."+Te+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+Ae+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(at,Te),ae):(function fe(Ae,Te,at){console.warn(at?"Native: tried calling "+Ae+"."+at+", but the "+Ae+" plugin is not installed.":"Native: tried accessing the "+Ae+" plugin but it's not installed."),Te&&console.warn("Install the "+Ae+" plugin: 'ionic cordova plugin add "+Te+"'")}(at,Ue,Te),Ee))}function we(Ae,Te,at,tt,Ue,ee){void 0===tt&&(tt={}),at=function Ce(Ae,Te,at,tt){if(void 0===Te&&(Te={}),Te.sync)return Ae;if("reverse"===Te.callbackOrder)Ae.unshift(tt),Ae.unshift(at);else if("node"===Te.callbackStyle)Ae.push(function(be,Re){be?tt(be):at(Re)});else if("object"===Te.callbackStyle&&Te.successName&&Te.errorName){var Ue={};Ue[Te.successName]=at,Ue[Te.errorName]=tt,Ae.push(Ue)}else if(typeof Te.successIndex<"u"||typeof Te.errorIndex<"u"){var ee=function(){Te.successIndex>Ae.length?Ae[Te.successIndex]=at:Ae.splice(Te.successIndex,0,at)},oe=function(){Te.errorIndex>Ae.length?Ae[Te.errorIndex]=tt:Ae.splice(Te.errorIndex,0,tt)};Te.successIndex>Te.errorIndex?(oe(),ee()):(ee(),oe())}else Ae.push(at),Ae.push(tt);return Ae}(at,tt,Ue,ee);var oe=ue(Ae,Te);if(!0===oe){var be=He(Ae.constructor.getPluginRef());return be[Te].apply(be,at)}return oe}function He(Ae){return typeof window<"u"?Fe(window,Ae):null}function Fe(Ae,Te){for(var at=Te.split("."),tt=Ae,Ue=0;Ue<at.length;Ue++){if(!tt)return null;tt=tt[at[Ue]]}return tt}var it=function(Ae,Te,at){return void 0===at&&(at={}),function(){for(var tt=[],Ue=0;Ue<arguments.length;Ue++)tt[Ue]=arguments[Ue];return at.sync?we(Ae,Te,tt,at):at.observable?function Oe(Ae,Te,at,tt){return void 0===tt&&(tt={}),new h.y(function(Ue){var ee;return ee=tt.destruct?we(Ae,Te,at,tt,function(){for(var oe=[],be=0;be<arguments.length;be++)oe[be]=arguments[be];return Ue.next(oe)},function(){for(var oe=[],be=0;be<arguments.length;be++)oe[be]=arguments[be];return Ue.error(oe)}):we(Ae,Te,at,tt,Ue.next.bind(Ue),Ue.error.bind(Ue)),ee&&ee.error&&(Ue.error(ee.error),Ue.complete()),function(){try{if(tt.clearFunction)return tt.clearWithArgs?we(Ae,tt.clearFunction,at,tt,Ue.next.bind(Ue),Ue.error.bind(Ue)):we(Ae,tt.clearFunction,[])}catch(oe){console.warn("Unable to clear the previous observable watch for",Ae.constructor.getPluginName(),Te),console.warn(oe)}}})}(Ae,Te,tt,at):at.eventObservable&&at.event?function re(Ae,Te){return Te=typeof window<"u"&&Te?Fe(window,Te):Te||(typeof window<"u"?window:{}),(0,Y.R)(Te,Ae)}(at.event,at.element):at.otherPromise?function $e(Ae,Te,at,tt){return void 0===tt&&(tt={}),te(function(Ue,ee){var oe=we(Ae,Te,at,tt);oe?oe.error?ee(oe.error):oe.then&&oe.then(Ue).catch(ee):ee({error:"unexpected_error"})})}(Ae,Te,tt,at):function ne(Ae,Te,at,tt){void 0===tt&&(tt={});var Ue,ee,oe=te(function(be,Re){Ue=tt.destruct?we(Ae,Te,at,tt,function(){for(var qe=[],nt=0;nt<arguments.length;nt++)qe[nt]=arguments[nt];return be(qe)},function(){for(var qe=[],nt=0;nt<arguments.length;nt++)qe[nt]=arguments[nt];return Re(qe)}):we(Ae,Te,at,tt,be,Re),ee=Re});return Ue&&Ue.error&&(oe.catch(function(){}),"function"==typeof ee&&ee(Ue.error)),oe}(Ae,Te,tt,at)}},ze=function(){function Ae(){}return Ae.installed=function(){return!0===ue(this.pluginRef)},Ae.getPlugin=function(){return typeof window<"u"?function Le(Ae,Te){for(var at=Te.split("."),tt=Ae,Ue=0;Ue<at.length;Ue++){if(!tt)return null;tt=tt[at[Ue]]}return tt}(window,this.pluginRef):null},Ae.getPluginName=function(){return this.pluginName},Ae.getPluginRef=function(){return this.pluginRef},Ae.getPluginInstallName=function(){return this.plugin},Ae.getSupportedPlatforms=function(){return this.platforms},Ae.pluginName="",Ae.pluginRef="",Ae.plugin="",Ae.repo="",Ae.platforms=[],Ae.install="",Ae}();function ke(Ae,Te,at,tt){return it(Ae,Te,at).apply(this,tt)}!function d(){if(typeof process>"u"){var Ae=typeof window<"u"?window:{},at=Date.now(),tt=!1;Ae.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-at)+" ms"),tt=!0}),setTimeout(function(){!tt&&Ae.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},6712:(Ht,Ke,x)=>{"use strict";x.d(Ke,{E:()=>ae});var d=x(7582),h=x(1501),Y=x(5879),ae=function(Ee){function te(){var ne=null!==Ee&&Ee.apply(this,arguments)||this;return ne.REQUEST_PRIORITY_NO_POWER=0,ne.REQUEST_PRIORITY_LOW_POWER=1,ne.REQUEST_PRIORITY_BALANCED_POWER_ACCURACY=2,ne.REQUEST_PRIORITY_HIGH_ACCURACY=3,ne.SUCCESS_SETTINGS_SATISFIED=0,ne.SUCCESS_USER_AGREED=1,ne.ERROR_ALREADY_REQUESTING=-1,ne.ERROR_INVALID_ACTION=0,ne.ERROR_INVALID_ACCURACY=1,ne.ERROR_EXCEPTION=1,ne.ERROR_CANNOT_CHANGE_ACCURACY=3,ne.ERROR_USER_DISAGREED=4,ne.ERROR_GOOGLE_API_CONNECTION_FAILED=4,ne}return(0,d.ZT)(te,Ee),te.prototype.canRequest=function(){return(0,h.DM)(this,"canRequest",{},arguments)},te.prototype.isRequesting=function(){return(0,h.DM)(this,"isRequesting",{},arguments)},te.prototype.request=function(ne){return(0,h.DM)(this,"request",{callbackOrder:"reverse"},arguments)},te.\u0275fac=function(){let ne;return function(Oe){return(ne||(ne=Y.n5z(te)))(Oe||te)}}(),te.\u0275prov=Y.Yz7({token:te,factory:te.\u0275fac}),te.pluginName="LocationAccuracy",te.plugin="cordova-plugin-request-location-accuracy",te.pluginRef="cordova.plugins.locationAccuracy",te.repo="https://github.com/dpa99c/cordova-plugin-request-location-accuracy",te.platforms=["Android","iOS"],te=(0,d.gn)([],te)}(h.On)},3560:(Ht,Ke,x)=>{"use strict";x.d(Ke,{$:()=>Rr,A:()=>ue,E:()=>we,J:()=>Dt,K:()=>In,M:()=>_i,P:()=>Ks,Q:()=>We,R:()=>Zr,U:()=>Hn,V:()=>hi,W:()=>vi,X:()=>is,Y:()=>Wi,Z:()=>Si,_:()=>si,a:()=>ou,a0:()=>Q,a1:()=>he,a2:()=>En,a3:()=>Yi,a4:()=>ca,a5:()=>Oa,a6:()=>da,a7:()=>ha,a8:()=>Sl,a9:()=>ul,aA:()=>Le,aB:()=>_e,aC:()=>Pd,aD:()=>O,aE:()=>ct,aF:()=>ya,aG:()=>vs,aH:()=>_c,aI:()=>Sn,aM:()=>pl,aP:()=>oi,aa:()=>Ss,ab:()=>Rl,ac:()=>$s,ad:()=>dl,ae:()=>hl,af:()=>Na,ag:()=>ru,aj:()=>T,ak:()=>Ie,al:()=>F,ao:()=>ua,ap:()=>kr,ar:()=>Hs,as:()=>Xo,at:()=>Qe,au:()=>Se,av:()=>Me,aw:()=>ge,ax:()=>gu,ay:()=>fu,az:()=>Ye,b:()=>Ol,c:()=>Nl,d:()=>g_,e:()=>wd,f:()=>Ad,g:()=>Jh,h:()=>Sd,i:()=>M,j:()=>zp,k:()=>za,l:()=>Kh,m:()=>nf,o:()=>Pr,p:()=>$e,r:()=>au,s:()=>jp,u:()=>lu});var d=x(5861),h=x(9058),Y=x(534),ae=x(7879),Ee=x(7582),te=x(4537);const $e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ue={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const we=function De(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},xe=function Ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},He=new h.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fe=new ae.Yd("@firebase/auth");function it(E,...g){fe.logLevel<=ae.in.ERROR&&fe.error(`Auth (${Y.SDK_VERSION}): ${E}`,...g)}function ge(E,...g){throw ke(E,...g)}function Le(E,...g){return ke(E,...g)}function Pe(E,g,m){const w=Object.assign(Object.assign({},xe()),{[g]:m});return new h.LL("auth","Firebase",w).create(g,{appName:E.name})}function ze(E,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&ge(E,"argument-error"),Pe(E,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ke(E,...g){if("string"!=typeof E){const m=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=E.name),E._errorFactory.create(m,...w)}return He.create(E,...g)}function _e(E,g,...m){if(!E)throw ke(g,...m)}function lt(E){const g="INTERNAL ASSERTION FAILED: "+E;throw it(g),new Error(g)}function Qe(E,g){E||lt(g)}function ut(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function pt(){return"http:"===Ae()||"https:"===Ae()}function Ae(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class tt{constructor(g,m){this.shortDelay=g,this.longDelay=m,Qe(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,h.uI)()||(0,h.b$)()}get(){return function Te(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,h.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ue(E,g){Qe(E.emulator,"Emulator should always be set here");const{url:m}=E.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class ee{static initialize(g,m,w){this.fetchImpl=g,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void lt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void lt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void lt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},be=new tt(3e4,6e4);function Re(E,g){return E.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:E.tenantId}):g}function qe(E,g,m,w){return nt.apply(this,arguments)}function nt(){return(nt=(0,d.Z)(function*(E,g,m,w,G={}){return St(E,G,(0,d.Z)(function*(){let le={},et={};w&&("GET"===g?et=w:le={body:JSON.stringify(w)});const Tt=(0,h.xO)(Object.assign({key:E.config.apiKey},et)).slice(1),Gt=yield E._getAdditionalHeaders();return Gt["Content-Type"]="application/json",E.languageCode&&(Gt["X-Firebase-Locale"]=E.languageCode),ee.fetch()(mt(E,E.config.apiHost,m,Tt),Object.assign({method:g,headers:Gt,referrerPolicy:"no-referrer"},le))}))})).apply(this,arguments)}function St(E,g,m){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,d.Z)(function*(E,g,m){E._canInitEmulator=!1;const w=Object.assign(Object.assign({},oe),g);try{const G=new Ot(E),le=yield Promise.race([m(),G.promise]);G.clearNetworkTimeout();const et=yield le.json();if("needConfirmation"in et)throw qt(E,"account-exists-with-different-credential",et);if(le.ok&&!("errorMessage"in et))return et;{const Tt=le.ok?et.errorMessage:et.error.message,[Gt,Dn]=Tt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Gt)throw qt(E,"credential-already-in-use",et);if("EMAIL_EXISTS"===Gt)throw qt(E,"email-already-in-use",et);if("USER_DISABLED"===Gt)throw qt(E,"user-disabled",et);const Bn=w[Gt]||Gt.toLowerCase().replace(/[_\s]+/g,"-");if(Dn)throw Pe(E,Bn,Dn);ge(E,Bn)}}catch(G){if(G instanceof h.ZR)throw G;ge(E,"network-request-failed",{message:String(G)})}})).apply(this,arguments)}function zt(E,g,m,w){return Je.apply(this,arguments)}function Je(){return(Je=(0,d.Z)(function*(E,g,m,w,G={}){const le=yield qe(E,g,m,w,G);return"mfaPendingCredential"in le&&ge(E,"multi-factor-auth-required",{_serverResponse:le}),le})).apply(this,arguments)}function mt(E,g,m,w){const G=`${g}${m}?${w}`;return E.config.emulator?Ue(E.config,G):`${E.config.apiScheme}://${G}`}function _t(E){switch(E){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ot{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Le(this.auth,"network-request-failed")),be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qt(E,g,m){const w={appName:E.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const G=Le(E,g,w);return G.customData._tokenResponse=m,G}function an(E){return void 0!==E&&void 0!==E.getResponse}function vt(E){return void 0!==E&&void 0!==E.enterprise}class Zt{constructor(g){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=g.recaptchaEnforcementState}getProviderEnforcementState(g){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===g)return _t(m.enforcementState);return null}isProviderEnabled(g){return"ENFORCE"===this.getProviderEnforcementState(g)||"AUDIT"===this.getProviderEnforcementState(g)}}function bt(){return(bt=(0,d.Z)(function*(E){return(yield qe(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function On(E,g){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,d.Z)(function*(E,g){return qe(E,"GET","/v2/recaptchaConfig",Re(E,g))})).apply(this,arguments)}function Qn(){return(Qn=(0,d.Z)(function*(E,g){return qe(E,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function wn(){return(wn=(0,d.Z)(function*(E,g){return qe(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Wn(){return(Wn=(0,d.Z)(function*(E,g){return qe(E,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function kn(E){if(E)try{const g=new Date(Number(E));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Xn(){return(Xn=(0,d.Z)(function*(E,g=!1){const m=(0,h.m9)(E),w=yield m.getIdToken(g),G=Nn(w);_e(G&&G.exp&&G.auth_time&&G.iat,m.auth,"internal-error");const le="object"==typeof G.firebase?G.firebase:void 0,et=null==le?void 0:le.sign_in_provider;return{claims:G,token:w,authTime:kn(Fr(G.auth_time)),issuedAtTime:kn(Fr(G.iat)),expirationTime:kn(Fr(G.exp)),signInProvider:et||null,signInSecondFactor:(null==le?void 0:le.sign_in_second_factor)||null}})).apply(this,arguments)}function Fr(E){return 1e3*Number(E)}function Nn(E){const[g,m,w]=E.split(".");if(void 0===g||void 0===m||void 0===w)return it("JWT malformed, contained fewer than 3 sections"),null;try{const G=(0,h.tV)(m);return G?JSON.parse(G):(it("Failed to decode base64 JWT payload"),null)}catch(G){return it("Caught error parsing JWT payload as JSON",null==G?void 0:G.toString()),null}}function _n(E,g){return ir.apply(this,arguments)}function ir(){return(ir=(0,d.Z)(function*(E,g,m=!1){if(m)return g;try{return yield g}catch(w){throw w instanceof h.ZR&&function ti({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(w)&&E.auth.currentUser===E&&(yield E.auth.signOut()),w}})).apply(this,arguments)}class cr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const G=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,G)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),w)}iteration(){var g=this;return(0,d.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===(null==m?void 0:m.code)&&g.schedule(!0))}g.schedule()})()}}class ni{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=kn(this.lastLoginAt),this.creationTime=kn(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jn(E){return Cr.apply(this,arguments)}function Cr(){return Cr=(0,d.Z)(function*(E){var g;const m=E.auth,w=yield E.getIdToken(),G=yield _n(E,function cn(E,g){return Wn.apply(this,arguments)}(m,{idToken:w}));_e(null==G?void 0:G.users.length,m,"internal-error");const le=G.users[0];E._notifyReloadListener(le);const et=null!==(g=le.providerUserInfo)&&void 0!==g&&g.length?function ii(E){return E.map(g=>{var{providerId:m}=g,w=(0,Ee._T)(g,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(le.providerUserInfo):[],Tt=function Mr(E,g){return[...E.filter(w=>!g.some(G=>G.providerId===w.providerId)),...g]}(E.providerData,et),Bn=!!E.isAnonymous&&!(E.email&&le.passwordHash||null!=Tt&&Tt.length),Lr={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:Tt,metadata:new ni(le.createdAt,le.lastLoginAt),isAnonymous:Bn};Object.assign(E,Lr)}),Cr.apply(this,arguments)}function Qr(){return(Qr=(0,d.Z)(function*(E){const g=(0,h.m9)(E);yield Jn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function vr(){return(vr=(0,d.Z)(function*(E,g){const m=yield St(E,{},(0,d.Z)(function*(){const w=(0,h.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:G,apiKey:le}=E.config,et=mt(E,G,"/v1/token",`key=${le}`),Tt=yield E._getAdditionalHeaders();return Tt["Content-Type"]="application/x-www-form-urlencoded",ee.fetch()(et,{method:"POST",headers:Tt,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ve{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){_e(g.idToken,"internal-error"),_e(typeof g.idToken<"u","internal-error"),_e(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Dr(E){const g=Nn(E);return _e(g,"internal-error"),_e(typeof g.exp<"u","internal-error"),_e(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var w=this;return(0,d.Z)(function*(){return _e(!w.accessToken||w.refreshToken,g,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var w=this;return(0,d.Z)(function*(){const{accessToken:G,refreshToken:le,expiresIn:et}=yield function xr(E,g){return vr.apply(this,arguments)}(g,m);w.updateTokensAndExpiration(G,le,Number(et))})()}updateTokensAndExpiration(g,m,w){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,m){const{refreshToken:w,accessToken:G,expirationTime:le}=m,et=new Ve;return w&&(_e("string"==typeof w,"internal-error",{appName:g}),et.refreshToken=w),G&&(_e("string"==typeof G,"internal-error",{appName:g}),et.accessToken=G),le&&(_e("number"==typeof le,"internal-error",{appName:g}),et.expirationTime=le),et}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Ve,this.toJSON())}_performRefresh(){return lt("not implemented")}}function K(E,g){_e("string"==typeof E||typeof E>"u","internal-error",{appName:g})}class L{constructor(g){var{uid:m,auth:w,stsTokenManager:G}=g,le=(0,Ee._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=G,this.accessToken=G.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new ni(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,d.Z)(function*(){const w=yield _n(m,m.stsTokenManager.getToken(m.auth,g));return _e(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(g){return function en(E){return Xn.apply(this,arguments)}(this,g)}reload(){return function ri(E){return Qr.apply(this,arguments)}(this)}_assign(g){this!==g&&(_e(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const m=new L(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(g){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var w=this;return(0,d.Z)(function*(){let G=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),G=!0),m&&(yield Jn(w)),yield w.auth._persistUserIfCurrent(w),G&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,d.Z)(function*(){const m=yield g.getIdToken();return yield _n(g,function Sr(E,g){return Qn.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var w,G,le,et,Tt,Gt,Dn,Bn;const Lr=null!==(w=m.displayName)&&void 0!==w?w:void 0,Qo=null!==(G=m.email)&&void 0!==G?G:void 0,Ya=null!==(le=m.phoneNumber)&&void 0!==le?le:void 0,Ka=null!==(et=m.photoURL)&&void 0!==et?et:void 0,Bd=null!==(Tt=m.tenantId)&&void 0!==Tt?Tt:void 0,$d=null!==(Gt=m._redirectEventId)&&void 0!==Gt?Gt:void 0,Ud=null!==(Dn=m.createdAt)&&void 0!==Dn?Dn:void 0,jd=null!==(Bn=m.lastLoginAt)&&void 0!==Bn?Bn:void 0,{uid:ta,emailVerified:yu,isAnonymous:Eu,providerData:Vl,stsTokenManager:Iu}=m;_e(ta&&Iu,g,"internal-error");const qp=Ve.fromJSON(this.name,Iu);_e("string"==typeof ta,g,"internal-error"),K(Lr,g.name),K(Qo,g.name),_e("boolean"==typeof yu,g,"internal-error"),_e("boolean"==typeof Eu,g,"internal-error"),K(Ya,g.name),K(Ka,g.name),K(Bd,g.name),K($d,g.name),K(Ud,g.name),K(jd,g.name);const na=new L({uid:ta,auth:g,email:Qo,emailVerified:yu,displayName:Lr,isAnonymous:Eu,photoURL:Ka,phoneNumber:Ya,tenantId:Bd,stsTokenManager:qp,createdAt:Ud,lastLoginAt:jd});return Vl&&Array.isArray(Vl)&&(na.providerData=Vl.map(wc=>Object.assign({},wc))),$d&&(na._redirectEventId=$d),na}static _fromIdTokenResponse(g,m,w=!1){return(0,d.Z)(function*(){const G=new Ve;G.updateFromServerResponse(m);const le=new L({uid:m.localId,auth:g,stsTokenManager:G,isAnonymous:w});return yield Jn(le),le})()}}const z=new Map;function O(E){Qe(E instanceof Function,"Expected a class definition");let g=z.get(E);return g?(Qe(g instanceof E,"Instance stored in cache mismatched with class"),g):(g=new E,z.set(E,g),g)}const We=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,w){var G=this;return(0,d.Z)(function*(){G.storage[m]=w})()}_get(m){var w=this;return(0,d.Z)(function*(){const G=w.storage[m];return void 0===G?null:G})()}_remove(m){var w=this;return(0,d.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return E.type="NONE",E})();function ct(E,g,m){return`firebase:${E}:${g}:${m}`}class jt{constructor(g,m,w){this.persistence=g,this.auth=m,this.userKey=w;const{config:G,name:le}=this.auth;this.fullUserKey=ct(this.userKey,G.apiKey,le),this.fullPersistenceKey=ct("persistence",G.apiKey,le),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,d.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?L._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,d.Z)(function*(){if(m.persistence===g)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,w="authUser"){return(0,d.Z)(function*(){if(!m.length)return new jt(O(We),g,w);const G=(yield Promise.all(m.map(function(){var Dn=(0,d.Z)(function*(Bn){if(yield Bn._isAvailable())return Bn});return function(Bn){return Dn.apply(this,arguments)}}()))).filter(Dn=>Dn);let le=G[0]||O(We);const et=ct(w,g.config.apiKey,g.name);let Tt=null;for(const Dn of m)try{const Bn=yield Dn._get(et);if(Bn){const Lr=L._fromJSON(g,Bn);Dn!==le&&(Tt=Lr),le=Dn;break}}catch{}const Gt=G.filter(Dn=>Dn._shouldAllowMigration);return le._shouldAllowMigration&&Gt.length?(le=Gt[0],Tt&&(yield le._set(et,Tt.toJSON())),yield Promise.all(m.map(function(){var Dn=(0,d.Z)(function*(Bn){if(Bn!==le)try{yield Bn._remove(et)}catch{}});return function(Bn){return Dn.apply(this,arguments)}}())),new jt(le,g,w)):new jt(le,g,w)})()}}function kt(E){const g=E.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(je(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(yn(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(dt(g))return"Blackberry";if(me(g))return"Webos";if(fn(g))return"Safari";if((g.includes("chrome/")||Ln(g))&&!g.includes("edge/"))return"Chrome";if(Me(g))return"Android";{const w=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function yn(E=(0,h.z$)()){return/firefox\//i.test(E)}function fn(E=(0,h.z$)()){const g=E.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Ln(E=(0,h.z$)()){return/crios\//i.test(E)}function je(E=(0,h.z$)()){return/iemobile/i.test(E)}function Me(E=(0,h.z$)()){return/android/i.test(E)}function dt(E=(0,h.z$)()){return/blackberry/i.test(E)}function me(E=(0,h.z$)()){return/webos/i.test(E)}function Se(E=(0,h.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function Ye(E=(0,h.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function tn(E=(0,h.z$)()){return Se(E)||Me(E)||me(E)||dt(E)||/windows phone/i.test(E)||je(E)}function qn(E,g=[]){let m;switch(E){case"Browser":m=kt((0,h.z$)());break;case"Worker":m=`${kt((0,h.z$)())}-${E}`;break;default:m=E}const w=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${Y.SDK_VERSION}/${w}`}class er{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const w=le=>new Promise((et,Tt)=>{try{et(g(le))}catch(Gt){Tt(Gt)}});w.onAbort=m,this.queue.push(w);const G=this.queue.length-1;return()=>{this.queue[G]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,d.Z)(function*(){if(m.auth.currentUser===g)return;const w=[];try{for(const G of m.queue)yield G(g),G.onAbort&&w.push(G.onAbort)}catch(G){w.reverse();for(const le of w)try{le()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null==G?void 0:G.message})}})()}}function or(){return(or=(0,d.Z)(function*(E,g={}){return qe(E,"GET","/v2/passwordPolicy",Re(E,g))})).apply(this,arguments)}class jn{constructor(g){var m,w,G,le;const et=g.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=et.minPasswordLength)&&void 0!==m?m:6,et.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=et.maxPasswordLength),void 0!==et.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=et.containsLowercaseCharacter),void 0!==et.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=et.containsUppercaseCharacter),void 0!==et.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=et.containsNumericCharacter),void 0!==et.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=et.containsNonAlphanumericCharacter),this.enforcementState=g.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(G=null===(w=g.allowedNonAlphanumericCharacters)||void 0===w?void 0:w.join(""))&&void 0!==G?G:"",this.forceUpgradeOnSignin=null!==(le=g.forceUpgradeOnSignin)&&void 0!==le&&le,this.schemaVersion=g.schemaVersion}validatePassword(g){var m,w,G,le,et,Tt;const Gt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(g,Gt),this.validatePasswordCharacterOptions(g,Gt),Gt.isValid&&(Gt.isValid=null===(m=Gt.meetsMinPasswordLength)||void 0===m||m),Gt.isValid&&(Gt.isValid=null===(w=Gt.meetsMaxPasswordLength)||void 0===w||w),Gt.isValid&&(Gt.isValid=null===(G=Gt.containsLowercaseLetter)||void 0===G||G),Gt.isValid&&(Gt.isValid=null===(le=Gt.containsUppercaseLetter)||void 0===le||le),Gt.isValid&&(Gt.isValid=null===(et=Gt.containsNumericCharacter)||void 0===et||et),Gt.isValid&&(Gt.isValid=null===(Tt=Gt.containsNonAlphanumericCharacter)||void 0===Tt||Tt),Gt}validatePasswordLengthOptions(g,m){const w=this.customStrengthOptions.minPasswordLength,G=this.customStrengthOptions.maxPasswordLength;w&&(m.meetsMinPasswordLength=g.length>=w),G&&(m.meetsMaxPasswordLength=g.length<=G)}validatePasswordCharacterOptions(g,m){let w;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let G=0;G<g.length;G++)w=g.charAt(G),this.updatePasswordCharacterOptionsStatuses(m,w>="a"&&w<="z",w>="A"&&w<="Z",w>="0"&&w<="9",this.allowedNonAlphanumericCharacters.includes(w))}updatePasswordCharacterOptionsStatuses(g,m,w,G,le){this.customStrengthOptions.containsLowercaseLetter&&(g.containsLowercaseLetter||(g.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(g.containsUppercaseLetter||(g.containsUppercaseLetter=w)),this.customStrengthOptions.containsNumericCharacter&&(g.containsNumericCharacter||(g.containsNumericCharacter=G)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(g.containsNonAlphanumericCharacter||(g.containsNonAlphanumericCharacter=le))}}class pr{constructor(g,m,w,G){this.app=g,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=w,this.config=G,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mi(this),this.idTokenSubscription=new mi(this),this.beforeStateQueue=new er(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=He,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=G.sdkClientVersion}_initializeWithPersistence(g,m){var w=this;return m&&(this._popupRedirectResolver=O(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var G,le;if(!w._deleted&&(w.persistenceManager=yield jt.create(w,g),!w._deleted)){if(null!==(G=w._popupRedirectResolver)&&void 0!==G&&G._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(le=w.currentUser)||void 0===le?void 0:le.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,d.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,d.Z)(function*(){var w;const G=yield m.assertedPersistence.getCurrentUser();let le=G,et=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Tt=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Gt=null==le?void 0:le._redirectEventId,Dn=yield m.tryRedirectSignIn(g);(!Tt||Tt===Gt)&&null!=Dn&&Dn.user&&(le=Dn.user,et=!0)}if(!le)return m.directlySetCurrentUser(null);if(!le._redirectEventId){if(et)try{yield m.beforeStateQueue.runMiddleware(le)}catch(Tt){le=G,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Tt))}return le?m.reloadAndSetCurrentUserOrClear(le):m.directlySetCurrentUser(null)}return _e(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===le._redirectEventId?m.directlySetCurrentUser(le):m.reloadAndSetCurrentUserOrClear(le)})()}tryRedirectSignIn(g){var m=this;return(0,d.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,d.Z)(function*(){try{yield Jn(g)}catch(w){if("auth/network-request-failed"!==(null==w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function at(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var g=this;return(0,d.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,d.Z)(function*(){const w=g?(0,h.m9)(g):null;return w&&_e(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(g,m=!1){var w=this;return(0,d.Z)(function*(){if(!w._deleted)return g&&_e(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,d.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,d.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(O(g))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(g){var m=this;return(0,d.Z)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const w=m._getPasswordPolicyInternal();return w.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):w.validatePassword(g)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var g=this;return(0,d.Z)(function*(){const m=yield function Gn(E){return or.apply(this,arguments)}(g),w=new jn(m);null===g.tenantId?g._projectPasswordPolicy=w:g._tenantPasswordPolicies[g.tenantId]=w})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new h.LL("auth","Firebase",g())}onAuthStateChanged(g,m,w){return this.registerStateListener(this.authStateSubscription,g,m,w)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,w){return this.registerStateListener(this.idTokenSubscription,g,m,w)}authStateReady(){return new Promise((g,m)=>{if(this.currentUser)g();else{const w=this.onAuthStateChanged(()=>{w(),g()},m)}})}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var w=this;return(0,d.Z)(function*(){const G=yield w.getOrInitRedirectPersistenceManager(m);return null===g?G.removeCurrentUser():G.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const w=g&&O(g)||m._popupRedirectResolver;_e(w,m,"argument-error"),m.redirectPersistenceManager=yield jt.create(m,[O(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,d.Z)(function*(){var w,G;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===g?m._currentUser:(null===(G=m.redirectUser)||void 0===G?void 0:G._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,d.Z)(function*(){if(g===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,w,G){if(this._deleted)return()=>{};const le="function"==typeof m?m:m.next.bind(m);let et=!1;const Tt=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(Tt,this,"internal-error"),Tt.then(()=>{et||le(this.currentUser)}),"function"==typeof m){const Gt=g.addObserver(m,w,G);return()=>{et=!0,Gt()}}{const Gt=g.addObserver(m);return()=>{et=!0,Gt()}}}directlySetCurrentUser(g){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=qn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,d.Z)(function*(){var m;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const G=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();G&&(w["X-Firebase-Client"]=G);const le=yield g._getAppCheckToken();return le&&(w["X-Firebase-AppCheck"]=le),w})()}_getAppCheckToken(){var g=this;return(0,d.Z)(function*(){var m;const w=yield null===(m=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return null!=w&&w.error&&function Xe(E,...g){fe.logLevel<=ae.in.WARN&&fe.warn(`Auth (${Y.SDK_VERSION}): ${E}`,...g)}(`Error while retrieving App Check token: ${w.error}`),null==w?void 0:w.token})()}}function Sn(E){return(0,h.m9)(E)}class mi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,h.ne)(m=>this.observer=m)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gr(E){return new Promise((g,m)=>{const w=document.createElement("script");w.setAttribute("src",E),w.onload=g,w.onerror=G=>{const le=Le("internal-error");le.customData=G,m(le)},w.type="text/javascript",w.charset="UTF-8",function Ti(){var E,g;return null!==(g=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==g?g:document}().appendChild(w)})}function sr(E){return`__${E}${Math.floor(1e6*Math.random())}`}class Ji{constructor(g){this.type="recaptcha-enterprise",this.auth=Sn(g)}verify(g="verify",m=!1){var w=this;return(0,d.Z)(function*(){function le(){return le=(0,d.Z)(function*(Tt){if(!m){if(null==Tt.tenantId&&null!=Tt._agentRecaptchaConfig)return Tt._agentRecaptchaConfig.siteKey;if(null!=Tt.tenantId&&void 0!==Tt._tenantRecaptchaConfigs[Tt.tenantId])return Tt._tenantRecaptchaConfigs[Tt.tenantId].siteKey}return new Promise(function(){var Gt=(0,d.Z)(function*(Dn,Bn){On(Tt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Lr=>{if(void 0!==Lr.recaptchaKey){const Qo=new Zt(Lr);return null==Tt.tenantId?Tt._agentRecaptchaConfig=Qo:Tt._tenantRecaptchaConfigs[Tt.tenantId]=Qo,Dn(Qo.siteKey)}Bn(new Error("recaptcha Enterprise site key undefined"))}).catch(Lr=>{Bn(Lr)})});return function(Dn,Bn){return Gt.apply(this,arguments)}}())}),le.apply(this,arguments)}function et(Tt,Gt,Dn){const Bn=window.grecaptcha;vt(Bn)?Bn.enterprise.ready(()=>{Bn.enterprise.execute(Tt,{action:g}).then(Lr=>{Gt(Lr)}).catch(()=>{Gt("NO_RECAPTCHA")})}):Dn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Tt,Gt)=>{(function G(Tt){return le.apply(this,arguments)})(w.auth).then(Dn=>{if(!m&&vt(window.grecaptcha))et(Dn,Tt,Gt);else{if(typeof window>"u")return void Gt(new Error("RecaptchaVerifier is only supported in browser"));gr("https://www.google.com/recaptcha/enterprise.js?render="+Dn).then(()=>{et(Dn,Tt,Gt)}).catch(Bn=>{Gt(Bn)})}}).catch(Dn=>{Gt(Dn)})})})()}}function $r(E,g,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,d.Z)(function*(E,g,m,w=!1){const G=new Ji(E);let le;try{le=yield G.verify(m)}catch{le=yield G.verify(m,!0)}const et=Object.assign({},g);return Object.assign(et,w?{captchaResp:le}:{captchaResponse:le}),Object.assign(et,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(et,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),et})).apply(this,arguments)}function J(E,g,m,w){return q.apply(this,arguments)}function q(){return q=(0,d.Z)(function*(E,g,m,w){var G;if(null!==(G=E._getRecaptchaConfig())&&void 0!==G&&G.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const le=yield $r(E,g,m,"getOobCode"===m);return w(E,le)}return w(E,g).catch(function(){var le=(0,d.Z)(function*(et){if("auth/missing-recaptcha-token"===et.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Tt=yield $r(E,g,m,"getOobCode"===m);return w(E,Tt)}return Promise.reject(et)});return function(et){return le.apply(this,arguments)}}())}),q.apply(this,arguments)}function Dt(E,g,m){const w=Sn(E);_e(w._canInitEmulator,w,"emulator-config-failed"),_e(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const G=!(null==m||!m.disableWarnings),le=Lt(g),{host:et,port:Tt}=function Rt(E){const g=Lt(E),m=/(\/\/)?([^?#/]+)/.exec(E.substr(g.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(w);if(G){const le=G[1];return{host:le,port:Ft(w.substr(le.length+1))}}{const[le,et]=w.split(":");return{host:le,port:Ft(et)}}}(g);w.config.emulator={url:`${le}//${et}${null===Tt?"":`:${Tt}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:et,port:Tt,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:G})}),G||function pn(){function E(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function Lt(E){const g=E.indexOf(":");return g<0?"":E.substr(0,g+1)}function Ft(E){if(!E)return null;const g=Number(E);return isNaN(g)?null:g}class In{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return lt("not implemented")}_getIdTokenResponse(g){return lt("not implemented")}_linkToIdToken(g,m){return lt("not implemented")}_getReauthenticationResolver(g){return lt("not implemented")}}function Mn(E,g){return nr.apply(this,arguments)}function nr(){return(nr=(0,d.Z)(function*(E,g){return qe(E,"POST","/v1/accounts:resetPassword",Re(E,g))})).apply(this,arguments)}function bi(E,g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,d.Z)(function*(E,g){return qe(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ai(){return(Ai=(0,d.Z)(function*(E,g){return qe(E,"POST","/v1/accounts:update",Re(E,g))})).apply(this,arguments)}function Vn(E,g){return qr.apply(this,arguments)}function qr(){return(qr=(0,d.Z)(function*(E,g){return zt(E,"POST","/v1/accounts:signInWithPassword",Re(E,g))})).apply(this,arguments)}function wr(E,g){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,d.Z)(function*(E,g){return qe(E,"POST","/v1/accounts:sendOobCode",Re(E,g))})).apply(this,arguments)}function ns(){return(ns=(0,d.Z)(function*(E,g){return wr(E,g)})).apply(this,arguments)}function xo(E,g){return Li.apply(this,arguments)}function Li(){return(Li=(0,d.Z)(function*(E,g){return wr(E,g)})).apply(this,arguments)}function Oo(E,g){return gs.apply(this,arguments)}function gs(){return(gs=(0,d.Z)(function*(E,g){return wr(E,g)})).apply(this,arguments)}function un(){return(un=(0,d.Z)(function*(E,g){return wr(E,g)})).apply(this,arguments)}function Or(){return(Or=(0,d.Z)(function*(E,g){return zt(E,"POST","/v1/accounts:signInWithEmailLink",Re(E,g))})).apply(this,arguments)}function Oi(){return(Oi=(0,d.Z)(function*(E,g){return zt(E,"POST","/v1/accounts:signInWithEmailLink",Re(E,g))})).apply(this,arguments)}class Yr extends In{constructor(g,m,w,G=null){super("password",w),this._email=g,this._password=m,this._tenantId=G}static _fromEmailAndPassword(g,m){return new Yr(g,m,"password")}static _fromEmailAndCode(g,m,w=null){return new Yr(g,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(null!=m&&m.email&&null!=m&&m.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,d.Z)(function*(){switch(m.signInMethod){case"password":return J(g,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Vn);case"emailLink":return function vn(E,g){return Or.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:ge(g,"internal-error")}})()}_linkToIdToken(g,m){var w=this;return(0,d.Z)(function*(){switch(w.signInMethod){case"password":return bi(g,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function ui(E,g){return Oi.apply(this,arguments)}(g,{idToken:m,email:w._email,oobCode:w._password});default:ge(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Ni(E,g){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,d.Z)(function*(E,g){return zt(E,"POST","/v1/accounts:signInWithIdp",Re(E,g))})).apply(this,arguments)}class _i extends In{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new _i(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):ge("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:G}=m,le=(0,Ee._T)(m,["providerId","signInMethod"]);if(!w||!G)return null;const et=new _i(w,G);return et.idToken=le.idToken||void 0,et.accessToken=le.accessToken||void 0,et.secret=le.secret,et.nonce=le.nonce,et.pendingToken=le.pendingToken||null,et}_getIdTokenResponse(g){return Ni(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,Ni(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Ni(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,h.xO)(m)}return g}}function Eo(){return(Eo=(0,d.Z)(function*(E,g){return qe(E,"POST","/v1/accounts:sendVerificationCode",Re(E,g))})).apply(this,arguments)}function eo(){return(eo=(0,d.Z)(function*(E,g){return zt(E,"POST","/v1/accounts:signInWithPhoneNumber",Re(E,g))})).apply(this,arguments)}function Ao(){return(Ao=(0,d.Z)(function*(E,g){const m=yield zt(E,"POST","/v1/accounts:signInWithPhoneNumber",Re(E,g));if(m.temporaryProof)throw qt(E,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const rs={USER_NOT_FOUND:"user-not-found"};function no(){return(no=(0,d.Z)(function*(E,g){return zt(E,"POST","/v1/accounts:signInWithPhoneNumber",Re(E,Object.assign(Object.assign({},g),{operation:"REAUTH"})),rs)})).apply(this,arguments)}class lo extends In{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new lo({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new lo({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function bo(E,g){return eo.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function Ur(E,g){return Ao.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function to(E,g){return no.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:w,verificationCode:G}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:w,code:G}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:w,phoneNumber:G,temporaryProof:le}=g;return w||m||G||le?new lo({verificationId:m,verificationCode:w,phoneNumber:G,temporaryProof:le}):null}}class zi{constructor(g){var m,w,G,le,et,Tt;const Gt=(0,h.zd)((0,h.pd)(g)),Dn=null!==(m=Gt.apiKey)&&void 0!==m?m:null,Bn=null!==(w=Gt.oobCode)&&void 0!==w?w:null,Lr=function No(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(G=Gt.mode)&&void 0!==G?G:null);_e(Dn&&Bn&&Lr,"argument-error"),this.apiKey=Dn,this.operation=Lr,this.code=Bn,this.continueUrl=null!==(le=Gt.continueUrl)&&void 0!==le?le:null,this.languageCode=null!==(et=Gt.languageCode)&&void 0!==et?et:null,this.tenantId=null!==(Tt=Gt.tenantId)&&void 0!==Tt?Tt:null}static parseLink(g){const m=function Io(E){const g=(0,h.zd)((0,h.pd)(E)).link,m=g?(0,h.zd)((0,h.pd)(g)).deep_link_id:null,w=(0,h.zd)((0,h.pd)(E)).deep_link_id;return(w?(0,h.zd)((0,h.pd)(w)).link:null)||w||m||g||E}(g);try{return new zi(m)}catch{return null}}}let Hn=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(m,w){return Yr._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const G=zi.parseLink(w);return _e(G,"argument-error"),Yr._fromEmailAndCode(m,G.code,G.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class ko{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Gi extends ko{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Wi extends Gi{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return _e("providerId"in m&&"signInMethod"in m,"argument-error"),_i._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return _e(g.idToken||g.accessToken,"argument-error"),_i._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Wi.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Wi.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:G,pendingToken:le,nonce:et,providerId:Tt}=g;if(!w&&!G&&!m&&!le||!Tt)return null;try{return new Wi(Tt)._credential({idToken:m,accessToken:w,nonce:et,pendingToken:le})}catch{return null}}}let hi=(()=>{class E extends Gi{constructor(){super("facebook.com")}static credential(m){return _i._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),vi=(()=>{class E extends Gi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return _i._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:G}=m;if(!w&&!G)return null;try{return E.credential(w,G)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),is=(()=>{class E extends Gi{constructor(){super("github.com")}static credential(m){return _i._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class oi extends In{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return Ni(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,Ni(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Ni(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:G,pendingToken:le}=m;return w&&G&&le&&w===G?new oi(w,le):null}static _create(g,m){return new oi(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Si extends ko{constructor(g){_e(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Si.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Si.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=oi.fromJSON(g);return _e(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:w}=g;if(!m||!w)return null;try{return oi._create(w,m)}catch{return null}}}let si=(()=>{class E extends Gi{constructor(){super("twitter.com")}static credential(m,w){return _i._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:G}=m;if(!w||!G)return null;try{return E.credential(w,G)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Vi(E,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,d.Z)(function*(E,g){return zt(E,"POST","/v1/accounts:signUp",Re(E,g))})).apply(this,arguments)}class Ri{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,w,G=!1){return(0,d.Z)(function*(){const le=yield L._fromIdTokenResponse(g,w,G),et=Bi(w);return new Ri({user:le,providerId:et,_tokenResponse:w,operationType:m})})()}static _forOperation(g,m,w){return(0,d.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const G=Bi(w);return new Ri({user:g,providerId:G,_tokenResponse:w,operationType:m})})()}}function Bi(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function Rr(E){return us.apply(this,arguments)}function us(){return(us=(0,d.Z)(function*(E){var g;const m=Sn(E);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new Ri({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Vi(m,{returnSecureToken:!0}),G=yield Ri._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(G.user),G})).apply(this,arguments)}class Lo extends h.ZR{constructor(g,m,w,G){var le;super(m.code,m.message),this.operationType=w,this.user=G,Object.setPrototypeOf(this,Lo.prototype),this.customData={appName:g.name,tenantId:null!==(le=g.tenantId)&&void 0!==le?le:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,m,w,G){return new Lo(g,m,w,G)}}function qo(E,g,m,w){return("reauthenticate"===g?m._getReauthenticationResolver(E):m._getIdTokenResponse(E)).catch(le=>{throw"auth/multi-factor-auth-required"===le.code?Lo._fromErrorAndOperation(E,le,g,w):le})}function ms(E){return new Set(E.map(({providerId:g})=>g).filter(g=>!!g))}function ua(E,g){return v.apply(this,arguments)}function v(){return v=(0,d.Z)(function*(E,g){const m=(0,h.m9)(E);yield V(!0,m,g);const{providerUserInfo:w}=yield function gn(E,g){return wn.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),G=ms(w||[]);return m.providerData=m.providerData.filter(le=>G.has(le.providerId)),G.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),v.apply(this,arguments)}function j(E,g){return y.apply(this,arguments)}function y(){return(y=(0,d.Z)(function*(E,g,m=!1){const w=yield _n(E,g._linkToIdToken(E.auth,yield E.getIdToken()),m);return Ri._forOperation(E,"link",w)})).apply(this,arguments)}function V(E,g,m){return ie.apply(this,arguments)}function ie(){return(ie=(0,d.Z)(function*(E,g,m){yield Jn(g);const G=!1===E?"provider-already-linked":"no-such-provider";_e(ms(g.providerData).has(m)===E,g.auth,G)})).apply(this,arguments)}function wt(E,g){return hn.apply(this,arguments)}function hn(){return(hn=(0,d.Z)(function*(E,g,m=!1){const{auth:w}=E,G="reauthenticate";try{const le=yield _n(E,qo(w,G,g,E),m);_e(le.idToken,w,"internal-error");const et=Nn(le.idToken);_e(et,w,"internal-error");const{sub:Tt}=et;return _e(E.uid===Tt,w,"user-mismatch"),Ri._forOperation(E,G,le)}catch(le){throw"auth/user-not-found"===(null==le?void 0:le.code)&&ge(w,"user-mismatch"),le}})).apply(this,arguments)}function k(E,g){return R.apply(this,arguments)}function R(){return(R=(0,d.Z)(function*(E,g,m=!1){const w="signIn",G=yield qo(E,w,g),le=yield Ri._fromIdTokenResponse(E,w,G);return m||(yield E._updateCurrentUser(le.user)),le})).apply(this,arguments)}function Q(E,g){return U.apply(this,arguments)}function U(){return(U=(0,d.Z)(function*(E,g){return k(Sn(E),g)})).apply(this,arguments)}function he(E,g){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,d.Z)(function*(E,g){const m=(0,h.m9)(E);return yield V(!1,m,g.providerId),j(m,g)})).apply(this,arguments)}function En(E,g){return yr.apply(this,arguments)}function yr(){return(yr=(0,d.Z)(function*(E,g){return wt((0,h.m9)(E),g)})).apply(this,arguments)}function co(){return(co=(0,d.Z)(function*(E,g){return zt(E,"POST","/v1/accounts:signInWithCustomToken",Re(E,g))})).apply(this,arguments)}function Yi(E,g){return ho.apply(this,arguments)}function ho(){return ho=(0,d.Z)(function*(E,g){const m=Sn(E),w=yield function qi(E,g){return co.apply(this,arguments)}(m,{token:g,returnSecureToken:!0}),G=yield Ri._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(G.user),G}),ho.apply(this,arguments)}class os{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?_s._fromServerResponse(g,m):"totpInfo"in m?Pi._fromServerResponse(g,m):ge(g,"internal-error")}}class _s extends os{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new _s(m)}}class Pi extends os{constructor(g){super("totp",g)}static _fromServerResponse(g,m){return new Pi(m)}}function As(E,g,m){var w;_e((null===(w=m.url)||void 0===w?void 0:w.length)>0,E,"invalid-continue-uri"),_e(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(_e(m.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(_e(m.android.packageName.length>0,E,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function ki(E){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,d.Z)(function*(E){const g=Sn(E);g._getPasswordPolicyInternal()&&(yield g._updatePasswordPolicy())})).apply(this,arguments)}function ca(E,g,m){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,d.Z)(function*(E,g,m){const w=Sn(E),G={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};m&&As(w,G,m),yield J(w,G,"getOobCode",xo)})).apply(this,arguments)}function Oa(E,g,m){return cs.apply(this,arguments)}function cs(){return cs=(0,d.Z)(function*(E,g,m){yield Mn((0,h.m9)(E),{oobCode:g,newPassword:m}).catch(function(){var w=(0,d.Z)(function*(G){throw"auth/password-does-not-meet-requirements"===G.code&&ki(E),G});return function(G){return w.apply(this,arguments)}}())}),cs.apply(this,arguments)}function da(E,g){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,d.Z)(function*(E,g){yield function di(E,g){return Ai.apply(this,arguments)}((0,h.m9)(E),{oobCode:g})}),Ko.apply(this,arguments)}function ha(E,g){return fi.apply(this,arguments)}function fi(){return(fi=(0,d.Z)(function*(E,g){const m=(0,h.m9)(E),w=yield Mn(m,{oobCode:g}),G=w.requestType;switch(_e(G,m,"internal-error"),G){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_e(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_e(w.mfaInfo,m,"internal-error");default:_e(w.email,m,"internal-error")}let le=null;return w.mfaInfo&&(le=os._fromServerResponse(Sn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:le},operation:G}})).apply(this,arguments)}function Sl(E,g){return ll.apply(this,arguments)}function ll(){return(ll=(0,d.Z)(function*(E,g){const{data:m}=yield ha((0,h.m9)(E),g);return m.email})).apply(this,arguments)}function ul(E,g,m){return ds.apply(this,arguments)}function ds(){return(ds=(0,d.Z)(function*(E,g,m){const w=Sn(E),et=yield J(w,{returnSecureToken:!0,email:g,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vi).catch(Gt=>{throw"auth/password-does-not-meet-requirements"===Gt.code&&ki(E),Gt}),Tt=yield Ri._fromIdTokenResponse(w,"signIn",et);return yield w._updateCurrentUser(Tt.user),Tt})).apply(this,arguments)}function Ss(E,g,m){return Q((0,h.m9)(E),Hn.credential(g,m)).catch(function(){var w=(0,d.Z)(function*(G){throw"auth/password-does-not-meet-requirements"===G.code&&ki(E),G});return function(G){return w.apply(this,arguments)}}())}function Rl(E,g,m){return cl.apply(this,arguments)}function cl(){return(cl=(0,d.Z)(function*(E,g,m){const w=Sn(E),G={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};(function le(et,Tt){_e(Tt.handleCodeInApp,w,"argument-error"),Tt&&As(w,et,Tt)})(G,m),yield J(w,G,"getOobCode",Oo)})).apply(this,arguments)}function $s(E,g){const m=zi.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function dl(E,g,m){return Do.apply(this,arguments)}function Do(){return(Do=(0,d.Z)(function*(E,g,m){const w=(0,h.m9)(E),G=Hn.credentialWithLink(g,m||ut());return _e(G._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Q(w,G)})).apply(this,arguments)}function uc(){return(uc=(0,d.Z)(function*(E,g){return qe(E,"POST","/v1/accounts:createAuthUri",Re(E,g))})).apply(this,arguments)}function hl(E,g){return Rs.apply(this,arguments)}function Rs(){return Rs=(0,d.Z)(function*(E,g){const w={identifier:g,continueUri:pt()?ut():"http://localhost"},{signinMethods:G}=yield function Pl(E,g){return uc.apply(this,arguments)}((0,h.m9)(E),w);return G||[]}),Rs.apply(this,arguments)}function Na(E,g){return fa.apply(this,arguments)}function fa(){return fa=(0,d.Z)(function*(E,g){const m=(0,h.m9)(E),G={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};g&&As(m.auth,G,g);const{email:le}=yield function ji(E,g){return ns.apply(this,arguments)}(m.auth,G);le!==E.email&&(yield E.reload())}),fa.apply(this,arguments)}function ru(E,g,m){return ka.apply(this,arguments)}function ka(){return ka=(0,d.Z)(function*(E,g,m){const w=(0,h.m9)(E),le={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:g};m&&As(w.auth,le,m);const{email:et}=yield function br(E,g){return un.apply(this,arguments)}(w.auth,le);et!==E.email&&(yield E.reload())}),ka.apply(this,arguments)}function Us(){return(Us=(0,d.Z)(function*(E,g){return qe(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function T(E,g){return $.apply(this,arguments)}function $(){return $=(0,d.Z)(function*(E,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const w=(0,h.m9)(E),le={idToken:yield w.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},et=yield _n(w,function pa(E,g){return Us.apply(this,arguments)}(w.auth,le));w.displayName=et.displayName||null,w.photoURL=et.photoUrl||null;const Tt=w.providerData.find(({providerId:Gt})=>"password"===Gt);Tt&&(Tt.displayName=w.displayName,Tt.photoURL=w.photoURL),yield w._updateTokensIfNecessary(et)}),$.apply(this,arguments)}function Ie(E,g){return de((0,h.m9)(E),g,null)}function F(E,g){return de((0,h.m9)(E),null,g)}function de(E,g,m){return Be.apply(this,arguments)}function Be(){return(Be=(0,d.Z)(function*(E,g,m){const{auth:w}=E,le={idToken:yield E.getIdToken(),returnSecureToken:!0};g&&(le.email=g),m&&(le.password=m);const et=yield _n(E,bi(w,le));yield E._updateTokensIfNecessary(et,!0)})).apply(this,arguments)}class Wt{constructor(g,m,w={}){this.isNewUser=g,this.providerId=m,this.profile=w}}class Zn extends Wt{constructor(g,m,w,G){super(g,m,w),this.username=G}}class mr extends Wt{constructor(g,m){super(g,"facebook.com",m)}}class ar extends Zn{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class zn extends Wt{constructor(g,m){super(g,"google.com",m)}}class ai extends Zn{constructor(g,m,w){super(g,"twitter.com",m,w)}}function kr(E){const{user:g,_tokenResponse:m}=E;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function At(E){var g,m;if(!E)return null;const{providerId:w}=E,G=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},le=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!w&&null!=E&&E.idToken){const et=null===(m=null===(g=Nn(E.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(et)return new Wt(le,"anonymous"!==et&&"custom"!==et?et:null)}if(!w)return null;switch(w){case"facebook.com":return new mr(le,G);case"github.com":return new ar(le,G);case"google.com":return new zn(le,G);case"twitter.com":return new ai(le,G,E.screenName||null);case"custom":case"anonymous":return new Wt(le,null);default:return new Wt(le,w,G)}}(m)}class Ps{constructor(g,m,w){this.type=g,this.credential=m,this.user=w}static _fromIdtoken(g,m){return new Ps("enroll",g,m)}static _fromMfaPendingCredential(g){return new Ps("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,w;if(null!=g&&g.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Ps._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(w=g.multiFactorSession)&&void 0!==w&&w.idToken)return Ps._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Zo{constructor(g,m,w){this.session=g,this.hints=m,this.signInResolver=w}static _fromError(g,m){const w=Sn(g),G=m.customData._serverResponse,le=(G.mfaInfo||[]).map(Tt=>os._fromServerResponse(w,Tt));_e(G.mfaPendingCredential,w,"internal-error");const et=Ps._fromMfaPendingCredential(G.mfaPendingCredential);return new Zo(et,le,function(){var Tt=(0,d.Z)(function*(Gt){const Dn=yield Gt._process(w,et);delete G.mfaInfo,delete G.mfaPendingCredential;const Bn=Object.assign(Object.assign({},G),{idToken:Dn.idToken,refreshToken:Dn.refreshToken});switch(m.operationType){case"signIn":const Lr=yield Ri._fromIdTokenResponse(w,m.operationType,Bn);return yield w._updateCurrentUser(Lr.user),Lr;case"reauthenticate":return _e(m.user,w,"internal-error"),Ri._forOperation(m.user,m.operationType,Bn);default:ge(w,"internal-error")}});return function(Gt){return Tt.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,d.Z)(function*(){return m.signInResolver(g)})()}}function Hs(E,g){var m;const w=(0,h.m9)(E),G=g;return _e(g.customData.operationType,w,"argument-error"),_e(null===(m=G.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Zo._fromError(w,G)}class $o{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>os._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new $o(g)}getSession(){var g=this;return(0,d.Z)(function*(){return Ps._fromIdtoken(yield g.user.getIdToken(),g.user)})()}enroll(g,m){var w=this;return(0,d.Z)(function*(){const G=g,le=yield w.getSession(),et=yield _n(w.user,G._process(w.user.auth,le,m));return yield w.user._updateTokensIfNecessary(et),w.user.reload()})()}unenroll(g){var m=this;return(0,d.Z)(function*(){const w="string"==typeof g?g:g.uid,G=yield m.user.getIdToken();try{const le=yield _n(m.user,function po(E,g){return qe(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Re(E,g))}(m.user.auth,{idToken:G,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:et})=>et!==w),yield m.user._updateTokensIfNecessary(le),yield m.user.reload()}catch(le){throw le}})()}}const Ki=new WeakMap;function Xo(E){const g=(0,h.m9)(E);return Ki.has(g)||Ki.set(g,$o._fromUser(g)),Ki.get(g)}const zs="__sak";class Fa{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(zs,"1"),this.storage.removeItem(zs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ol=(()=>{class E extends Fa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function iu(){const E=(0,h.z$)();return fn(E)||Se(E)}()&&function ln(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=tn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const G=this.storage.getItem(w),le=this.localCache[w];G!==le&&m(w,le,G)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((Tt,Gt,Dn)=>{this.notifyListeners(Tt,Dn)});const G=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Tt=this.storage.getItem(G);if(m.newValue!==Tt)null!==m.newValue?this.storage.setItem(G,m.newValue):this.storage.removeItem(G);else if(this.localCache[G]===m.newValue&&!w)return}const le=()=>{const Tt=this.storage.getItem(G);!w&&this.localCache[G]===Tt||this.notifyListeners(G,Tt)},et=this.storage.getItem(G);!function It(){return(0,h.w1)()&&10===document.documentMode}()||et===m.newValue||m.newValue===m.oldValue?le():setTimeout(le,10)}notifyListeners(m,w){this.localCache[m]=w;const G=this.listeners[m];if(G)for(const le of Array.from(G))le(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,G)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:G}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var G=()=>super._set,le=this;return(0,d.Z)(function*(){yield G().call(le,m,w),le.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,G=this;return(0,d.Z)(function*(){const le=yield w().call(G,m);return G.localCache[m]=JSON.stringify(le),le})()}_remove(m){var w=()=>super._remove,G=this;return(0,d.Z)(function*(){yield w().call(G,m),delete G.localCache[m]})()}}return E.type="LOCAL",E})(),ou=(()=>{class E extends Fa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return E.type="SESSION",E})();let Ws=(()=>{class E{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(le=>le.isListeningto(m));if(w)return w;const G=new E(m);return this.receivers.push(G),G}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,d.Z)(function*(){const G=m,{eventId:le,eventType:et,data:Tt}=G.data,Gt=w.handlersMap[et];if(null==Gt||!Gt.size)return;G.ports[0].postMessage({status:"ack",eventId:le,eventType:et});const Dn=Array.from(Gt).map(function(){var Lr=(0,d.Z)(function*(Qo){return Qo(G.origin,Tt)});return function(Qo){return Lr.apply(this,arguments)}}()),Bn=yield function Cd(E){return Promise.all(E.map(function(){var g=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return g.apply(this,arguments)}}()))}(Dn);G.ports[0].postMessage({status:"done",eventId:le,eventType:et,response:Bn})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function pl(E="",g=10){let m="";for(let w=0;w<g;w++)m+=Math.floor(10*Math.random());return E+m}class su{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,w=50){var G=this;return(0,d.Z)(function*(){const le=typeof MessageChannel<"u"?new MessageChannel:null;if(!le)throw new Error("connection_unavailable");let et,Tt;return new Promise((Gt,Dn)=>{const Bn=pl("",20);le.port1.start();const Lr=setTimeout(()=>{Dn(new Error("unsupported_event"))},w);Tt={messageChannel:le,onMessage(Qo){const Ya=Qo;if(Ya.data.eventId===Bn)switch(Ya.data.status){case"ack":clearTimeout(Lr),et=setTimeout(()=>{Dn(new Error("timeout"))},3e3);break;case"done":clearTimeout(et),Gt(Ya.data.response);break;default:clearTimeout(Lr),clearTimeout(et),Dn(new Error("invalid_response"))}}},G.handlers.add(Tt),le.port1.addEventListener("message",Tt.onMessage),G.target.postMessage({eventType:g,eventId:Bn,data:m},[le.port2])}).finally(()=>{Tt&&G.removeMessageHandler(Tt)})})()}}function oo(){return window}function qs(){return typeof oo().WorkerGlobalScope<"u"&&"function"==typeof oo().importScripts}function Fn(){return(Fn=(0,d.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Mi="firebaseLocalStorageDb",Vt="firebaseLocalStorage",zr="fbase_key";class Zi{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ys(E,g){return E.transaction([Vt],g?"readwrite":"readonly").objectStore(Vt)}function bn(){const E=indexedDB.open(Mi,1);return new Promise((g,m)=>{E.addEventListener("error",()=>{m(E.error)}),E.addEventListener("upgradeneeded",()=>{const w=E.result;try{w.createObjectStore(Vt,{keyPath:zr})}catch(G){m(G)}}),E.addEventListener("success",(0,d.Z)(function*(){const w=E.result;w.objectStoreNames.contains(Vt)?g(w):(w.close(),yield function mn(){const E=indexedDB.deleteDatabase(Mi);return new Zi(E).toPromise()}(),g(yield bn()))}))})}function fc(E,g,m){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,d.Z)(function*(E,g,m){const w=Ys(E,!0).put({[zr]:g,value:m});return new Zi(w).toPromise()})).apply(this,arguments)}function Bt(){return(Bt=(0,d.Z)(function*(E,g){const m=Ys(E,!1).get(g),w=yield new Zi(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Ii(E,g){const m=Ys(E,!0).delete(g);return new Zi(m).toPromise()}const M=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield bn()),m.db})()}_withRetries(m){var w=this;return(0,d.Z)(function*(){let G=0;for(;;)try{const le=yield w._openDb();return yield m(le)}catch(le){if(G++>3)throw le;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return qs()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=Ws._getInstance(function Ms(){return qs()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,d.Z)(function*(G,le){return{keyProcessed:(yield m._poll()).includes(le.key)}});return function(G,le){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,d.Z)(function*(G,le){return["keyChanged"]});return function(G,le){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var w,G;if(m.activeServiceWorker=yield function Ut(){return Fn.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new su(m.activeServiceWorker);const le=yield m.sender._send("ping",{},800);le&&null!==(w=le[0])&&void 0!==w&&w.fulfilled&&null!==(G=le[0])&&void 0!==G&&G.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,d.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function ga(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield bn();return yield fc(m,zs,"1"),yield Ii(m,zs),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,d.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var G=this;return(0,d.Z)(function*(){return G._withPendingWrite((0,d.Z)(function*(){return yield G._withRetries(le=>fc(le,m,w)),G.localCache[m]=w,G.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,d.Z)(function*(){const G=yield w._withRetries(le=>function Et(E,g){return Bt.apply(this,arguments)}(le,m));return w.localCache[m]=G,G})()}_remove(m){var w=this;return(0,d.Z)(function*(){return w._withPendingWrite((0,d.Z)(function*(){return yield w._withRetries(G=>Ii(G,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const w=yield m._withRetries(et=>{const Tt=Ys(et,!1).getAll();return new Zi(Tt).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const G=[],le=new Set;for(const{fbase_key:et,value:Tt}of w)le.add(et),JSON.stringify(m.localCache[et])!==JSON.stringify(Tt)&&(m.notifyListeners(et,Tt),G.push(et));for(const et of Object.keys(m.localCache))m.localCache[et]&&!le.has(et)&&(m.notifyListeners(et,null),G.push(et));return G})()}notifyListeners(m,w){this.localCache[m]=w;const G=this.listeners[m];if(G)for(const le of Array.from(G))le(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),Yt=1e12;class yt{constructor(g){this.auth=g,this.counter=Yt,this._widgets=new Map}render(g,m){const w=this.counter;return this._widgets.set(w,new xt(g,this.auth.name,m||{})),this.counter++,w}reset(g){var m;const w=g||Yt;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Yt))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,d.Z)(function*(){var w;return null===(w=m._widgets.get(g||Yt))||void 0===w||w.execute(),""})()}}class xt{constructor(g,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const G="string"==typeof g?document.getElementById(g):g;_e(G,"argument-error",{appName:m}),this.container=G,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Rn(E){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<E;w++)g.push(m.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Kr=sr("rcb"),hr=new tt(3e4,6e4);class xi{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=oo().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return _e(function lr(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(m),g,"argument-error"),this.shouldResolveImmediately(m)&&an(oo().grecaptcha)?Promise.resolve(oo().grecaptcha):new Promise((w,G)=>{const le=oo().setTimeout(()=>{G(Le(g,"network-request-failed"))},hr.get());oo()[Kr]=()=>{oo().clearTimeout(le),delete oo()[Kr];const Tt=oo().grecaptcha;if(!Tt||!an(Tt))return void G(Le(g,"internal-error"));const Gt=Tt.render;Tt.render=(Dn,Bn)=>{const Lr=Gt(Dn,Bn);return this.counter++,Lr},this.hostLanguage=m,w(Tt)},gr(`https://www.google.com/recaptcha/api.js??${(0,h.xO)({onload:Kr,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(le),G(Le(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=oo().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gl{load(g){return(0,d.Z)(function*(){return new yt(g)})()}clearedOneInstance(){}}const tr="recaptcha",rn={theme:"light",type:"image"};class Zr{constructor(g,m,w=Object.assign({},rn)){this.parameters=w,this.type=tr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Sn(g),this.isInvisible="invisible"===this.parameters.size,_e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const G="string"==typeof m?document.getElementById(m):m;_e(G,this.auth,"argument-error"),this.container=G,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gl:new xi,this.validateStartingState()}verify(){var g=this;return(0,d.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(m)||new Promise(le=>{const et=Tt=>{Tt&&(g.tokenChangeListeners.delete(et),le(Tt))};g.tokenChangeListeners.add(et),g.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){_e(!this.parameters.sitekey,this.auth,"argument-error"),_e(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof g)g(m);else if("string"==typeof g){const w=oo()[g];"function"==typeof w&&w(m)}}}assertNotDestroyed(){_e(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,d.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,d.Z)(function*(){_e(pt()&&!qs(),g.auth,"internal-error"),yield function La(){let E=null;return new Promise(g=>{"complete"!==document.readyState?(E=()=>g(),window.addEventListener("load",E)):g()}).catch(g=>{throw E&&window.removeEventListener("load",E),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function Xt(E){return bt.apply(this,arguments)}(g.auth);_e(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return _e(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ma{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=lo._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function jp(E,g,m){return _a.apply(this,arguments)}function _a(){return(_a=(0,d.Z)(function*(E,g,m){const w=Sn(E),G=yield Uo(w,g,(0,h.m9)(m));return new ma(G,le=>Q(w,le))})).apply(this,arguments)}function Kh(E,g,m){return va.apply(this,arguments)}function va(){return(va=(0,d.Z)(function*(E,g,m){const w=(0,h.m9)(E);yield V(!1,w,"phone");const G=yield Uo(w.auth,g,(0,h.m9)(m));return new ma(G,le=>he(w,le))})).apply(this,arguments)}function au(E,g,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,d.Z)(function*(E,g,m){const w=(0,h.m9)(E),G=yield Uo(w.auth,g,(0,h.m9)(m));return new ma(G,le=>En(w,le))})).apply(this,arguments)}function Uo(E,g,m){return Va.apply(this,arguments)}function Va(){return Va=(0,d.Z)(function*(E,g,m){var w;const G=yield m.verify();try{let le;if(_e("string"==typeof G,E,"argument-error"),_e(m.type===tr,E,"argument-error"),le="string"==typeof g?{phoneNumber:g}:g,"session"in le){const et=le.session;if("phoneNumber"in le)return _e("enroll"===et.type,E,"internal-error"),(yield function So(E,g){return qe(E,"POST","/v2/accounts/mfaEnrollment:start",Re(E,g))}(E,{idToken:et.credential,phoneEnrollmentInfo:{phoneNumber:le.phoneNumber,recaptchaToken:G}})).phoneSessionInfo.sessionInfo;{_e("signin"===et.type,E,"internal-error");const Tt=(null===(w=le.multiFactorHint)||void 0===w?void 0:w.uid)||le.multiFactorUid;return _e(Tt,E,"missing-multi-factor-info"),(yield function C(E,g){return qe(E,"POST","/v2/accounts/mfaSignIn:start",Re(E,g))}(E,{mfaPendingCredential:et.credential,mfaEnrollmentId:Tt,phoneSignInInfo:{recaptchaToken:G}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:et}=yield function xn(E,g){return Eo.apply(this,arguments)}(E,{phoneNumber:le.phoneNumber,recaptchaToken:G});return et}}finally{m._reset()}}),Va.apply(this,arguments)}function lu(E,g){return ml.apply(this,arguments)}function ml(){return(ml=(0,d.Z)(function*(E,g){yield j((0,h.m9)(E),g)})).apply(this,arguments)}let Ks=(()=>{class E{constructor(m){this.providerId=E.PROVIDER_ID,this.auth=Sn(m)}verifyPhoneNumber(m,w){return Uo(this.auth,m,(0,h.m9)(w))}static credential(m,w){return lo._fromVerification(m,w)}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:G}=m;return w&&G?lo._fromTokenResponse(w,G):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Zs(E,g){return g?O(g):(_e(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class ft extends In{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Ni(g,this._buildIdpRequest())}_linkToIdToken(g,m){return Ni(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return Ni(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function pc(E){return k(E.auth,new ft(E),E.bypassAuthState)}function jo(E){const{auth:g,user:m}=E;return _e(m,g,"internal-error"),wt(m,new ft(E),E.bypassAuthState)}function uu(E){return _l.apply(this,arguments)}function _l(){return(_l=(0,d.Z)(function*(E){const{auth:g,user:m}=E;return _e(m,g,"internal-error"),j(m,new ft(E),E.bypassAuthState)})).apply(this,arguments)}class Ba{constructor(g,m,w,G,le=!1){this.auth=g,this.resolver=w,this.user=G,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,d.Z)(function*(w,G){g.pendingPromise={resolve:w,reject:G};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(le){g.reject(le)}});return function(w,G){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,d.Z)(function*(){const{urlResponse:w,sessionId:G,postBody:le,tenantId:et,error:Tt,type:Gt}=g;if(Tt)return void m.reject(Tt);const Dn={auth:m.auth,requestUri:w,sessionId:G,tenantId:et||void 0,postBody:le||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Gt)(Dn))}catch(Bn){m.reject(Bn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return pc;case"linkViaPopup":case"linkViaRedirect":return uu;case"reauthViaPopup":case"reauthViaRedirect":return jo;default:ge(this.auth,"internal-error")}}resolve(g){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Td=new tt(2e3,1e4);function Nl(E,g,m){return gc.apply(this,arguments)}function gc(){return(gc=(0,d.Z)(function*(E,g,m){const w=Sn(E);ze(E,g,ko);const G=Zs(w,m);return new Ns(w,"signInViaPopup",g,G).executeNotNull()})).apply(this,arguments)}function wd(E,g,m){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,d.Z)(function*(E,g,m){const w=(0,h.m9)(E);ze(w.auth,g,ko);const G=Zs(w.auth,m);return new Ns(w.auth,"reauthViaPopup",g,G,w).executeNotNull()})).apply(this,arguments)}function g_(E,g,m){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,d.Z)(function*(E,g,m){const w=(0,h.m9)(E);ze(w.auth,g,ko);const G=Zs(w.auth,m);return new Ns(w.auth,"linkViaPopup",g,G,w).executeNotNull()})).apply(this,arguments)}let Ns=(()=>{class E extends Ba{constructor(m,w,G,le,et){super(m,w,le,et),this.provider=G,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const w=yield m.execute();return _e(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,d.Z)(function*(){Qe(1===m.filter.length,"Popup operations only handle one event");const w=pl();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(G=>{m.reject(G)}),m.resolver._isIframeWebStorageSupported(m.auth,G=>{G||m.reject(Le(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,G;this.pollId=null!==(G=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==G&&G.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Le(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Td.get())};m()}}return E.currentPopupAction=null,E})();const cu="pendingRedirect",Xs=new Map;class Co extends Ba{constructor(g,m,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,d.Z)(function*(){let w=Xs.get(m.auth._key());if(!w){try{const le=(yield function mc(E,g){return bd.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;w=()=>Promise.resolve(le)}catch(G){w=()=>Promise.reject(G)}Xs.set(m.auth._key(),w)}return m.bypassAuthState||Xs.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,w=this;return(0,d.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(w,g);if("unknown"!==g.type){if(g.eventId){const G=yield w.auth._redirectUserForId(g.eventId);if(G)return w.user=G,m().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function bd(){return(bd=(0,d.Z)(function*(E,g){const m=hu(g),w=Xh(E);if(!(yield w._isAvailable()))return!1;const G="true"===(yield w._get(m));return yield w._remove(m),G})).apply(this,arguments)}function fs(E,g){return du.apply(this,arguments)}function du(){return(du=(0,d.Z)(function*(E,g){return Xh(E)._set(hu(g),"true")})).apply(this,arguments)}function _c(){Xs.clear()}function vs(E,g){Xs.set(E._key(),g)}function Xh(E){return O(E._redirectPersistence)}function hu(E){return ct(cu,E.config.apiKey,E.name)}function Ad(E,g,m){return function Qh(E,g,m){return kl.apply(this,arguments)}(E,g,m)}function kl(){return(kl=(0,d.Z)(function*(E,g,m){const w=Sn(E);ze(E,g,ko),yield w._initializationPromise;const G=Zs(w,m);return yield fs(G,w),G._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function Sd(E,g,m){return function Hp(E,g,m){return vc.apply(this,arguments)}(E,g,m)}function vc(){return(vc=(0,d.Z)(function*(E,g,m){const w=(0,h.m9)(E);ze(w.auth,g,ko),yield w.auth._initializationPromise;const G=Zs(w.auth,m);yield fs(G,w.auth);const le=yield Ec(w);return G._openRedirect(w.auth,g,"reauthViaRedirect",le)})).apply(this,arguments)}function Jh(E,g,m){return function ef(E,g,m){return yc.apply(this,arguments)}(E,g,m)}function yc(){return(yc=(0,d.Z)(function*(E,g,m){const w=(0,h.m9)(E);ze(w.auth,g,ko),yield w.auth._initializationPromise;const G=Zs(w.auth,m);yield V(!1,w,g.providerId),yield fs(G,w.auth);const le=yield Ec(w);return G._openRedirect(w.auth,g,"linkViaRedirect",le)})).apply(this,arguments)}function zp(E,g){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,d.Z)(function*(E,g){return yield Sn(E)._initializationPromise,ya(E,g,!1)})).apply(this,arguments)}function ya(E,g){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,d.Z)(function*(E,g,m=!1){const w=Sn(E),G=Zs(w,g),et=yield new Co(w,G,m).execute();return et&&!m&&(delete et.user._redirectEventId,yield w._persistUserIfCurrent(et.user),yield w._setRedirectUser(null,g)),et})).apply(this,arguments)}function Ec(E){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,d.Z)(function*(E){const g=pl(`${E.uid}:::`);return E._redirectEventId=g,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),g})).apply(this,arguments)}class Pd{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(m=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function go(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dc(E);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var w;if(g.error&&!Dc(g)){const G=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Le(this.auth,G))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const w=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ho(g))}saveEventToCache(g){this.cachedEventUids.add(Ho(g)),this.lastProcessedEventTime=Date.now()}}function Ho(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(g=>g).join("-")}function Dc({type:E,error:g}){return"unknown"===E&&"auth/no-auth-event"===(null==g?void 0:g.code)}function fu(E){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,d.Z)(function*(E,g={}){return qe(E,"GET","/v1/projects",g)})).apply(this,arguments)}const Md=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pi=/^https?/;function Fi(){return(Fi=(0,d.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:g}=yield fu(E);for(const m of g)try{if(Gr(m))return}catch{}ge(E,"unauthorized-domain")})).apply(this,arguments)}function Gr(E){const g=ut(),{protocol:m,hostname:w}=new URL(g);if(E.startsWith("chrome-extension://")){const et=new URL(E);return""===et.hostname&&""===w?"chrome-extension:"===m&&E.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&et.hostname===w}if(!pi.test(m))return!1;if(Md.test(E))return w===E;const G=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(w)}const xd=new tt(3e4,6e4);function Ia(){const E=oo().___jsl;if(null!=E&&E.H)for(const g of Object.keys(E.H))if(E.H[g].r=E.H[g].r||[],E.H[g].L=E.H[g].L||[],E.H[g].r=[...E.H[g].L],E.CP)for(let m=0;m<E.CP.length;m++)E.CP[m]=null}let Cc=null;const To=new tt(5e3,15e3),m_="__/auth/iframe",vl="emulator/auth/iframe",so={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$a=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Od(E){const g=E.config;_e(g.authDomain,E,"auth-domain-config-required");const m=g.emulator?Ue(g,vl):`https://${E.config.authDomain}/${m_}`,w={apiKey:g.apiKey,appName:E.name,v:Y.SDK_VERSION},G=$a.get(E.config.apiHost);G&&(w.eid=G);const le=E._getFrameworks();return le.length&&(w.fw=le.join(",")),`${m}?${(0,h.xO)(w).slice(1)}`}function yl(){return yl=(0,d.Z)(function*(E){const g=yield function Gp(E){return Cc=Cc||function mo(E){return new Promise((g,m)=>{var w,G,le;function et(){Ia(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Ia(),m(Le(E,"network-request-failed"))},timeout:xd.get()})}if(null!==(G=null===(w=oo().gapi)||void 0===w?void 0:w.iframes)&&void 0!==G&&G.Iframe)g(gapi.iframes.getContext());else{if(null===(le=oo().gapi)||void 0===le||!le.load){const Tt=sr("iframefcb");return oo()[Tt]=()=>{gapi.load?et():m(Le(E,"network-request-failed"))},gr(`https://apis.google.com/js/api.js?onload=${Tt}`).catch(Gt=>m(Gt))}et()}}).catch(g=>{throw Cc=null,g})}(E),Cc}(E),m=oo().gapi;return _e(m,E,"internal-error"),g.open({where:document.body,url:Od(E),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:so,dontclear:!0},w=>new Promise(function(){var G=(0,d.Z)(function*(le,et){yield w.restyle({setHideOnLeave:!1});const Tt=Le(E,"network-request-failed"),Gt=oo().setTimeout(()=>{et(Tt)},To.get());function Dn(){oo().clearTimeout(Gt),le(w)}w.ping(Dn).then(Dn,()=>{et(Tt)})});return function(le,et){return G.apply(this,arguments)}}()))}),yl.apply(this,arguments)}const Wp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xi{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const pu="__/auth/handler",ea="emulator/auth/handler",Nd=encodeURIComponent("fac");function gu(E,g,m,w,G,le){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,d.Z)(function*(E,g,m,w,G,le){_e(E.config.authDomain,E,"auth-domain-config-required"),_e(E.config.apiKey,E,"invalid-api-key");const et={apiKey:E.config.apiKey,appName:E.name,authType:m,redirectUrl:w,v:Y.SDK_VERSION,eventId:G};if(g instanceof ko){g.setDefaultLanguage(E.languageCode),et.providerId=g.providerId||"",(0,h.xb)(g.getCustomParameters())||(et.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Bn,Lr]of Object.entries(le||{}))et[Bn]=Lr}if(g instanceof Gi){const Bn=g.getScopes().filter(Lr=>""!==Lr);Bn.length>0&&(et.scopes=Bn.join(","))}E.tenantId&&(et.tid=E.tenantId);const Tt=et;for(const Bn of Object.keys(Tt))void 0===Tt[Bn]&&delete Tt[Bn];const Gt=yield E._getAppCheckToken(),Dn=Gt?`#${Nd}=${encodeURIComponent(Gt)}`:"";return`${function tf({config:E}){return E.emulator?Ue(E,ea):`https://${E.authDomain}/${pu}`}(E)}?${(0,h.xO)(Tt).slice(1)}${Dn}`})).apply(this,arguments)}const _o="webStorageSupport",za=class Tc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ou,this._completeRedirectFn=ya,this._overrideRedirectResult=vs}_openPopup(g,m,w,G){var le=this;return(0,d.Z)(function*(){var et;Qe(null===(et=le.eventManagers[g._key()])||void 0===et?void 0:et.manager,"_initialize() not called before _openPopup()");const Tt=yield gu(g,m,w,ut(),G);return function Js(E,g,m,w=500,G=600){const le=Math.max((window.screen.availHeight-G)/2,0).toString(),et=Math.max((window.screen.availWidth-w)/2,0).toString();let Tt="";const Gt=Object.assign(Object.assign({},Wp),{width:w.toString(),height:G.toString(),top:le,left:et}),Dn=(0,h.z$)().toLowerCase();m&&(Tt=Ln(Dn)?"_blank":m),yn(Dn)&&(g=g||"http://localhost",Gt.scrollbars="yes");const Bn=Object.entries(Gt).reduce((Qo,[Ya,Ka])=>`${Qo}${Ya}=${Ka},`,"");if(function Pt(E=(0,h.z$)()){var g;return Se(E)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Dn)&&"_self"!==Tt)return function Ca(E,g){const m=document.createElement("a");m.href=E,m.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(g||"",Tt),new Xi(null);const Lr=window.open(g||"",Tt,Bn);_e(Lr,E,"popup-blocked");try{Lr.focus()}catch{}return new Xi(Lr)}(g,Tt,pl())})()}_openRedirect(g,m,w,G){var le=this;return(0,d.Z)(function*(){return yield le._originValidation(g),function Yh(E){oo().location.href=E}(yield gu(g,m,w,ut(),G)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:G,promise:le}=this.eventManagers[m];return G?Promise.resolve(G):(Qe(le,"If manager is not set, promise should be"),le)}const w=this.initAndGetManager(g);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(g){var m=this;return(0,d.Z)(function*(){const w=yield function Da(E){return yl.apply(this,arguments)}(g),G=new Pd(g);return w.register("authEvent",le=>(_e(null==le?void 0:le.authEvent,g,"invalid-auth-event"),{status:G.onEvent(le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:G},m.iframes[g._key()]=w,G})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(_o,{type:_o},G=>{var le;const et=null===(le=null==G?void 0:G[0])||void 0===le?void 0:le[_o];void 0!==et&&m(!!et),ge(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ea(E){return Fi.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return tn()||fn()||Se()}};class kd{constructor(g){this.factorId=g}_process(g,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,w);case"signin":return this._finalizeSignIn(g,m.credential);default:return lt("unexpected MultiFactorSessionType")}}}class Ga extends kd{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ga(g)}_finalizeEnroll(g,m,w){return function fl(E,g){return qe(E,"POST","/v2/accounts/mfaEnrollment:finalize",Re(E,g))}(g,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function N(E,g){return qe(E,"POST","/v2/accounts/mfaSignIn:finalize",Re(E,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let nf=(()=>{class E{constructor(){}static assertion(m){return Ga._fromCredential(m)}}return E.FACTOR_ID="phone",E})();var wo="@firebase/auth";class gi{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(w=>{g((null==w?void 0:w.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);m&&(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const qa=(0,h.Pz)("authIdTokenMaxAge")||300;let sf=null;const Vd=E=>function(){var g=(0,d.Z)(function*(m){const w=m&&(yield m.getIdTokenResult()),G=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(G&&G>qa)return;const le=null==w?void 0:w.token;sf!==le&&(sf=le,yield fetch(E,{method:le?"POST":"DELETE",headers:le?{Authorization:`Bearer ${le}`}:{}}))});return function(m){return g.apply(this,arguments)}}();function Pr(E=(0,Y.getApp)()){const g=(0,Y._getProvider)(E,"auth");if(g.isInitialized())return g.getImmediate();const m=function ht(E,g){const m=(0,Y._getProvider)(E,"auth");if(m.isInitialized()){const G=m.getImmediate(),le=m.getOptions();if((0,h.vZ)(le,null!=g?g:{}))return G;ge(G,"already-initialized")}return m.initialize({options:g})}(E,{popupRedirectResolver:za,persistence:[M,Ol,ou]}),w=(0,h.Pz)("authTokenSyncURL");if(w){const le=Vd(w);(function ro(E,g,m){(0,h.m9)(E).beforeAuthStateChanged(g,m)})(m,le,()=>le(m.currentUser)),function Vo(E,g,m,w){(0,h.m9)(E).onIdTokenChanged(g,m,w)}(m,et=>le(et))}const G=(0,h.q4)("auth");return G&&Dt(m,`http://${G}`),m}!function vu(E){(0,Y._registerComponent)(new te.wA("auth",(g,{options:m})=>{const w=g.getProvider("app").getImmediate(),G=g.getProvider("heartbeat"),le=g.getProvider("app-check-internal"),{apiKey:et,authDomain:Tt}=w.options;_e(et&&!et.includes(":"),"invalid-api-key",{appName:w.name});const Gt={apiKey:et,authDomain:Tt,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qn(E)},Dn=new pr(w,G,le,Gt);return function ot(E,g){const m=(null==g?void 0:g.persistence)||[],w=(Array.isArray(m)?m:[m]).map(O);null!=g&&g.errorMap&&E._updateErrorMap(g.errorMap),E._initializeWithPersistence(w,null==g?void 0:g.popupRedirectResolver)}(Dn,m),Dn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,w)=>{g.getProvider("auth-internal").initialize()})),(0,Y._registerComponent)(new te.wA("auth-internal",g=>{const m=Sn(g.getProvider("auth").getImmediate());return new gi(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Y.registerVersion)(wo,"1.3.2",function Wa(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,Y.registerVersion)(wo,"1.3.2","esm2017")}("Browser")},9058:(Ht,Ke,x)=>{"use strict";x.d(Ke,{BH:()=>Pe,G6:()=>Ue,L:()=>Oe,LL:()=>nt,P0:()=>it,Pz:()=>Le,Sg:()=>ze,UG:()=>lt,ZB:()=>De,ZR:()=>qe,aH:()=>ge,b$:()=>pt,eu:()=>oe,hl:()=>ee,jU:()=>Qe,m9:()=>vr,ne:()=>Wn,pd:()=>wn,q4:()=>Xe,r3:()=>vt,ru:()=>ut,tV:()=>re,uI:()=>_e,vZ:()=>On,w1:()=>Te,xO:()=>Qn,xb:()=>Xt,z$:()=>ke,zd:()=>gn});const ae=function(Ve){const K=[];let L=0;for(let z=0;z<Ve.length;z++){let O=Ve.charCodeAt(z);O<128?K[L++]=O:O<2048?(K[L++]=O>>6|192,K[L++]=63&O|128):55296==(64512&O)&&z+1<Ve.length&&56320==(64512&Ve.charCodeAt(z+1))?(O=65536+((1023&O)<<10)+(1023&Ve.charCodeAt(++z)),K[L++]=O>>18|240,K[L++]=O>>12&63|128,K[L++]=O>>6&63|128,K[L++]=63&O|128):(K[L++]=O>>12|224,K[L++]=O>>6&63|128,K[L++]=63&O|128)}return K},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ve,K){if(!Array.isArray(Ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=K?this.byteToCharMapWebSafe_:this.byteToCharMap_,z=[];for(let O=0;O<Ve.length;O+=3){const se=Ve[O],We=O+1<Ve.length,ct=We?Ve[O+1]:0,jt=O+2<Ve.length,kt=jt?Ve[O+2]:0;let Ln=(15&ct)<<2|kt>>6,je=63&kt;jt||(je=64,We||(Ln=64)),z.push(L[se>>2],L[(3&se)<<4|ct>>4],L[Ln],L[je])}return z.join("")},encodeString(Ve,K){return this.HAS_NATIVE_SUPPORT&&!K?btoa(Ve):this.encodeByteArray(ae(Ve),K)},decodeString(Ve,K){return this.HAS_NATIVE_SUPPORT&&!K?atob(Ve):function(Ve){const K=[];let L=0,z=0;for(;L<Ve.length;){const O=Ve[L++];if(O<128)K[z++]=String.fromCharCode(O);else if(O>191&&O<224){const se=Ve[L++];K[z++]=String.fromCharCode((31&O)<<6|63&se)}else if(O>239&&O<365){const jt=((7&O)<<18|(63&Ve[L++])<<12|(63&Ve[L++])<<6|63&Ve[L++])-65536;K[z++]=String.fromCharCode(55296+(jt>>10)),K[z++]=String.fromCharCode(56320+(1023&jt))}else{const se=Ve[L++],We=Ve[L++];K[z++]=String.fromCharCode((15&O)<<12|(63&se)<<6|63&We)}}return K.join("")}(this.decodeStringToByteArray(Ve,K))},decodeStringToByteArray(Ve,K){this.init_();const L=K?this.charToByteMapWebSafe_:this.charToByteMap_,z=[];for(let O=0;O<Ve.length;){const se=L[Ve.charAt(O++)],ct=O<Ve.length?L[Ve.charAt(O)]:0;++O;const kt=O<Ve.length?L[Ve.charAt(O)]:64;++O;const fn=O<Ve.length?L[Ve.charAt(O)]:64;if(++O,null==se||null==ct||null==kt||null==fn)throw new ne;z.push(se<<2|ct>>4),64!==kt&&(z.push(ct<<4&240|kt>>2),64!==fn&&z.push(kt<<6&192|fn))}return z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ve=0;Ve<this.ENCODED_VALS.length;Ve++)this.byteToCharMap_[Ve]=this.ENCODED_VALS.charAt(Ve),this.charToByteMap_[this.byteToCharMap_[Ve]]=Ve,this.byteToCharMapWebSafe_[Ve]=this.ENCODED_VALS_WEBSAFE.charAt(Ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ve]]=Ve,Ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ve)]=Ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ve)]=Ve)}}};class ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oe=function(Ve){return function(Ve){const K=ae(Ve);return te.encodeByteArray(K,!0)}(Ve).replace(/\./g,"")},re=function(Ve){try{return te.decodeString(Ve,!0)}catch(K){console.error("base64Decode failed: ",K)}return null};function De(Ve,K){if(!(K instanceof Object))return K;switch(K.constructor){case Date:return new Date(K.getTime());case Object:void 0===Ve&&(Ve={});break;case Array:Ve=[];break;default:return K}for(const L in K)!K.hasOwnProperty(L)||!Ce(L)||(Ve[L]=De(Ve[L],K[L]));return Ve}function Ce(Ve){return"__proto__"!==Ve}const fe=()=>{try{return function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ve=process.env.__FIREBASE_DEFAULTS__;return Ve?JSON.parse(Ve):void 0})()||(()=>{if(typeof document>"u")return;let Ve;try{Ve=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const K=Ve&&re(Ve[1]);return K&&JSON.parse(K)})()}catch(Ve){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ve}`)}},Xe=Ve=>{var K,L;return null===(L=null===(K=fe())||void 0===K?void 0:K.emulatorHosts)||void 0===L?void 0:L[Ve]},it=Ve=>{const K=Xe(Ve);if(!K)return;const L=K.lastIndexOf(":");if(L<=0||L+1===K.length)throw new Error(`Invalid host ${K} with no separate hostname and port!`);const z=parseInt(K.substring(L+1),10);return"["===K[0]?[K.substring(1,L-1),z]:[K.substring(0,L),z]},ge=()=>{var Ve;return null===(Ve=fe())||void 0===Ve?void 0:Ve.config},Le=Ve=>{var K;return null===(K=fe())||void 0===K?void 0:K[`_${Ve}`]};class Pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((K,L)=>{this.resolve=K,this.reject=L})}wrapCallback(K){return(L,z)=>{L?this.reject(L):this.resolve(z),"function"==typeof K&&(this.promise.catch(()=>{}),1===K.length?K(L):K(L,z))}}}function ze(Ve,K){if(Ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const z=K||"demo-project",O=Ve.iat||0,se=Ve.sub||Ve.user_id;if(!se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${z}`,aud:z,iat:O,exp:O+3600,auth_time:O,sub:se,user_id:se,firebase:{sign_in_provider:"custom",identities:{}}},Ve);return[Oe(JSON.stringify({alg:"none",type:"JWT"})),Oe(JSON.stringify(We)),""].join(".")}function ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function lt(){var Ve;const K=null===(Ve=fe())||void 0===Ve?void 0:Ve.forceEnvironment;if("node"===K)return!0;if("browser"===K)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Qe(){return"object"==typeof self&&self.self===self}function ut(){const Ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ve&&void 0!==Ve.id}function pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Te(){const Ve=ke();return Ve.indexOf("MSIE ")>=0||Ve.indexOf("Trident/")>=0}function Ue(){return!lt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ee(){try{return"object"==typeof indexedDB}catch{return!1}}function oe(){return new Promise((Ve,K)=>{try{let L=!0;const z="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(z);O.onsuccess=()=>{O.result.close(),L||self.indexedDB.deleteDatabase(z),Ve(!0)},O.onupgradeneeded=()=>{L=!1},O.onerror=()=>{var se;K((null===(se=O.error)||void 0===se?void 0:se.message)||"")}}catch(L){K(L)}})}class qe extends Error{constructor(K,L,z){super(L),this.code=K,this.customData=z,this.name="FirebaseError",Object.setPrototypeOf(this,qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nt.prototype.create)}}class nt{constructor(K,L,z){this.service=K,this.serviceName=L,this.errors=z}create(K,...L){const z=L[0]||{},O=`${this.service}/${K}`,se=this.errors[K],We=se?function St(Ve,K){return Ve.replace(Ct,(L,z)=>{const O=K[z];return null!=O?String(O):`<${z}?>`})}(se,z):"Error";return new qe(O,`${this.serviceName}: ${We} (${O}).`,z)}}const Ct=/\{\$([^}]+)}/g;function vt(Ve,K){return Object.prototype.hasOwnProperty.call(Ve,K)}function Xt(Ve){for(const K in Ve)if(Object.prototype.hasOwnProperty.call(Ve,K))return!1;return!0}function On(Ve,K){if(Ve===K)return!0;const L=Object.keys(Ve),z=Object.keys(K);for(const O of L){if(!z.includes(O))return!1;const se=Ve[O],We=K[O];if(Tn(se)&&Tn(We)){if(!On(se,We))return!1}else if(se!==We)return!1}for(const O of z)if(!L.includes(O))return!1;return!0}function Tn(Ve){return null!==Ve&&"object"==typeof Ve}function Qn(Ve){const K=[];for(const[L,z]of Object.entries(Ve))Array.isArray(z)?z.forEach(O=>{K.push(encodeURIComponent(L)+"="+encodeURIComponent(O))}):K.push(encodeURIComponent(L)+"="+encodeURIComponent(z));return K.length?"&"+K.join("&"):""}function gn(Ve){const K={};return Ve.replace(/^\?/,"").split("&").forEach(z=>{if(z){const[O,se]=z.split("=");K[decodeURIComponent(O)]=decodeURIComponent(se)}}),K}function wn(Ve){const K=Ve.indexOf("?");if(!K)return"";const L=Ve.indexOf("#",K);return Ve.substring(K,L>0?L:void 0)}function Wn(Ve,K){const L=new kn(Ve,K);return L.subscribe.bind(L)}class kn{constructor(K,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{K(this)}).catch(z=>{this.error(z)})}next(K){this.forEachObserver(L=>{L.next(K)})}error(K){this.forEachObserver(L=>{L.error(K)}),this.close(K)}complete(){this.forEachObserver(K=>{K.complete()}),this.close()}subscribe(K,L,z){let O;if(void 0===K&&void 0===L&&void 0===z)throw new Error("Missing Observer.");O=function en(Ve,K){if("object"!=typeof Ve||null===Ve)return!1;for(const L of K)if(L in Ve&&"function"==typeof Ve[L])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:L,complete:z},void 0===O.next&&(O.next=Xn),void 0===O.error&&(O.error=Xn),void 0===O.complete&&(O.complete=Xn);const se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),se}unsubscribeOne(K){void 0===this.observers||void 0===this.observers[K]||(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,K)}sendOne(K,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{L(this.observers[K])}catch(z){typeof console<"u"&&console.error&&console.error(z)}})}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xn(){}function vr(Ve){return Ve&&Ve._delegate?Ve._delegate:Ve}},1774:(Ht,Ke,x)=>{"use strict";x.d(Ke,{c:()=>He});var d=x(6225),h=x(839);let Y;const Ee=Fe=>Fe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),te=Fe=>(void 0===Y&&(Y=void 0===Fe.style.animationName&&void 0!==Fe.style.webkitAnimationName?"-webkit-":""),Y),ne=(Fe,fe,Xe)=>{const it=fe.startsWith("animation")?te(Fe):"";Fe.style.setProperty(it+fe,Xe)},$e=(Fe,fe)=>{const Xe=fe.startsWith("animation")?te(Fe):"";Fe.style.removeProperty(Xe+fe)},ue=[],xe=(Fe=[],fe)=>{if(void 0!==fe){const Xe=Array.isArray(fe)?fe:[fe];return[...Fe,...Xe]}return Fe},He=Fe=>{let fe,Xe,it,ge,Le,Pe,Qe,ee,oe,be,Re,Ct,zt,ze=[],ke=[],_e=[],lt=!1,ut={},pt=[],Ae=[],Te={},at=0,tt=!1,Ue=!1,qe=!0,nt=!1,St=!0,Je=!1;const mt=Fe,_t=[],Ot=[],qt=[],an=[],vt=[],Zt=[],Xt=[],bt=[],On=[],Tn=[],Sr="function"==typeof AnimationEffect||void 0!==d.w&&"function"==typeof d.w.AnimationEffect,Qn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Sr,wn=()=>Tn,en=(q,ve)=>((null!=ve&&ve.oneTimeCallback?Ot:_t).push({c:q,o:ve}),zt),Fr=()=>{if(Qn)Tn.forEach(q=>{q.cancel()}),Tn.length=0;else{const q=qt.slice();(0,h.r)(()=>{q.forEach(ve=>{$e(ve,"animation-name"),$e(ve,"animation-duration"),$e(ve,"animation-timing-function"),$e(ve,"animation-iteration-count"),$e(ve,"animation-delay"),$e(ve,"animation-play-state"),$e(ve,"animation-fill-mode"),$e(ve,"animation-direction")})})}},Nn=()=>{vt.forEach(q=>{null!=q&&q.parentNode&&q.parentNode.removeChild(q)}),vt.length=0},xr=()=>void 0!==Le?Le:Qe?Qe.getFill():"both",vr=()=>void 0!==oe?oe:void 0!==Pe?Pe:Qe?Qe.getDirection():"normal",Ve=()=>tt?"linear":void 0!==it?it:Qe?Qe.getEasing():"linear",K=()=>Ue?0:void 0!==be?be:void 0!==Xe?Xe:Qe?Qe.getDuration():0,L=()=>void 0!==ge?ge:Qe?Qe.getIterations():1,z=()=>void 0!==Re?Re:void 0!==fe?fe:Qe?Qe.getDelay():0,Ye=()=>{0!==at&&(at--,0===at&&((()=>{Ti(),bt.forEach(ot=>ot()),On.forEach(ot=>ot());const q=qe?1:0,ve=pt,Ne=Ae,ht=Te;qt.forEach(ot=>{const Dt=ot.classList;ve.forEach(Lt=>Dt.add(Lt)),Ne.forEach(Lt=>Dt.remove(Lt));for(const Lt in ht)ht.hasOwnProperty(Lt)&&ne(ot,Lt,ht[Lt])}),_t.forEach(ot=>ot.c(q,zt)),Ot.forEach(ot=>ot.c(q,zt)),Ot.length=0,St=!0,qe&&(nt=!0),qe=!0})(),Qe&&Qe.animationFinish()))},Pt=(q=!0)=>{Nn();const ve=(Fe=>(Fe.forEach(fe=>{for(const Xe in fe)if(fe.hasOwnProperty(Xe)){const it=fe[Xe];if("easing"===Xe)fe["animation-timing-function"]=it,delete fe[Xe];else{const ge=Ee(Xe);ge!==Xe&&(fe[ge]=it,delete fe[Xe])}}}),Fe))(ze);qt.forEach(Ne=>{if(ve.length>0){const ht=((Fe=[])=>Fe.map(fe=>{const Xe=fe.offset,it=[];for(const ge in fe)fe.hasOwnProperty(ge)&&"offset"!==ge&&it.push(`${ge}: ${fe[ge]};`);return`${100*Xe}% { ${it.join(" ")} }`}).join(" "))(ve);Ct=void 0!==Fe?Fe:(Fe=>{let fe=ue.indexOf(Fe);return fe<0&&(fe=ue.push(Fe)-1),`ion-animation-${fe}`})(ht);const ot=((Fe,fe,Xe)=>{var it;const ge=(Fe=>{const fe=void 0!==Fe.getRootNode?Fe.getRootNode():Fe;return fe.head||fe})(Xe),Le=te(Xe),Pe=ge.querySelector("#"+Fe);if(Pe)return Pe;const ze=(null!==(it=Xe.ownerDocument)&&void 0!==it?it:document).createElement("style");return ze.id=Fe,ze.textContent=`@${Le}keyframes ${Fe} { ${fe} } @${Le}keyframes ${Fe}-alt { ${fe} }`,ge.appendChild(ze),ze})(Ct,ht,Ne);vt.push(ot),ne(Ne,"animation-duration",`${K()}ms`),ne(Ne,"animation-timing-function",Ve()),ne(Ne,"animation-delay",`${z()}ms`),ne(Ne,"animation-fill-mode",xr()),ne(Ne,"animation-direction",vr());const Dt=L()===1/0?"infinite":L().toString();ne(Ne,"animation-iteration-count",Dt),ne(Ne,"animation-play-state","paused"),q&&ne(Ne,"animation-name",`${ot.id}-alt`),(0,h.r)(()=>{ne(Ne,"animation-name",ot.id||null)})}})},tn=(q=!0)=>{(()=>{Zt.forEach(ht=>ht()),Xt.forEach(ht=>ht());const q=ke,ve=_e,Ne=ut;qt.forEach(ht=>{const ot=ht.classList;q.forEach(Dt=>ot.add(Dt)),ve.forEach(Dt=>ot.remove(Dt));for(const Dt in Ne)Ne.hasOwnProperty(Dt)&&ne(ht,Dt,Ne[Dt])})})(),ze.length>0&&(Qn?(qt.forEach(q=>{const ve=q.animate(ze,{id:mt,delay:z(),duration:K(),easing:Ve(),iterations:L(),fill:xr(),direction:vr()});ve.pause(),Tn.push(ve)}),Tn.length>0&&(Tn[0].onfinish=()=>{Ye()})):Pt(q)),lt=!0},ln=q=>{if(q=Math.min(Math.max(q,0),.9999),Qn)Tn.forEach(ve=>{ve.currentTime=ve.effect.getComputedTiming().delay+K()*q,ve.pause()});else{const ve=`-${K()*q}ms`;qt.forEach(Ne=>{ze.length>0&&(ne(Ne,"animation-delay",ve),ne(Ne,"animation-play-state","paused"))})}},qn=q=>{Tn.forEach(ve=>{ve.effect.updateTiming({delay:z(),duration:K(),easing:Ve(),iterations:L(),fill:xr(),direction:vr()})}),void 0!==q&&ln(q)},er=(q=!0,ve)=>{(0,h.r)(()=>{qt.forEach(Ne=>{ne(Ne,"animation-name",Ct||null),ne(Ne,"animation-duration",`${K()}ms`),ne(Ne,"animation-timing-function",Ve()),ne(Ne,"animation-delay",void 0!==ve?`-${ve*K()}ms`:`${z()}ms`),ne(Ne,"animation-fill-mode",xr()||null),ne(Ne,"animation-direction",vr()||null);const ht=L()===1/0?"infinite":L().toString();ne(Ne,"animation-iteration-count",ht),q&&ne(Ne,"animation-name",`${Ct}-alt`),(0,h.r)(()=>{ne(Ne,"animation-name",Ct||null)})})})},Gn=(q=!1,ve=!0,Ne)=>(q&&an.forEach(ht=>{ht.update(q,ve,Ne)}),Qn?qn(Ne):er(ve,Ne),zt),pr=()=>{lt&&(Qn?Tn.forEach(q=>{q.pause()}):qt.forEach(q=>{ne(q,"animation-play-state","paused")}),Je=!0)},mi=()=>{ee=void 0,Ye()},Ti=()=>{ee&&clearTimeout(ee)},Ei=q=>new Promise(ve=>{null!=q&&q.sync&&(Ue=!0,en(()=>Ue=!1,{oneTimeCallback:!0})),lt||tn(),nt&&(Qn?(ln(0),qn()):er(),nt=!1),St&&(at=an.length+1,St=!1),en(()=>ve(),{oneTimeCallback:!0}),an.forEach(Ne=>{Ne.play()}),Qn?(Tn.forEach(q=>{q.play()}),(0===ze.length||0===qt.length)&&Ye()):(()=>{if(Ti(),(0,h.r)(()=>{qt.forEach(q=>{ze.length>0&&ne(q,"animation-play-state","running")})}),0===ze.length||0===qt.length)Ye();else{const q=z()||0,ve=K()||0,Ne=L()||1;isFinite(Ne)&&(ee=setTimeout(mi,q+ve*Ne+100)),((Fe,fe)=>{let Xe;const it={passive:!0},Le=Pe=>{Fe===Pe.target&&(Xe&&Xe(),Ti(),(0,h.r)(()=>{qt.forEach(q=>{$e(q,"animation-duration"),$e(q,"animation-delay"),$e(q,"animation-play-state")}),(0,h.r)(Ye)}))};Fe&&(Fe.addEventListener("webkitAnimationEnd",Le,it),Fe.addEventListener("animationend",Le,it),Xe=()=>{Fe.removeEventListener("webkitAnimationEnd",Le,it),Fe.removeEventListener("animationend",Le,it)})})(qt[0])}})(),Je=!1}),$r=(q,ve)=>{const Ne=ze[0];return void 0===Ne||void 0!==Ne.offset&&0!==Ne.offset?ze=[{offset:0,[q]:ve},...ze]:Ne[q]=ve,zt};return zt={parentAnimation:Qe,elements:qt,childAnimations:an,id:mt,animationFinish:Ye,from:$r,to:(q,ve)=>{const Ne=ze[ze.length-1];return void 0===Ne||void 0!==Ne.offset&&1!==Ne.offset?ze=[...ze,{offset:1,[q]:ve}]:Ne[q]=ve,zt},fromTo:(q,ve,Ne)=>$r(q,ve).to(q,Ne),parent:q=>(Qe=q,zt),play:Ei,pause:()=>(an.forEach(q=>{q.pause()}),pr(),zt),stop:()=>{an.forEach(q=>{q.stop()}),lt&&(Fr(),lt=!1),tt=!1,Ue=!1,St=!0,oe=void 0,be=void 0,Re=void 0,at=0,nt=!1,qe=!0,Je=!1},destroy:q=>(an.forEach(ve=>{ve.destroy(q)}),(q=>{Fr(),q&&Nn()})(q),qt.length=0,an.length=0,ze.length=0,_t.length=0,Ot.length=0,lt=!1,St=!0,zt),keyframes:q=>{const ve=ze!==q;return ze=q,ve&&(q=>{Qn?wn().forEach(ve=>{if(ve.effect.setKeyframes)ve.effect.setKeyframes(q);else{const Ne=new KeyframeEffect(ve.effect.target,q,ve.effect.getTiming());ve.effect=Ne}}):Pt()})(ze),zt},addAnimation:q=>{if(null!=q)if(Array.isArray(q))for(const ve of q)ve.parent(zt),an.push(ve);else q.parent(zt),an.push(q);return zt},addElement:q=>{if(null!=q)if(1===q.nodeType)qt.push(q);else if(q.length>=0)for(let ve=0;ve<q.length;ve++)qt.push(q[ve]);else console.error("Invalid addElement value");return zt},update:Gn,fill:q=>(Le=q,Gn(!0),zt),direction:q=>(Pe=q,Gn(!0),zt),iterations:q=>(ge=q,Gn(!0),zt),duration:q=>(!Qn&&0===q&&(q=1),Xe=q,Gn(!0),zt),easing:q=>(it=q,Gn(!0),zt),delay:q=>(fe=q,Gn(!0),zt),getWebAnimations:wn,getKeyframes:()=>ze,getFill:xr,getDirection:vr,getDelay:z,getIterations:L,getEasing:Ve,getDuration:K,afterAddRead:q=>(bt.push(q),zt),afterAddWrite:q=>(On.push(q),zt),afterClearStyles:(q=[])=>{for(const ve of q)Te[ve]="";return zt},afterStyles:(q={})=>(Te=q,zt),afterRemoveClass:q=>(Ae=xe(Ae,q),zt),afterAddClass:q=>(pt=xe(pt,q),zt),beforeAddRead:q=>(Zt.push(q),zt),beforeAddWrite:q=>(Xt.push(q),zt),beforeClearStyles:(q=[])=>{for(const ve of q)ut[ve]="";return zt},beforeStyles:(q={})=>(ut=q,zt),beforeRemoveClass:q=>(_e=xe(_e,q),zt),beforeAddClass:q=>(ke=xe(ke,q),zt),onFinish:en,isRunning:()=>0!==at&&!Je,progressStart:(q=!1,ve)=>(an.forEach(Ne=>{Ne.progressStart(q,ve)}),pr(),tt=q,lt||tn(),Gn(!1,!0,ve),zt),progressStep:q=>(an.forEach(ve=>{ve.progressStep(q)}),ln(q),zt),progressEnd:(q,ve,Ne)=>(tt=!1,an.forEach(ht=>{ht.progressEnd(q,ve,Ne)}),void 0!==Ne&&(be=Ne),nt=!1,qe=!0,0===q?(oe="reverse"===vr()?"normal":"reverse","reverse"===oe&&(qe=!1),Qn?(Gn(),ln(1-ve)):(Re=(1-ve)*K()*-1,Gn(!1,!1))):1===q&&(Qn?(Gn(),ln(ve)):(Re=ve*K()*-1,Gn(!1,!1))),void 0!==q&&(en(()=>{be=void 0,oe=void 0,Re=void 0},{oneTimeCallback:!0}),Qe||Ei()),zt)}}},3365:(Ht,Ke,x)=>{"use strict";x.d(Ke,{E:()=>re,a:()=>d,s:()=>$e});const d=ue=>{try{if(ue instanceof ne)return ue.value;if(!ae()||"string"!=typeof ue||""===ue)return ue;if(ue.includes("onload="))return"";const De=document.createDocumentFragment(),Ce=document.createElement("div");De.appendChild(Ce),Ce.innerHTML=ue,te.forEach(Fe=>{const fe=De.querySelectorAll(Fe);for(let Xe=fe.length-1;Xe>=0;Xe--){const it=fe[Xe];it.parentNode?it.parentNode.removeChild(it):De.removeChild(it);const ge=Y(it);for(let Le=0;Le<ge.length;Le++)h(ge[Le])}});const we=Y(De);for(let Fe=0;Fe<we.length;Fe++)h(we[Fe]);const xe=document.createElement("div");xe.appendChild(De);const He=xe.querySelector("div");return null!==He?He.innerHTML:xe.innerHTML}catch(De){return console.error(De),""}},h=ue=>{if(ue.nodeType&&1!==ue.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ue.attributes instanceof NamedNodeMap))return void ue.remove();for(let Ce=ue.attributes.length-1;Ce>=0;Ce--){const we=ue.attributes.item(Ce),xe=we.name;if(!Ee.includes(xe.toLowerCase())){ue.removeAttribute(xe);continue}const He=we.value,Fe=ue[xe];(null!=He&&He.toLowerCase().includes("javascript:")||null!=Fe&&Fe.toLowerCase().includes("javascript:"))&&ue.removeAttribute(xe)}const De=Y(ue);for(let Ce=0;Ce<De.length;Ce++)h(De[Ce])},Y=ue=>null!=ue.children?ue.children:ue.childNodes,ae=()=>{var ue;const De=window,Ce=null===(ue=null==De?void 0:De.Ionic)||void 0===ue?void 0:ue.config;return!Ce||(Ce.get?Ce.get("sanitizerEnabled",!0):!0===Ce.sanitizerEnabled||void 0===Ce.sanitizerEnabled)},Ee=["class","id","href","src","name","slot"],te=["script","style","iframe","meta","link","object","embed"];class ne{constructor(De){this.value=De}}const $e=ue=>{const De=window,Ce=De.Ionic;if(!Ce||!Ce.config||"Object"===Ce.config.constructor.name)return De.Ionic=De.Ionic||{},De.Ionic.config=Object.assign(Object.assign({},De.Ionic.config),ue),De.Ionic.config},re=!1},6559:(Ht,Ke,x)=>{"use strict";x.d(Ke,{C:()=>Ee,a:()=>Y,d:()=>ae});var d=x(5861),h=x(839);const Y=function(){var te=(0,d.Z)(function*(ne,$e,Oe,re,ue,De){var Ce;if(ne)return ne.attachViewToDom($e,Oe,ue,re);if(!(De||"string"==typeof Oe||Oe instanceof HTMLElement))throw new Error("framework delegate is missing");const we="string"==typeof Oe?null===(Ce=$e.ownerDocument)||void 0===Ce?void 0:Ce.createElement(Oe):Oe;return re&&re.forEach(xe=>we.classList.add(xe)),ue&&Object.assign(we,ue),$e.appendChild(we),yield new Promise(xe=>(0,h.c)(we,xe)),we});return function($e,Oe,re,ue,De,Ce){return te.apply(this,arguments)}}(),ae=(te,ne)=>{if(ne){if(te)return te.removeViewFromDom(ne.parentElement,ne);ne.remove()}return Promise.resolve()},Ee=()=>{let te,ne;return{attachViewToDom:function(){var re=(0,d.Z)(function*(ue,De,Ce={},we=[]){var xe,He;let Fe;if(te=ue,De){const Xe="string"==typeof De?null===(xe=te.ownerDocument)||void 0===xe?void 0:xe.createElement(De):De;we.forEach(it=>Xe.classList.add(it)),Object.assign(Xe,Ce),te.appendChild(Xe),Fe=Xe,yield new Promise(it=>(0,h.c)(Xe,it))}else if(te.children.length>0&&("ION-MODAL"===te.tagName||"ION-POPOVER"===te.tagName)&&!(Fe=te.children[0]).classList.contains("ion-delegate-host")){const it=null===(He=te.ownerDocument)||void 0===He?void 0:He.createElement("div");it.classList.add("ion-delegate-host"),we.forEach(ge=>it.classList.add(ge)),it.append(...te.children),te.appendChild(it),Fe=it}const fe=document.querySelector("ion-app")||document.body;return ne=document.createComment("ionic teleport"),te.parentNode.insertBefore(ne,te),fe.appendChild(te),null!=Fe?Fe:te});return function(De,Ce){return re.apply(this,arguments)}}(),removeViewFromDom:()=>(te&&ne&&(ne.parentNode.insertBefore(te,ne),ne.remove()),Promise.resolve())}}},619:(Ht,Ke,x)=>{"use strict";x.d(Ke,{G:()=>Ee});class h{constructor(ne,$e,Oe,re,ue){this.id=$e,this.name=Oe,this.disableScroll=ue,this.priority=1e6*re+$e,this.ctrl=ne}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ne=this.ctrl.capture(this.name,this.id,this.priority);return ne&&this.disableScroll&&this.ctrl.disableScroll(this.id),ne}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Y{constructor(ne,$e,Oe,re){this.id=$e,this.disable=Oe,this.disableScroll=re,this.ctrl=ne}block(){if(this.ctrl){if(this.disable)for(const ne of this.disable)this.ctrl.disableGesture(ne,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ne of this.disable)this.ctrl.enableGesture(ne,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ae="backdrop-no-scroll",Ee=new class d{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ne){var $e;return new h(this,this.newID(),ne.name,null!==($e=ne.priority)&&void 0!==$e?$e:0,!!ne.disableScroll)}createBlocker(ne={}){return new Y(this,this.newID(),ne.disable,!!ne.disableScroll)}start(ne,$e,Oe){return this.canStart(ne)?(this.requestedStart.set($e,Oe),!0):(this.requestedStart.delete($e),!1)}capture(ne,$e,Oe){if(!this.start(ne,$e,Oe))return!1;const re=this.requestedStart;let ue=-1e4;if(re.forEach(De=>{ue=Math.max(ue,De)}),ue===Oe){this.capturedId=$e,re.clear();const De=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ne}});return document.dispatchEvent(De),!0}return re.delete($e),!1}release(ne){this.requestedStart.delete(ne),this.capturedId===ne&&(this.capturedId=void 0)}disableGesture(ne,$e){let Oe=this.disabledGestures.get(ne);void 0===Oe&&(Oe=new Set,this.disabledGestures.set(ne,Oe)),Oe.add($e)}enableGesture(ne,$e){const Oe=this.disabledGestures.get(ne);void 0!==Oe&&Oe.delete($e)}disableScroll(ne){this.disabledScroll.add(ne),1===this.disabledScroll.size&&document.body.classList.add(ae)}enableScroll(ne){this.disabledScroll.delete(ne),0===this.disabledScroll.size&&document.body.classList.remove(ae)}canStart(ne){return!(void 0!==this.capturedId||this.isDisabled(ne))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ne){const $e=this.disabledGestures.get(ne);return!!($e&&$e.size>0)}newID(){return this.gestureId++,this.gestureId}}},2124:(Ht,Ke,x)=>{"use strict";x.r(Ke),x.d(Ke,{MENU_BACK_BUTTON_PRIORITY:()=>Ee,OVERLAY_BACK_BUTTON_PRIORITY:()=>ae,blockHardwareBackButton:()=>h,startHardwareBackButton:()=>Y});var d=x(5861);const h=()=>{document.addEventListener("backbutton",()=>{})},Y=()=>{const te=document;let ne=!1;te.addEventListener("backbutton",()=>{if(ne)return;let $e=0,Oe=[];const re=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ce,we){Oe.push({priority:Ce,handler:we,id:$e++})}}});te.dispatchEvent(re);const ue=function(){var Ce=(0,d.Z)(function*(we){try{if(null!=we&&we.handler){const xe=we.handler(De);null!=xe&&(yield xe)}}catch(xe){console.error(xe)}});return function(xe){return Ce.apply(this,arguments)}}(),De=()=>{if(Oe.length>0){let Ce={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Oe.forEach(we=>{we.priority>=Ce.priority&&(Ce=we)}),ne=!0,Oe=Oe.filter(we=>we.id!==Ce.id),ue(Ce).then(()=>ne=!1)}};De()})},ae=100,Ee=99},839:(Ht,Ke,x)=>{"use strict";x.d(Ke,{a:()=>$e,b:()=>Oe,c:()=>Y,d:()=>He,e:()=>xe,f:()=>we,g:()=>re,h:()=>Ce,i:()=>ne,j:()=>Le,k:()=>Ee,l:()=>Fe,m:()=>ae,n:()=>De,o:()=>fe,p:()=>ge,q:()=>Pe,r:()=>ue,s:()=>ze,t:()=>d,u:()=>Xe,v:()=>it});const d=(ke,_e=0)=>new Promise(lt=>{h(ke,_e,lt)}),h=(ke,_e=0,lt)=>{let Qe,ut;const pt={passive:!0},Te=()=>{Qe&&Qe()},at=tt=>{(void 0===tt||ke===tt.target)&&(Te(),lt(tt))};return ke&&(ke.addEventListener("webkitTransitionEnd",at,pt),ke.addEventListener("transitionend",at,pt),ut=setTimeout(at,_e+500),Qe=()=>{ut&&(clearTimeout(ut),ut=void 0),ke.removeEventListener("webkitTransitionEnd",at,pt),ke.removeEventListener("transitionend",at,pt)}),Te},Y=(ke,_e)=>{ke.componentOnReady?ke.componentOnReady().then(lt=>_e(lt)):ue(()=>_e(ke))},ae=ke=>void 0!==ke.componentOnReady,Ee=(ke,_e=[])=>{const lt={};return _e.forEach(Qe=>{ke.hasAttribute(Qe)&&(null!==ke.getAttribute(Qe)&&(lt[Qe]=ke.getAttribute(Qe)),ke.removeAttribute(Qe))}),lt},te=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ne=(ke,_e)=>{let lt=te;return _e&&_e.length>0&&(lt=lt.filter(Qe=>!_e.includes(Qe))),Ee(ke,lt)},$e=(ke,_e,lt,Qe)=>{var ut;if(typeof window<"u"){const pt=window,Ae=null===(ut=null==pt?void 0:pt.Ionic)||void 0===ut?void 0:ut.config;if(Ae){const Te=Ae.get("_ael");if(Te)return Te(ke,_e,lt,Qe);if(Ae._ael)return Ae._ael(ke,_e,lt,Qe)}}return ke.addEventListener(_e,lt,Qe)},Oe=(ke,_e,lt,Qe)=>{var ut;if(typeof window<"u"){const pt=window,Ae=null===(ut=null==pt?void 0:pt.Ionic)||void 0===ut?void 0:ut.config;if(Ae){const Te=Ae.get("_rel");if(Te)return Te(ke,_e,lt,Qe);if(Ae._rel)return Ae._rel(ke,_e,lt,Qe)}}return ke.removeEventListener(_e,lt,Qe)},re=(ke,_e=ke)=>ke.shadowRoot||_e,ue=ke=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ke):"function"==typeof requestAnimationFrame?requestAnimationFrame(ke):setTimeout(ke),De=ke=>!!ke.shadowRoot&&!!ke.attachShadow,Ce=ke=>{const _e=ke.closest("ion-item");return _e?_e.querySelector("ion-label"):null},we=ke=>{if(ke.focus(),ke.classList.contains("ion-focusable")){const _e=ke.closest("ion-app");_e&&_e.setFocus([ke])}},xe=(ke,_e)=>{let lt;const Qe=ke.getAttribute("aria-labelledby"),ut=ke.id;let pt=null!==Qe&&""!==Qe.trim()?Qe:_e+"-lbl",Ae=null!==Qe&&""!==Qe.trim()?document.getElementById(Qe):Ce(ke);return Ae?(null===Qe&&(Ae.id=pt),lt=Ae.textContent,Ae.setAttribute("aria-hidden","true")):""!==ut.trim()&&(Ae=document.querySelector(`label[for="${ut}"]`),Ae&&(""!==Ae.id?pt=Ae.id:Ae.id=pt=`${ut}-lbl`,lt=Ae.textContent)),{label:Ae,labelId:pt,labelText:lt}},He=(ke,_e,lt,Qe,ut)=>{if(ke||De(_e)){let pt=_e.querySelector("input.aux-input");pt||(pt=_e.ownerDocument.createElement("input"),pt.type="hidden",pt.classList.add("aux-input"),_e.appendChild(pt)),pt.disabled=ut,pt.name=lt,pt.value=Qe||""}},Fe=(ke,_e,lt)=>Math.max(ke,Math.min(_e,lt)),fe=(ke,_e)=>{if(!ke){const lt="ASSERT: "+_e;throw console.error(lt),new Error(lt)}},Xe=ke=>ke.timeStamp||Date.now(),it=ke=>{if(ke){const _e=ke.changedTouches;if(_e&&_e.length>0){const lt=_e[0];return{x:lt.clientX,y:lt.clientY}}if(void 0!==ke.pageX)return{x:ke.pageX,y:ke.pageY}}return{x:0,y:0}},ge=ke=>{const _e="rtl"===document.dir;switch(ke){case"start":return _e;case"end":return!_e;default:throw new Error(`"${ke}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Le=(ke,_e)=>{const lt=ke._original||ke;return{_original:ke,emit:Pe(lt.emit.bind(lt),_e)}},Pe=(ke,_e=0)=>{let lt;return(...Qe)=>{clearTimeout(lt),lt=setTimeout(ke,_e,...Qe)}},ze=(ke,_e)=>{if(null!=ke||(ke={}),null!=_e||(_e={}),ke===_e)return!0;const lt=Object.keys(ke);if(lt.length!==Object.keys(_e).length)return!1;for(const Qe of lt)if(!(Qe in _e)||ke[Qe]!==_e[Qe])return!1;return!0}},6710:(Ht,Ke,x)=>{"use strict";x.d(Ke,{a:()=>h,b:()=>Y,p:()=>d});const d=(ae,...Ee)=>console.warn(`[Ionic Warning]: ${ae}`,...Ee),h=(ae,...Ee)=>console.error(`[Ionic Error]: ${ae}`,...Ee),Y=(ae,...Ee)=>console.error(`<${ae.tagName.toLowerCase()}> must be used inside ${Ee.join(" or ")}.`)},1651:(Ht,Ke,x)=>{"use strict";x.d(Ke,{L:()=>ae,a:()=>Ee,b:()=>te,c:()=>ne,d:()=>$e,e:()=>ke,g:()=>Qe,l:()=>Pe,s:()=>_e,t:()=>ue,w:()=>ze});var d=x(5861),h=x(1688),Y=x(839);const ae="ionViewWillEnter",Ee="ionViewDidEnter",te="ionViewWillLeave",ne="ionViewDidLeave",$e="ionViewWillUnload",ue=ut=>new Promise((pt,Ae)=>{(0,h.w)(()=>{De(ut),Ce(ut).then(Te=>{Te.animation&&Te.animation.destroy(),we(ut),pt(Te)},Te=>{we(ut),Ae(Te)})})}),De=ut=>{const pt=ut.enteringEl,Ae=ut.leavingEl;lt(pt,Ae,ut.direction),ut.showGoBack?pt.classList.add("can-go-back"):pt.classList.remove("can-go-back"),_e(pt,!1),pt.style.setProperty("pointer-events","none"),Ae&&(_e(Ae,!1),Ae.style.setProperty("pointer-events","none"))},Ce=function(){var ut=(0,d.Z)(function*(pt){const Ae=yield xe(pt);return Ae&&h.B.isBrowser?He(Ae,pt):Fe(pt)});return function(Ae){return ut.apply(this,arguments)}}(),we=ut=>{const pt=ut.enteringEl,Ae=ut.leavingEl;pt.classList.remove("ion-page-invisible"),pt.style.removeProperty("pointer-events"),void 0!==Ae&&(Ae.classList.remove("ion-page-invisible"),Ae.style.removeProperty("pointer-events"))},xe=function(){var ut=(0,d.Z)(function*(pt){return pt.leavingEl&&pt.animated&&0!==pt.duration?pt.animationBuilder?pt.animationBuilder:"ios"===pt.mode?(yield Promise.resolve().then(x.bind(x,2650))).iosTransitionAnimation:(yield Promise.resolve().then(x.bind(x,1904))).mdTransitionAnimation:void 0});return function(Ae){return ut.apply(this,arguments)}}(),He=function(){var ut=(0,d.Z)(function*(pt,Ae){yield fe(Ae,!0);const Te=pt(Ae.baseEl,Ae);ge(Ae.enteringEl,Ae.leavingEl);const at=yield it(Te,Ae);return Ae.progressCallback&&Ae.progressCallback(void 0),at&&Le(Ae.enteringEl,Ae.leavingEl),{hasCompleted:at,animation:Te}});return function(Ae,Te){return ut.apply(this,arguments)}}(),Fe=function(){var ut=(0,d.Z)(function*(pt){const Ae=pt.enteringEl,Te=pt.leavingEl;return yield fe(pt,!1),ge(Ae,Te),Le(Ae,Te),{hasCompleted:!0}});return function(Ae){return ut.apply(this,arguments)}}(),fe=function(){var ut=(0,d.Z)(function*(pt,Ae){(void 0!==pt.deepWait?pt.deepWait:Ae)&&(yield Promise.all([ke(pt.enteringEl),ke(pt.leavingEl)])),yield Xe(pt.viewIsReady,pt.enteringEl)});return function(Ae,Te){return ut.apply(this,arguments)}}(),Xe=function(){var ut=(0,d.Z)(function*(pt,Ae){pt&&(yield pt(Ae))});return function(Ae,Te){return ut.apply(this,arguments)}}(),it=(ut,pt)=>{const Ae=pt.progressCallback,Te=new Promise(at=>{ut.onFinish(tt=>at(1===tt))});return Ae?(ut.progressStart(!0),Ae(ut)):ut.play(),Te},ge=(ut,pt)=>{Pe(pt,te),Pe(ut,ae)},Le=(ut,pt)=>{Pe(ut,Ee),Pe(pt,ne)},Pe=(ut,pt)=>{if(ut){const Ae=new CustomEvent(pt,{bubbles:!1,cancelable:!1});ut.dispatchEvent(Ae)}},ze=()=>new Promise(ut=>(0,Y.r)(()=>(0,Y.r)(()=>ut()))),ke=function(){var ut=(0,d.Z)(function*(pt){const Ae=pt;if(Ae){if(null!=Ae.componentOnReady){if(null!=(yield Ae.componentOnReady()))return}else if(null!=Ae.__registerHost)return void(yield new Promise(at=>(0,Y.r)(at)));yield Promise.all(Array.from(Ae.children).map(ke))}});return function(Ae){return ut.apply(this,arguments)}}(),_e=(ut,pt)=>{pt?(ut.setAttribute("aria-hidden","true"),ut.classList.add("ion-page-hidden")):(ut.hidden=!1,ut.removeAttribute("aria-hidden"),ut.classList.remove("ion-page-hidden"))},lt=(ut,pt,Ae)=>{void 0!==ut&&(ut.style.zIndex="back"===Ae?"99":"101"),void 0!==pt&&(pt.style.zIndex="100")},Qe=ut=>ut.classList.contains("ion-page")?ut:ut.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ut},6225:(Ht,Ke,x)=>{"use strict";x.d(Ke,{d:()=>h,w:()=>d});const d=typeof window<"u"?window:void 0,h=typeof document<"u"?document:void 0},1688:(Ht,Ke,x)=>{"use strict";x.d(Ke,{B:()=>ue,H:()=>Te,a:()=>pr,b:()=>yn,c:()=>nt,d:()=>Je,e:()=>$r,f:()=>zt,g:()=>St,h:()=>pt,i:()=>ii,j:()=>De,r:()=>Ye,w:()=>wi});var d=x(5861);let Y,ae,Ee,te=!1,ne=!1,$e=!1,Oe=!1,re=!1;const ue={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},De=J=>{const q=new URL(J,jn.$resourcesUrl$);return q.origin!==or.location.origin?q.href:q.pathname},Xe="s-id",it="sty-id",Pe="http://www.w3.org/1999/xlink",ze={},Qe=J=>"object"==(J=typeof J)||"function"===J;function ut(J){var q,ve,Ne;return null!==(Ne=null===(ve=null===(q=J.head)||void 0===q?void 0:q.querySelector('meta[name="csp-nonce"]'))||void 0===ve?void 0:ve.getAttribute("content"))&&void 0!==Ne?Ne:void 0}const pt=(J,q,...ve)=>{let Ne=null,ht=null,ot=null,Dt=!1,Lt=!1;const Rt=[],Ft=In=>{for(let Mn=0;Mn<In.length;Mn++)Ne=In[Mn],Array.isArray(Ne)?Ft(Ne):null!=Ne&&"boolean"!=typeof Ne&&((Dt="function"!=typeof J&&!Qe(Ne))&&(Ne=String(Ne)),Dt&&Lt?Rt[Rt.length-1].$text$+=Ne:Rt.push(Dt?Ae(null,Ne):Ne),Lt=Dt)};if(Ft(ve),q){q.key&&(ht=q.key),q.name&&(ot=q.name);{const In=q.className||q.class;In&&(q.class="object"!=typeof In?In:Object.keys(In).filter(Mn=>In[Mn]).join(" "))}}if("function"==typeof J)return J(null===q?{}:q,Rt,tt);const pn=Ae(J,null);return pn.$attrs$=q,Rt.length>0&&(pn.$children$=Rt),pn.$key$=ht,pn.$name$=ot,pn},Ae=(J,q)=>({$flags$:0,$tag$:J,$text$:q,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Te={},tt={forEach:(J,q)=>J.map(Ue).forEach(q),map:(J,q)=>J.map(Ue).map(q).map(ee)},Ue=J=>({vattrs:J.$attrs$,vchildren:J.$children$,vkey:J.$key$,vname:J.$name$,vtag:J.$tag$,vtext:J.$text$}),ee=J=>{if("function"==typeof J.vtag){const ve=Object.assign({},J.vattrs);return J.vkey&&(ve.key=J.vkey),J.vname&&(ve.name=J.vname),pt(J.vtag,ve,...J.vchildren||[])}const q=Ae(J.vtag,J.vtext);return q.$attrs$=J.vattrs,q.$children$=J.vchildren,q.$key$=J.vkey,q.$name$=J.vname,q},be=(J,q,ve,Ne,ht,ot,Dt)=>{let Lt,Rt,Ft,pn;if(1===ot.nodeType){for(Lt=ot.getAttribute("c-id"),Lt&&(Rt=Lt.split("."),(Rt[0]===Dt||"0"===Rt[0])&&(Ft={$flags$:0,$hostId$:Rt[0],$nodeId$:Rt[1],$depth$:Rt[2],$index$:Rt[3],$tag$:ot.tagName.toLowerCase(),$elm$:ot,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},q.push(Ft),ot.removeAttribute("c-id"),J.$children$||(J.$children$=[]),J.$children$[Ft.$index$]=Ft,J=Ft,Ne&&"0"===Ft.$depth$&&(Ne[Ft.$index$]=Ft.$elm$))),pn=ot.childNodes.length-1;pn>=0;pn--)be(J,q,ve,Ne,ht,ot.childNodes[pn],Dt);if(ot.shadowRoot)for(pn=ot.shadowRoot.childNodes.length-1;pn>=0;pn--)be(J,q,ve,Ne,ht,ot.shadowRoot.childNodes[pn],Dt)}else if(8===ot.nodeType)Rt=ot.nodeValue.split("."),(Rt[1]===Dt||"0"===Rt[1])&&(Lt=Rt[0],Ft={$flags$:0,$hostId$:Rt[1],$nodeId$:Rt[2],$depth$:Rt[3],$index$:Rt[4],$elm$:ot,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Lt?(Ft.$elm$=ot.nextSibling,Ft.$elm$&&3===Ft.$elm$.nodeType&&(Ft.$text$=Ft.$elm$.textContent,q.push(Ft),ot.remove(),J.$children$||(J.$children$=[]),J.$children$[Ft.$index$]=Ft,Ne&&"0"===Ft.$depth$&&(Ne[Ft.$index$]=Ft.$elm$))):Ft.$hostId$===Dt&&("s"===Lt?(Ft.$tag$="slot",ot["s-sn"]=Rt[5]?Ft.$name$=Rt[5]:"",ot["s-sr"]=!0,Ne&&(Ft.$elm$=Tr.createElement(Ft.$tag$),Ft.$name$&&Ft.$elm$.setAttribute("name",Ft.$name$),ot.parentNode.insertBefore(Ft.$elm$,ot),ot.remove(),"0"===Ft.$depth$&&(Ne[Ft.$index$]=Ft.$elm$)),ve.push(Ft),J.$children$||(J.$children$=[]),J.$children$[Ft.$index$]=Ft):"r"===Lt&&(Ne?ot.remove():(ht["s-cr"]=ot,ot["s-cn"]=!0))));else if(J&&"style"===J.$tag$){const In=Ae(null,ot.textContent);In.$elm$=ot,In.$index$="0",J.$children$=[In]}},Re=(J,q)=>{if(1===J.nodeType){let ve=0;for(;ve<J.childNodes.length;ve++)Re(J.childNodes[ve],q);if(J.shadowRoot)for(ve=0;ve<J.shadowRoot.childNodes.length;ve++)Re(J.shadowRoot.childNodes[ve],q)}else if(8===J.nodeType){const ve=J.nodeValue.split(".");"o"===ve[0]&&(q.set(ve[1]+"."+ve[2],J),J.nodeValue="",J["s-en"]=ve[3])}},nt=J=>Gn.push(J),St=J=>Se(J).$modeName$,zt=J=>Se(J).$hostElement$,Je=(J,q,ve)=>{const Ne=zt(J);return{emit:ht=>mt(Ne,q,{bubbles:!!(4&ve),composed:!!(2&ve),cancelable:!!(1&ve),detail:ht})}},mt=(J,q,ve)=>{const Ne=jn.ce(q,ve);return J.dispatchEvent(Ne),Ne},_t=new WeakMap,Ot=(J,q,ve)=>{let Ne=er.get(J);Ti&&ve?(Ne=Ne||new CSSStyleSheet,"string"==typeof Ne?Ne=q:Ne.replaceSync(q)):Ne=q,er.set(J,Ne)},qt=(J,q,ve)=>{var Ne;const ht=vt(q,ve),ot=er.get(ht);if(J=11===J.nodeType?J:Tr,ot)if("string"==typeof ot){let Lt,Dt=_t.get(J=J.head||J);if(Dt||_t.set(J,Dt=new Set),!Dt.has(ht)){if(J.host&&(Lt=J.querySelector(`[${it}="${ht}"]`)))Lt.innerHTML=ot;else{Lt=Tr.createElement("style"),Lt.innerHTML=ot;const Rt=null!==(Ne=jn.$nonce$)&&void 0!==Ne?Ne:ut(Tr);null!=Rt&&Lt.setAttribute("nonce",Rt),J.insertBefore(Lt,J.querySelector("link"))}Dt&&Dt.add(ht)}}else J.adoptedStyleSheets.includes(ot)||(J.adoptedStyleSheets=[...J.adoptedStyleSheets,ot]);return ht},vt=(J,q)=>"sc-"+(q&&32&J.$flags$?J.$tagName$+"-"+q:J.$tagName$),Zt=J=>J.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Xt=(J,q,ve,Ne,ht,ot)=>{if(ve!==Ne){let Dt=It(J,q),Lt=q.toLowerCase();if("class"===q){const Rt=J.classList,Ft=On(ve),pn=On(Ne);Rt.remove(...Ft.filter(In=>In&&!pn.includes(In))),Rt.add(...pn.filter(In=>In&&!Ft.includes(In)))}else if("style"===q){for(const Rt in ve)(!Ne||null==Ne[Rt])&&(Rt.includes("-")?J.style.removeProperty(Rt):J.style[Rt]="");for(const Rt in Ne)(!ve||Ne[Rt]!==ve[Rt])&&(Rt.includes("-")?J.style.setProperty(Rt,Ne[Rt]):J.style[Rt]=Ne[Rt])}else if("key"!==q)if("ref"===q)Ne&&Ne(J);else if(Dt||"o"!==q[0]||"n"!==q[1]){const Rt=Qe(Ne);if((Dt||Rt&&null!==Ne)&&!ht)try{if(J.tagName.includes("-"))J[q]=Ne;else{const pn=null==Ne?"":Ne;"list"===q?Dt=!1:(null==ve||J[q]!=pn)&&(J[q]=pn)}}catch{}let Ft=!1;Lt!==(Lt=Lt.replace(/^xlink\:?/,""))&&(q=Lt,Ft=!0),null==Ne||!1===Ne?(!1!==Ne||""===J.getAttribute(q))&&(Ft?J.removeAttributeNS(Pe,q):J.removeAttribute(q)):(!Dt||4&ot||ht)&&!Rt&&(Ne=!0===Ne?"":Ne,Ft?J.setAttributeNS(Pe,q,Ne):J.setAttribute(q,Ne))}else q="-"===q[2]?q.slice(3):It(or,Lt)?Lt.slice(2):Lt[2]+q.slice(3),ve&&jn.rel(J,q,ve,!1),Ne&&jn.ael(J,q,Ne,!1)}},bt=/\s/,On=J=>J?J.split(bt):[],Tn=(J,q,ve,Ne)=>{const ht=11===q.$elm$.nodeType&&q.$elm$.host?q.$elm$.host:q.$elm$,ot=J&&J.$attrs$||ze,Dt=q.$attrs$||ze;for(Ne in ot)Ne in Dt||Xt(ht,Ne,ot[Ne],void 0,ve,q.$flags$);for(Ne in Dt)Xt(ht,Ne,ot[Ne],Dt[Ne],ve,q.$flags$)},Sr=(J,q,ve,Ne)=>{const ht=q.$children$[ve];let Dt,Lt,Rt,ot=0;if(te||($e=!0,"slot"===ht.$tag$&&(Y&&Ne.classList.add(Y+"-s"),ht.$flags$|=ht.$children$?2:1)),null!==ht.$text$)Dt=ht.$elm$=Tr.createTextNode(ht.$text$);else if(1&ht.$flags$)Dt=ht.$elm$=Tr.createTextNode("");else{if(Oe||(Oe="svg"===ht.$tag$),Dt=ht.$elm$=Tr.createElementNS(Oe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ht.$flags$?"slot-fb":ht.$tag$),Oe&&"foreignObject"===ht.$tag$&&(Oe=!1),Tn(null,ht,Oe),(J=>null!=J)(Y)&&Dt["s-si"]!==Y&&Dt.classList.add(Dt["s-si"]=Y),ht.$children$)for(ot=0;ot<ht.$children$.length;++ot)Lt=Sr(J,ht,ot,Dt),Lt&&Dt.appendChild(Lt);"svg"===ht.$tag$?Oe=!1:"foreignObject"===Dt.tagName&&(Oe=!0)}return Dt["s-hn"]=Ee,3&ht.$flags$&&(Dt["s-sr"]=!0,Dt["s-cr"]=ae,Dt["s-sn"]=ht.$name$||"",Rt=J&&J.$children$&&J.$children$[ve],Rt&&Rt.$tag$===ht.$tag$&&J.$elm$&&Qn(J.$elm$,!1)),Dt},Qn=(J,q)=>{jn.$flags$|=1;const ve=J.childNodes;for(let Ne=ve.length-1;Ne>=0;Ne--){const ht=ve[Ne];ht["s-hn"]!==Ee&&ht["s-ol"]&&(_r(ht).insertBefore(ht,kn(ht)),ht["s-ol"].remove(),ht["s-ol"]=void 0,$e=!0),q&&Qn(ht,q)}jn.$flags$&=-2},gn=(J,q,ve,Ne,ht,ot)=>{let Lt,Dt=J["s-cr"]&&J["s-cr"].parentNode||J;for(Dt.shadowRoot&&Dt.tagName===Ee&&(Dt=Dt.shadowRoot);ht<=ot;++ht)Ne[ht]&&(Lt=Sr(null,ve,ht,J),Lt&&(Ne[ht].$elm$=Lt,Dt.insertBefore(Lt,kn(q))))},wn=(J,q,ve)=>{for(let Ne=q;Ne<=ve;++Ne){const ht=J[Ne];if(ht){const ot=ht.$elm$;_n(ht),ot&&(ne=!0,ot["s-ol"]?ot["s-ol"].remove():Qn(ot,!0),ot.remove())}}},Wn=(J,q)=>J.$tag$===q.$tag$&&("slot"===J.$tag$?J.$name$===q.$name$:J.$key$===q.$key$),kn=J=>J&&J["s-ol"]||J,_r=J=>(J["s-ol"]?J["s-ol"]:J).parentNode,en=(J,q)=>{const ve=q.$elm$=J.$elm$,Ne=J.$children$,ht=q.$children$,ot=q.$tag$,Dt=q.$text$;let Lt;null===Dt?(Oe="svg"===ot||"foreignObject"!==ot&&Oe,"slot"===ot||Tn(J,q,Oe),null!==Ne&&null!==ht?((J,q,ve,Ne)=>{let bi,Hr,ht=0,ot=0,Dt=0,Lt=0,Rt=q.length-1,Ft=q[0],pn=q[Rt],In=Ne.length-1,Mn=Ne[0],nr=Ne[In];for(;ht<=Rt&&ot<=In;)if(null==Ft)Ft=q[++ht];else if(null==pn)pn=q[--Rt];else if(null==Mn)Mn=Ne[++ot];else if(null==nr)nr=Ne[--In];else if(Wn(Ft,Mn))en(Ft,Mn),Ft=q[++ht],Mn=Ne[++ot];else if(Wn(pn,nr))en(pn,nr),pn=q[--Rt],nr=Ne[--In];else if(Wn(Ft,nr))("slot"===Ft.$tag$||"slot"===nr.$tag$)&&Qn(Ft.$elm$.parentNode,!1),en(Ft,nr),J.insertBefore(Ft.$elm$,pn.$elm$.nextSibling),Ft=q[++ht],nr=Ne[--In];else if(Wn(pn,Mn))("slot"===Ft.$tag$||"slot"===nr.$tag$)&&Qn(pn.$elm$.parentNode,!1),en(pn,Mn),J.insertBefore(pn.$elm$,Ft.$elm$),pn=q[--Rt],Mn=Ne[++ot];else{for(Dt=-1,Lt=ht;Lt<=Rt;++Lt)if(q[Lt]&&null!==q[Lt].$key$&&q[Lt].$key$===Mn.$key$){Dt=Lt;break}Dt>=0?(Hr=q[Dt],Hr.$tag$!==Mn.$tag$?bi=Sr(q&&q[ot],ve,Dt,J):(en(Hr,Mn),q[Dt]=void 0,bi=Hr.$elm$),Mn=Ne[++ot]):(bi=Sr(q&&q[ot],ve,ot,J),Mn=Ne[++ot]),bi&&_r(Ft.$elm$).insertBefore(bi,kn(Ft.$elm$))}ht>Rt?gn(J,null==Ne[In+1]?null:Ne[In+1].$elm$,ve,Ne,ot,In):ot>In&&wn(q,ht,Rt)})(ve,Ne,q,ht):null!==ht?(null!==J.$text$&&(ve.textContent=""),gn(ve,null,q,ht,0,ht.length-1)):null!==Ne&&wn(Ne,0,Ne.length-1),Oe&&"svg"===ot&&(Oe=!1)):(Lt=ve["s-cr"])?Lt.parentNode.textContent=Dt:J.$text$!==Dt&&(ve.data=Dt)},Xn=J=>{const q=J.childNodes;let ve,Ne,ht,ot,Dt,Lt;for(Ne=0,ht=q.length;Ne<ht;Ne++)if(ve=q[Ne],1===ve.nodeType){if(ve["s-sr"])for(Dt=ve["s-sn"],ve.hidden=!1,ot=0;ot<ht;ot++)if(Lt=q[ot].nodeType,q[ot]["s-hn"]!==ve["s-hn"]||""!==Dt){if(1===Lt&&Dt===q[ot].getAttribute("slot")){ve.hidden=!0;break}}else if(1===Lt||3===Lt&&""!==q[ot].textContent.trim()){ve.hidden=!0;break}Xn(ve)}},Fr=[],Nn=J=>{let q,ve,Ne,ht,ot,Dt,Lt=0;const Rt=J.childNodes,Ft=Rt.length;for(;Lt<Ft;Lt++){if(q=Rt[Lt],q["s-sr"]&&(ve=q["s-cr"])&&ve.parentNode)for(Ne=ve.parentNode.childNodes,ht=q["s-sn"],Dt=Ne.length-1;Dt>=0;Dt--)ve=Ne[Dt],!ve["s-cn"]&&!ve["s-nr"]&&ve["s-hn"]!==q["s-hn"]&&(Dr(ve,ht)?(ot=Fr.find(pn=>pn.$nodeToRelocate$===ve),ne=!0,ve["s-sn"]=ve["s-sn"]||ht,ot?ot.$slotRefNode$=q:Fr.push({$slotRefNode$:q,$nodeToRelocate$:ve}),ve["s-sr"]&&Fr.map(pn=>{Dr(pn.$nodeToRelocate$,ve["s-sn"])&&(ot=Fr.find(In=>In.$nodeToRelocate$===ve),ot&&!pn.$slotRefNode$&&(pn.$slotRefNode$=ot.$slotRefNode$))})):Fr.some(pn=>pn.$nodeToRelocate$===ve)||Fr.push({$nodeToRelocate$:ve}));1===q.nodeType&&Nn(q)}},Dr=(J,q)=>1===J.nodeType?null===J.getAttribute("slot")&&""===q||J.getAttribute("slot")===q:J["s-sn"]===q||""===q,_n=J=>{J.$attrs$&&J.$attrs$.ref&&J.$attrs$.ref(null),J.$children$&&J.$children$.map(_n)},ti=(J,q)=>{q&&!J.$onRenderResolve$&&q["s-p"]&&q["s-p"].push(new Promise(ve=>J.$onRenderResolve$=ve))},cr=(J,q)=>{if(J.$flags$|=16,!(4&J.$flags$))return ti(J,J.$ancestorComponent$),wi(()=>ni(J,q));J.$flags$|=512},ni=(J,q)=>{const Ne=J.$lazyInstance$;let ht;return q&&(J.$flags$|=256,J.$queuedListeners$&&(J.$queuedListeners$.map(([ot,Dt])=>vr(Ne,ot,Dt)),J.$queuedListeners$=void 0),ht=vr(Ne,"componentWillLoad")),ht=Jn(ht,()=>vr(Ne,"componentWillRender")),Jn(ht,()=>ri(J,Ne,q))},Jn=(J,q)=>Cr(J)?J.then(q):q(),Cr=J=>J instanceof Promise||J&&J.then&&"function"==typeof J.then,ri=function(){var J=(0,d.Z)(function*(q,ve,Ne){var ht;const ot=q.$hostElement$,Lt=ot["s-rc"];Ne&&(J=>{const q=J.$cmpMeta$,ve=J.$hostElement$,Ne=q.$flags$,ot=qt(ve.shadowRoot?ve.shadowRoot:ve.getRootNode(),q,J.$modeName$);10&Ne&&(ve["s-sc"]=ot,ve.classList.add(ot+"-h"),2&Ne&&ve.classList.add(ot+"-s"))})(q);Qr(q,ve,ot,Ne),Lt&&(Lt.map(Ft=>Ft()),ot["s-rc"]=void 0);{const Ft=null!==(ht=ot["s-p"])&&void 0!==ht?ht:[],pn=()=>Mr(q);0===Ft.length?pn():(Promise.all(Ft).then(pn),q.$flags$|=4,Ft.length=0)}});return function(ve,Ne,ht){return J.apply(this,arguments)}}(),Qr=(J,q,ve,Ne)=>{try{q=q.render&&q.render(),J.$flags$&=-17,J.$flags$|=2,((J,q,ve=!1)=>{const Ne=J.$hostElement$,ht=J.$cmpMeta$,ot=J.$vnode$||Ae(null,null),Dt=(J=>J&&J.$tag$===Te)(q)?q:pt(null,null,q);if(Ee=Ne.tagName,ht.$attrsToReflect$&&(Dt.$attrs$=Dt.$attrs$||{},ht.$attrsToReflect$.map(([Lt,Rt])=>Dt.$attrs$[Rt]=Ne[Lt])),ve&&Dt.$attrs$)for(const Lt of Object.keys(Dt.$attrs$))Ne.hasAttribute(Lt)&&!["key","ref","style","class"].includes(Lt)&&(Dt.$attrs$[Lt]=Ne[Lt]);if(Dt.$tag$=null,Dt.$flags$|=4,J.$vnode$=Dt,Dt.$elm$=ot.$elm$=Ne.shadowRoot||Ne,Y=Ne["s-sc"],ae=Ne["s-cr"],te=0!=(1&ht.$flags$),ne=!1,en(ot,Dt),jn.$flags$|=1,$e){Nn(Dt.$elm$);let Lt,Rt,Ft,pn,In,Mn,nr=0;for(;nr<Fr.length;nr++)Lt=Fr[nr],Rt=Lt.$nodeToRelocate$,Rt["s-ol"]||(Ft=Tr.createTextNode(""),Ft["s-nr"]=Rt,Rt.parentNode.insertBefore(Rt["s-ol"]=Ft,Rt));for(nr=0;nr<Fr.length;nr++)if(Lt=Fr[nr],Rt=Lt.$nodeToRelocate$,Lt.$slotRefNode$){for(pn=Lt.$slotRefNode$.parentNode,In=Lt.$slotRefNode$.nextSibling,Ft=Rt["s-ol"];Ft=Ft.previousSibling;)if(Mn=Ft["s-nr"],Mn&&Mn["s-sn"]===Rt["s-sn"]&&pn===Mn.parentNode&&(Mn=Mn.nextSibling,!Mn||!Mn["s-nr"])){In=Mn;break}(!In&&pn!==Rt.parentNode||Rt.nextSibling!==In)&&Rt!==In&&(!Rt["s-hn"]&&Rt["s-ol"]&&(Rt["s-hn"]=Rt["s-ol"].parentNode.nodeName),pn.insertBefore(Rt,In))}else 1===Rt.nodeType&&(Rt.hidden=!0)}ne&&Xn(Dt.$elm$),jn.$flags$&=-2,Fr.length=0})(J,q,Ne)}catch(ht){tn(ht,J.$hostElement$)}return null},Mr=J=>{const ve=J.$hostElement$,ht=J.$lazyInstance$,ot=J.$ancestorComponent$;vr(ht,"componentDidRender"),64&J.$flags$?vr(ht,"componentDidUpdate"):(J.$flags$|=64,Ve(ve),vr(ht,"componentDidLoad"),J.$onReadyResolve$(ve),ot||xr()),J.$onInstanceResolve$(ve),J.$onRenderResolve$&&(J.$onRenderResolve$(),J.$onRenderResolve$=void 0),512&J.$flags$&&Ji(()=>cr(J,!1)),J.$flags$&=-517},ii=J=>{{const q=Se(J),ve=q.$hostElement$.isConnected;return ve&&2==(18&q.$flags$)&&cr(q,!1),ve}},xr=J=>{Ve(Tr.documentElement),Ji(()=>mt(or,"appload",{detail:{namespace:"ionic"}}))},vr=(J,q,ve)=>{if(J&&J[q])try{return J[q](ve)}catch(Ne){tn(Ne)}},Ve=J=>J.classList.add("hydrated"),z=(J,q,ve)=>{if(q.$members$){J.watchers&&(q.$watchers$=J.watchers);const Ne=Object.entries(q.$members$),ht=J.prototype;if(Ne.map(([ot,[Dt]])=>{31&Dt||2&ve&&32&Dt?Object.defineProperty(ht,ot,{get(){return((J,q)=>Se(this).$instanceValues$.get(q))(0,ot)},set(Lt){((J,q,ve,Ne)=>{const ht=Se(J),ot=ht.$hostElement$,Dt=ht.$instanceValues$.get(q),Lt=ht.$flags$,Rt=ht.$lazyInstance$;ve=((J,q)=>null==J||Qe(J)?J:4&q?"false"!==J&&(""===J||!!J):2&q?parseFloat(J):1&q?String(J):J)(ve,Ne.$members$[q][0]);const Ft=Number.isNaN(Dt)&&Number.isNaN(ve);if((!(8&Lt)||void 0===Dt)&&ve!==Dt&&!Ft&&(ht.$instanceValues$.set(q,ve),Rt)){if(Ne.$watchers$&&128&Lt){const In=Ne.$watchers$[q];In&&In.map(Mn=>{try{Rt[Mn](ve,Dt,q)}catch(nr){tn(nr,ot)}})}2==(18&Lt)&&cr(ht,!1)}})(this,ot,Lt,q)},configurable:!0,enumerable:!0}):1&ve&&64&Dt&&Object.defineProperty(ht,ot,{value(...Lt){const Rt=Se(this);return Rt.$onInstancePromise$.then(()=>Rt.$lazyInstance$[ot](...Lt))}})}),1&ve){const ot=new Map;ht.attributeChangedCallback=function(Dt,Lt,Rt){jn.jmp(()=>{const Ft=ot.get(Dt);if(this.hasOwnProperty(Ft))Rt=this[Ft],delete this[Ft];else if(ht.hasOwnProperty(Ft)&&"number"==typeof this[Ft]&&this[Ft]==Rt)return;this[Ft]=(null!==Rt||"boolean"!=typeof this[Ft])&&Rt})},J.observedAttributes=Ne.filter(([Dt,Lt])=>15&Lt[0]).map(([Dt,Lt])=>{const Rt=Lt[1]||Dt;return ot.set(Rt,Dt),512&Lt[0]&&q.$attrsToReflect$.push([Dt,Rt]),Rt})}}return J},O=function(){var J=(0,d.Z)(function*(q,ve,Ne,ht,ot){if(!(32&ve.$flags$)){ve.$flags$|=32;{if((ot=qn(Ne)).then){const Ft=()=>{};ot=yield ot,Ft()}ot.isProxied||(Ne.$watchers$=ot.watchers,z(ot,Ne,2),ot.isProxied=!0);const Rt=()=>{};ve.$flags$|=8;try{new ot(ve)}catch(Ft){tn(Ft)}ve.$flags$&=-9,ve.$flags$|=128,Rt(),se(ve.$lazyInstance$)}if(ot.style){let Rt=ot.style;"string"!=typeof Rt&&(Rt=Rt[ve.$modeName$=(J=>Gn.map(q=>q(J)).find(q=>!!q))(q)]);const Ft=vt(Ne,ve.$modeName$);if(!er.has(Ft)){const pn=()=>{};Ot(Ft,Rt,!!(1&Ne.$flags$)),pn()}}}const Dt=ve.$ancestorComponent$,Lt=()=>cr(ve,!0);Dt&&Dt["s-rc"]?Dt["s-rc"].push(Lt):Lt()});return function(ve,Ne,ht,ot,Dt){return J.apply(this,arguments)}}(),se=J=>{vr(J,"connectedCallback")},ct=J=>{const q=J["s-cr"]=Tr.createComment("");q["s-cn"]=!0,J.insertBefore(q,J.firstChild)},jt=J=>{vr(J,"disconnectedCallback")},kt=function(){var J=(0,d.Z)(function*(q){if(!(1&jn.$flags$)){const ve=Se(q);ve.$rmListeners$&&(ve.$rmListeners$.map(Ne=>Ne()),ve.$rmListeners$=void 0),null!=ve&&ve.$lazyInstance$?jt(ve.$lazyInstance$):null!=ve&&ve.$onReadyPromise$&&ve.$onReadyPromise$.then(()=>jt(ve.$lazyInstance$))}});return function(ve){return J.apply(this,arguments)}}(),yn=(J,q={})=>{var ve;const ht=[],ot=q.exclude||[],Dt=or.customElements,Lt=Tr.head,Rt=Lt.querySelector("meta[charset]"),Ft=Tr.createElement("style"),pn=[],In=Tr.querySelectorAll(`[${it}]`);let Mn,nr=!0,bi=0;for(Object.assign(jn,q),jn.$resourcesUrl$=new URL(q.resourcesUrl||"./",Tr.baseURI).href,jn.$flags$|=2;bi<In.length;bi++)Ot(In[bi].getAttribute(it),Zt(In[bi].innerHTML),!0);J.map(Hr=>{Hr[1].map(di=>{const Ai={$flags$:di[0],$tagName$:di[1],$members$:di[2],$listeners$:di[3]};Ai.$members$=di[2],Ai.$listeners$=di[3],Ai.$attrsToReflect$=[],Ai.$watchers$={};const Vn=Ai.$tagName$,qr=class extends HTMLElement{constructor(wr){super(wr),Pt(wr=this,Ai),1&Ai.$flags$&&wr.attachShadow({mode:"open",delegatesFocus:!!(16&Ai.$flags$)})}connectedCallback(){Mn&&(clearTimeout(Mn),Mn=null),nr?pn.push(this):jn.jmp(()=>(J=>{if(!(1&jn.$flags$)){const q=Se(J),ve=q.$cmpMeta$,Ne=()=>{};if(1&q.$flags$)fn(J,q,ve.$listeners$),null!=q&&q.$lazyInstance$?se(q.$lazyInstance$):null!=q&&q.$onReadyPromise$&&q.$onReadyPromise$.then(()=>se(q.$lazyInstance$));else{let ht;if(q.$flags$|=1,ht=J.getAttribute(Xe),ht){if(1&ve.$flags$){const ot=qt(J.shadowRoot,ve,J.getAttribute("s-mode"));J.classList.remove(ot+"-h",ot+"-s")}((J,q,ve,Ne)=>{const ot=J.shadowRoot,Dt=[],Rt=ot?[]:null,Ft=Ne.$vnode$=Ae(q,null);jn.$orgLocNodes$||Re(Tr.body,jn.$orgLocNodes$=new Map),J[Xe]=ve,J.removeAttribute(Xe),be(Ft,Dt,[],Rt,J,J,ve),Dt.map(pn=>{const In=pn.$hostId$+"."+pn.$nodeId$,Mn=jn.$orgLocNodes$.get(In),nr=pn.$elm$;Mn&&Sn&&""===Mn["s-en"]&&Mn.parentNode.insertBefore(nr,Mn.nextSibling),ot||(nr["s-hn"]=q,Mn&&(nr["s-ol"]=Mn,nr["s-ol"]["s-nr"]=nr)),jn.$orgLocNodes$.delete(In)}),ot&&Rt.map(pn=>{pn&&ot.appendChild(pn)})})(J,ve.$tagName$,ht,q)}ht||12&ve.$flags$&&ct(J);{let ot=J;for(;ot=ot.parentNode||ot.host;)if(1===ot.nodeType&&ot.hasAttribute("s-id")&&ot["s-p"]||ot["s-p"]){ti(q,q.$ancestorComponent$=ot);break}}ve.$members$&&Object.entries(ve.$members$).map(([ot,[Dt]])=>{if(31&Dt&&J.hasOwnProperty(ot)){const Lt=J[ot];delete J[ot],J[ot]=Lt}}),O(J,q,ve)}Ne()}})(this))}disconnectedCallback(){jn.jmp(()=>kt(this))}componentOnReady(){return Se(this).$onReadyPromise$}};Ai.$lazyBundleId$=Hr[0],!ot.includes(Vn)&&!Dt.get(Vn)&&(ht.push(Vn),Dt.define(Vn,z(qr,Ai,1)))})});{Ft.innerHTML=ht+"{visibility:hidden}.hydrated{visibility:inherit}",Ft.setAttribute("data-styles","");const Hr=null!==(ve=jn.$nonce$)&&void 0!==ve?ve:ut(Tr);null!=Hr&&Ft.setAttribute("nonce",Hr),Lt.insertBefore(Ft,Rt?Rt.nextSibling:Lt.firstChild)}nr=!1,pn.length?pn.map(Hr=>Hr.connectedCallback()):jn.jmp(()=>Mn=setTimeout(xr,30))},fn=(J,q,ve,Ne)=>{ve&&ve.map(([ht,ot,Dt])=>{const Lt=je(J,ht),Rt=Ln(q,Dt),Ft=Me(ht);jn.ael(Lt,ot,Rt,Ft),(q.$rmListeners$=q.$rmListeners$||[]).push(()=>jn.rel(Lt,ot,Rt,Ft))})},Ln=(J,q)=>ve=>{try{256&J.$flags$?J.$lazyInstance$[q](ve):(J.$queuedListeners$=J.$queuedListeners$||[]).push([q,ve])}catch(Ne){tn(Ne)}},je=(J,q)=>4&q?Tr:8&q?or:16&q?Tr.body:J,Me=J=>0!=(2&J),me=new WeakMap,Se=J=>me.get(J),Ye=(J,q)=>me.set(q.$lazyInstance$=J,q),Pt=(J,q)=>{const ve={$flags$:0,$hostElement$:J,$cmpMeta$:q,$instanceValues$:new Map};return ve.$onInstancePromise$=new Promise(Ne=>ve.$onInstanceResolve$=Ne),ve.$onReadyPromise$=new Promise(Ne=>ve.$onReadyResolve$=Ne),J["s-p"]=[],J["s-rc"]=[],fn(J,ve,q.$listeners$),me.set(J,ve)},It=(J,q)=>q in J,tn=(J,q)=>(0,console.error)(J,q),ln=new Map,qn=(J,q,ve)=>{const Ne=J.$tagName$.replace(/-/g,"_"),ht=J.$lazyBundleId$,ot=ln.get(ht);return ot?ot[Ne]:x(863)(`./${ht}.entry.js`).then(Dt=>(ln.set(ht,Dt),Dt[Ne]),tn)},er=new Map,Gn=[],or=typeof window<"u"?window:{},Tr=or.document||{head:{}},jn={$flags$:0,$resourcesUrl$:"",jmp:J=>J(),raf:J=>requestAnimationFrame(J),ael:(J,q,ve,Ne)=>J.addEventListener(q,ve,Ne),rel:(J,q,ve,Ne)=>J.removeEventListener(q,ve,Ne),ce:(J,q)=>new CustomEvent(J,q)},pr=J=>{Object.assign(jn,J)},Sn=!0,Ti=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),gr=[],sr=[],dr=(J,q)=>ve=>{J.push(ve),re||(re=!0,q&&4&jn.$flags$?Ji(Ei):jn.raf(Ei))},ci=J=>{for(let q=0;q<J.length;q++)try{J[q](performance.now())}catch(ve){tn(ve)}J.length=0},Ei=()=>{ci(gr),ci(sr),(re=gr.length>0)&&jn.raf(Ei)},Ji=J=>Promise.resolve(void 0).then(J),$r=dr(gr,!1),wi=dr(sr,!0)},5662:(Ht,Ke,x)=>{"use strict";x.d(Ke,{m:()=>ue});var d=x(5861),h=x(2124),Y=x(839),ae=x(2085),Ee=x(1774);const te=De=>(0,Ee.c)().duration(De?400:300),ne=De=>{let Ce,we;const xe=De.width+8,He=(0,Ee.c)(),Fe=(0,Ee.c)();De.isEndSide?(Ce=xe+"px",we="0px"):(Ce=-xe+"px",we="0px"),He.addElement(De.menuInnerEl).fromTo("transform",`translateX(${Ce})`,`translateX(${we})`);const Xe="ios"===(0,ae.b)(De),it=Xe?.2:.25;return Fe.addElement(De.backdropEl).fromTo("opacity",.01,it),te(Xe).addAnimation([He,Fe])},$e=De=>{let Ce,we;const xe=(0,ae.b)(De),He=De.width;De.isEndSide?(Ce=-He+"px",we=He+"px"):(Ce=He+"px",we=-He+"px");const Fe=(0,Ee.c)().addElement(De.menuInnerEl).fromTo("transform",`translateX(${we})`,"translateX(0px)"),fe=(0,Ee.c)().addElement(De.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ce})`),Xe=(0,Ee.c)().addElement(De.backdropEl).fromTo("opacity",.01,.32);return te("ios"===xe).addAnimation([Fe,fe,Xe])},Oe=De=>{const Ce=(0,ae.b)(De),we=De.width*(De.isEndSide?-1:1)+"px",xe=(0,Ee.c)().addElement(De.contentEl).fromTo("transform","translateX(0px)",`translateX(${we})`);return te("ios"===Ce).addAnimation(xe)},ue=(()=>{const De=new Map,Ce=[],we=function(){var ee=(0,d.Z)(function*(oe){const be=yield ge(oe);return!!be&&be.open()});return function(be){return ee.apply(this,arguments)}}(),xe=function(){var ee=(0,d.Z)(function*(oe){const be=yield void 0!==oe?ge(oe):Le();return void 0!==be&&be.close()});return function(be){return ee.apply(this,arguments)}}(),He=function(){var ee=(0,d.Z)(function*(oe){const be=yield ge(oe);return!!be&&be.toggle()});return function(be){return ee.apply(this,arguments)}}(),Fe=function(){var ee=(0,d.Z)(function*(oe,be){const Re=yield ge(be);return Re&&(Re.disabled=!oe),Re});return function(be,Re){return ee.apply(this,arguments)}}(),fe=function(){var ee=(0,d.Z)(function*(oe,be){const Re=yield ge(be);return Re&&(Re.swipeGesture=oe),Re});return function(be,Re){return ee.apply(this,arguments)}}(),Xe=function(){var ee=(0,d.Z)(function*(oe){if(null!=oe){const be=yield ge(oe);return void 0!==be&&be.isOpen()}return void 0!==(yield Le())});return function(be){return ee.apply(this,arguments)}}(),it=function(){var ee=(0,d.Z)(function*(oe){const be=yield ge(oe);return!!be&&!be.disabled});return function(be){return ee.apply(this,arguments)}}(),ge=function(){var ee=(0,d.Z)(function*(oe){return yield Ue(),"start"===oe||"end"===oe?tt(qe=>qe.side===oe&&!qe.disabled)||tt(qe=>qe.side===oe):null!=oe?tt(Re=>Re.menuId===oe):tt(Re=>!Re.disabled)||(Ce.length>0?Ce[0].el:void 0)});return function(be){return ee.apply(this,arguments)}}(),Le=function(){var ee=(0,d.Z)(function*(){return yield Ue(),Ae()});return function(){return ee.apply(this,arguments)}}(),Pe=function(){var ee=(0,d.Z)(function*(){return yield Ue(),Te()});return function(){return ee.apply(this,arguments)}}(),ze=function(){var ee=(0,d.Z)(function*(){return yield Ue(),at()});return function(){return ee.apply(this,arguments)}}(),ke=(ee,oe)=>{De.set(ee,oe)},Qe=ee=>{const oe=ee.side;Ce.filter(be=>be.side===oe&&be!==ee).forEach(be=>be.disabled=!0)},ut=function(){var ee=(0,d.Z)(function*(oe,be,Re){if(at())return!1;if(be){const qe=yield Le();qe&&oe.el!==qe&&(yield qe.setOpen(!1,!1))}return oe._setOpen(be,Re)});return function(be,Re,qe){return ee.apply(this,arguments)}}(),Ae=()=>tt(ee=>ee._isOpen),Te=()=>Ce.map(ee=>ee.el),at=()=>Ce.some(ee=>ee.isAnimating),tt=ee=>{const oe=Ce.find(ee);if(void 0!==oe)return oe.el},Ue=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ee=>new Promise(oe=>(0,Y.c)(ee,oe))));return ke("reveal",Oe),ke("push",$e),ke("overlay",ne),typeof document<"u"&&document.addEventListener("ionBackButton",ee=>{const oe=Ae();oe&&ee.detail.register(h.MENU_BACK_BUTTON_PRIORITY,()=>oe.close())}),{registerAnimation:ke,get:ge,getMenus:Pe,getOpen:Le,isEnabled:it,swipeGesture:fe,isAnimating:ze,isOpen:Xe,enable:Fe,toggle:He,close:xe,open:we,_getOpenSync:Ae,_createAnimation:(ee,oe)=>{const be=De.get(ee);if(!be)throw new Error("animation not registered");return be(oe)},_register:ee=>{Ce.indexOf(ee)<0&&(ee.disabled||Qe(ee),Ce.push(ee))},_unregister:ee=>{const oe=Ce.indexOf(ee);oe>-1&&Ce.splice(oe,1)},_setOpen:ut,_setActiveMenu:Qe}})()},9203:(Ht,Ke,x)=>{"use strict";x.r(Ke),x.d(Ke,{GESTURE_CONTROLLER:()=>d.G,createGesture:()=>Oe});var d=x(619);const h=(Ce,we,xe,He)=>{const Fe=Y(Ce)?{capture:!!He.capture,passive:!!He.passive}:!!He.capture;let fe,Xe;return Ce.__zone_symbol__addEventListener?(fe="__zone_symbol__addEventListener",Xe="__zone_symbol__removeEventListener"):(fe="addEventListener",Xe="removeEventListener"),Ce[fe](we,xe,Fe),()=>{Ce[Xe](we,xe,Fe)}},Y=Ce=>{if(void 0===ae)try{const we=Object.defineProperty({},"passive",{get:()=>{ae=!0}});Ce.addEventListener("optsTest",()=>{},we)}catch{ae=!1}return!!ae};let ae;const ne=Ce=>Ce instanceof Document?Ce:Ce.ownerDocument,Oe=Ce=>{let we=!1,xe=!1,He=!0,Fe=!1;const fe=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ce),Xe=fe.canStart,it=fe.onWillStart,ge=fe.onStart,Le=fe.onEnd,Pe=fe.notCaptured,ze=fe.onMove,ke=fe.threshold,_e=fe.passive,lt=fe.blurOnStart,Qe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ut=((Ce,we,xe)=>{const He=xe*(Math.PI/180),Fe="x"===Ce,fe=Math.cos(He),Xe=we*we;let it=0,ge=0,Le=!1,Pe=0;return{start(ze,ke){it=ze,ge=ke,Pe=0,Le=!0},detect(ze,ke){if(!Le)return!1;const _e=ze-it,lt=ke-ge,Qe=_e*_e+lt*lt;if(Qe<Xe)return!1;const ut=Math.sqrt(Qe),pt=(Fe?_e:lt)/ut;return Pe=pt>fe?1:pt<-fe?-1:0,Le=!1,!0},isGesture:()=>0!==Pe,getDirection:()=>Pe}})(fe.direction,fe.threshold,fe.maxAngle),pt=d.G.createGesture({name:Ce.gestureName,priority:Ce.gesturePriority,disableScroll:Ce.disableScroll}),at=()=>{we&&(Fe=!1,ze&&ze(Qe))},tt=()=>!!pt.capture()&&(we=!0,He=!1,Qe.startX=Qe.currentX,Qe.startY=Qe.currentY,Qe.startTime=Qe.currentTime,it?it(Qe).then(ee):ee(),!0),ee=()=>{lt&&(()=>{if(typeof document<"u"){const nt=document.activeElement;null!=nt&&nt.blur&&nt.blur()}})(),ge&&ge(Qe),He=!0},oe=()=>{we=!1,xe=!1,Fe=!1,He=!0,pt.release()},be=nt=>{const St=we,Ct=He;if(oe(),Ct){if(re(Qe,nt),St)return void(Le&&Le(Qe));Pe&&Pe(Qe)}},Re=((Ce,we,xe,He,Fe)=>{let fe,Xe,it,ge,Le,Pe,ze,ke=0;const _e=Ue=>{ke=Date.now()+2e3,we(Ue)&&(!Xe&&xe&&(Xe=h(Ce,"touchmove",xe,Fe)),it||(it=h(Ue.target,"touchend",Qe,Fe)),ge||(ge=h(Ue.target,"touchcancel",Qe,Fe)))},lt=Ue=>{ke>Date.now()||we(Ue)&&(!Pe&&xe&&(Pe=h(ne(Ce),"mousemove",xe,Fe)),ze||(ze=h(ne(Ce),"mouseup",ut,Fe)))},Qe=Ue=>{pt(),He&&He(Ue)},ut=Ue=>{Ae(),He&&He(Ue)},pt=()=>{Xe&&Xe(),it&&it(),ge&&ge(),Xe=it=ge=void 0},Ae=()=>{Pe&&Pe(),ze&&ze(),Pe=ze=void 0},Te=()=>{pt(),Ae()},at=(Ue=!0)=>{Ue?(fe||(fe=h(Ce,"touchstart",_e,Fe)),Le||(Le=h(Ce,"mousedown",lt,Fe))):(fe&&fe(),Le&&Le(),fe=Le=void 0,Te())};return{enable:at,stop:Te,destroy:()=>{at(!1),He=xe=we=void 0}}})(fe.el,nt=>{const St=De(nt);return!(xe||!He||(ue(nt,Qe),Qe.startX=Qe.currentX,Qe.startY=Qe.currentY,Qe.startTime=Qe.currentTime=St,Qe.velocityX=Qe.velocityY=Qe.deltaX=Qe.deltaY=0,Qe.event=nt,Xe&&!1===Xe(Qe))||(pt.release(),!pt.start()))&&(xe=!0,0===ke?tt():(ut.start(Qe.startX,Qe.startY),!0))},nt=>{we?!Fe&&He&&(Fe=!0,re(Qe,nt),requestAnimationFrame(at)):(re(Qe,nt),ut.detect(Qe.currentX,Qe.currentY)&&(!ut.isGesture()||!tt())&&qe())},be,{capture:!1,passive:_e}),qe=()=>{oe(),Re.stop(),Pe&&Pe(Qe)};return{enable(nt=!0){nt||(we&&be(void 0),oe()),Re.enable(nt)},destroy(){pt.destroy(),Re.destroy()}}},re=(Ce,we)=>{if(!we)return;const xe=Ce.currentX,He=Ce.currentY,Fe=Ce.currentTime;ue(we,Ce);const fe=Ce.currentX,Xe=Ce.currentY,ge=(Ce.currentTime=De(we))-Fe;if(ge>0&&ge<100){const Pe=(Xe-He)/ge;Ce.velocityX=(fe-xe)/ge*.7+.3*Ce.velocityX,Ce.velocityY=.7*Pe+.3*Ce.velocityY}Ce.deltaX=fe-Ce.startX,Ce.deltaY=Xe-Ce.startY,Ce.event=we},ue=(Ce,we)=>{let xe=0,He=0;if(Ce){const Fe=Ce.changedTouches;if(Fe&&Fe.length>0){const fe=Fe[0];xe=fe.clientX,He=fe.clientY}else void 0!==Ce.pageX&&(xe=Ce.pageX,He=Ce.pageY)}we.currentX=xe,we.currentY=He},De=Ce=>Ce.timeStamp||Date.now()},2085:(Ht,Ke,x)=>{"use strict";x.d(Ke,{a:()=>ue,b:()=>at,c:()=>Y,g:()=>re,i:()=>tt});var d=x(1688);class h{constructor(){this.m=new Map}reset(ee){this.m=new Map(Object.entries(ee))}get(ee,oe){const be=this.m.get(ee);return void 0!==be?be:oe}getBoolean(ee,oe=!1){const be=this.m.get(ee);return void 0===be?oe:"string"==typeof be?"true"===be:!!be}getNumber(ee,oe){const be=parseFloat(this.m.get(ee));return isNaN(be)?void 0!==oe?oe:NaN:be}set(ee,oe){this.m.set(ee,oe)}}const Y=new h,Oe="ionic-persist-config",re=Ue=>De(Ue),ue=(Ue,ee)=>("string"==typeof Ue&&(ee=Ue,Ue=void 0),re(Ue).includes(ee)),De=(Ue=window)=>{if(typeof Ue>"u")return[];Ue.Ionic=Ue.Ionic||{};let ee=Ue.Ionic.platforms;return null==ee&&(ee=Ue.Ionic.platforms=Ce(Ue),ee.forEach(oe=>Ue.document.documentElement.classList.add(`plt-${oe}`))),ee},Ce=Ue=>{const ee=Y.get("platform");return Object.keys(Ae).filter(oe=>{const be=null==ee?void 0:ee[oe];return"function"==typeof be?be(Ue):Ae[oe](Ue)})},xe=Ue=>!!(ut(Ue,/iPad/i)||ut(Ue,/Macintosh/i)&&Le(Ue)),fe=Ue=>ut(Ue,/android|sink/i),Le=Ue=>pt(Ue,"(any-pointer:coarse)"),ze=Ue=>ke(Ue)||_e(Ue),ke=Ue=>!!(Ue.cordova||Ue.phonegap||Ue.PhoneGap),_e=Ue=>{const ee=Ue.Capacitor;return!(null==ee||!ee.isNative)},ut=(Ue,ee)=>ee.test(Ue.navigator.userAgent),pt=(Ue,ee)=>{var oe;return null===(oe=Ue.matchMedia)||void 0===oe?void 0:oe.call(Ue,ee).matches},Ae={ipad:xe,iphone:Ue=>ut(Ue,/iPhone/i),ios:Ue=>ut(Ue,/iPhone|iPod/i)||xe(Ue),android:fe,phablet:Ue=>{const ee=Ue.innerWidth,oe=Ue.innerHeight,be=Math.min(ee,oe),Re=Math.max(ee,oe);return be>390&&be<520&&Re>620&&Re<800},tablet:Ue=>{const ee=Ue.innerWidth,oe=Ue.innerHeight,be=Math.min(ee,oe),Re=Math.max(ee,oe);return xe(Ue)||(Ue=>fe(Ue)&&!ut(Ue,/mobile/i))(Ue)||be>460&&be<820&&Re>780&&Re<1400},cordova:ke,capacitor:_e,electron:Ue=>ut(Ue,/electron/i),pwa:Ue=>{var ee;return!!(null!==(ee=Ue.matchMedia)&&void 0!==ee&&ee.call(Ue,"(display-mode: standalone)").matches||Ue.navigator.standalone)},mobile:Le,mobileweb:Ue=>Le(Ue)&&!ze(Ue),desktop:Ue=>!Le(Ue),hybrid:ze};let Te;const at=Ue=>Ue&&(0,d.g)(Ue)||Te,tt=(Ue={})=>{if(typeof window>"u")return;const ee=window.document,oe=window,be=oe.Ionic=oe.Ionic||{},Re={};Ue._ael&&(Re.ael=Ue._ael),Ue._rel&&(Re.rel=Ue._rel),Ue._ce&&(Re.ce=Ue._ce),(0,d.a)(Re);const qe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ue=>{try{const ee=Ue.sessionStorage.getItem(Oe);return null!==ee?JSON.parse(ee):{}}catch{return{}}})(oe)),{persistConfig:!1}),be.config),(Ue=>{const ee={};return Ue.location.search.slice(1).split("&").map(oe=>oe.split("=")).map(([oe,be])=>[decodeURIComponent(oe),decodeURIComponent(be)]).filter(([oe])=>((Ue,ee)=>Ue.substr(0,ee.length)===ee)(oe,"ionic:")).map(([oe,be])=>[oe.slice(6),be]).forEach(([oe,be])=>{ee[oe]=be}),ee})(oe)),Ue);Y.reset(qe),Y.getBoolean("persistConfig")&&((Ue,ee)=>{try{Ue.sessionStorage.setItem(Oe,JSON.stringify(ee))}catch{return}})(oe,qe),De(oe),be.config=Y,be.mode=Te=Y.get("mode",ee.documentElement.getAttribute("mode")||(ue(oe,"ios")?"ios":"md")),Y.set("mode",Te),ee.documentElement.setAttribute("mode",Te),ee.documentElement.classList.add(Te),Y.getBoolean("_testing")&&Y.set("animated",!1);const nt=Ct=>{var zt;return null===(zt=Ct.tagName)||void 0===zt?void 0:zt.startsWith("ION-")},St=Ct=>["ios","md"].includes(Ct);(0,d.c)(Ct=>{for(;Ct;){const zt=Ct.mode||Ct.getAttribute("mode");if(zt){if(St(zt))return zt;nt(Ct)&&console.warn('Invalid ionic mode: "'+zt+'", expected: "ios" or "md"')}Ct=Ct.parentElement}return Te})}},2650:(Ht,Ke,x)=>{"use strict";x.r(Ke),x.d(Ke,{iosTransitionAnimation:()=>Ce,shadow:()=>ne});var d=x(1774),h=x(1651);x(6225),x(1688);const te=we=>document.querySelector(`${we}.ion-cloned-element`),ne=we=>we.shadowRoot||we,$e=we=>{const xe="ION-TABS"===we.tagName?we:we.querySelector("ion-tabs"),He="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=xe){const Fe=xe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Fe?Fe.querySelector(He):null}return we.querySelector(He)},Oe=(we,xe)=>{const He="ION-TABS"===we.tagName?we:we.querySelector("ion-tabs");let Fe=[];if(null!=He){const fe=He.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=fe&&(Fe=fe.querySelectorAll("ion-buttons"))}else Fe=we.querySelectorAll("ion-buttons");for(const fe of Fe){const Xe=fe.closest("ion-header"),it=Xe&&!Xe.classList.contains("header-collapse-condense-inactive"),ge=fe.querySelector("ion-back-button"),Le=fe.classList.contains("buttons-collapse");if(null!==ge&&("start"===fe.slot||""===fe.slot)&&(Le&&it&&xe||!Le))return ge}return null},ue=(we,xe,He,Fe,fe,Xe)=>{const it=xe?`calc(100% - ${Xe.right+4}px)`:Xe.left-4+"px",ge=xe?"7px":"-7px",Le=xe?"-4px":"4px",Pe=xe?"-4px":"4px",ze=xe?"right":"left",ke=xe?"left":"right",Qe=He?[{offset:0,opacity:1,transform:`translate3d(${Le}, ${Xe.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ge}, ${fe.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${ge}, ${fe.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Le}, ${Xe.top-46}px, 0) scale(1)`}],Ae=He?[{offset:0,opacity:1,transform:`translate3d(${Pe}, ${Xe.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Pe}, ${Xe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Pe}, ${Xe.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Pe}, ${Xe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Pe}, ${Xe.top-46}px, 0) scale(1)`}],Te=(0,d.c)(),at=(0,d.c)(),tt=te("ion-back-button"),Ue=ne(tt).querySelector(".button-text"),ee=ne(tt).querySelector("ion-icon");tt.text=Fe.text,tt.mode=Fe.mode,tt.icon=Fe.icon,tt.color=Fe.color,tt.disabled=Fe.disabled,tt.style.setProperty("display","block"),tt.style.setProperty("position","fixed"),at.addElement(ee),Te.addElement(Ue),Te.beforeStyles({"transform-origin":`${ze} center`}).beforeAddWrite(()=>{Fe.style.setProperty("display","none"),tt.style.setProperty(ze,it)}).afterAddWrite(()=>{Fe.style.setProperty("display",""),tt.style.setProperty("display","none"),tt.style.removeProperty(ze)}).keyframes(Qe),at.beforeStyles({"transform-origin":`${ke} center`}).keyframes(Ae),we.addAnimation([Te,at])},De=(we,xe,He,Fe,fe,Xe)=>{const it=xe?`calc(100% - ${fe.right}px)`:`${fe.left}px`,ge=xe?"-18px":"18px",Le=xe?"right":"left",ke=He?[{offset:0,opacity:0,transform:`translate3d(${ge}, ${Xe.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${fe.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${fe.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ge}, ${Xe.top-4}px, 0) scale(0.5)`}],_e=te("ion-title"),lt=(0,d.c)();_e.innerText=Fe.innerText,_e.size=Fe.size,_e.color=Fe.color,lt.addElement(_e),lt.beforeStyles({"transform-origin":`${Le} center`,height:"46px",display:"",position:"relative",[Le]:it}).beforeAddWrite(()=>{Fe.style.setProperty("display","none")}).afterAddWrite(()=>{Fe.style.setProperty("display",""),_e.style.setProperty("display","none")}).keyframes(ke),we.addAnimation(lt)},Ce=(we,xe)=>{var He;try{const Fe="cubic-bezier(0.32,0.72,0,1)",fe="opacity",Xe="transform",it="0%",Le="rtl"===we.ownerDocument.dir,Pe=Le?"-99.5%":"99.5%",ze=Le?"33%":"-33%",ke=xe.enteringEl,_e=xe.leavingEl,lt="back"===xe.direction,Qe=ke.querySelector(":scope > ion-content"),ut=ke.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),pt=ke.querySelectorAll(":scope > ion-header > ion-toolbar"),Ae=(0,d.c)(),Te=(0,d.c)();if(Ae.addElement(ke).duration((null!==(He=xe.duration)&&void 0!==He?He:0)||540).easing(xe.easing||Fe).fill("both").beforeRemoveClass("ion-page-invisible"),_e&&null!=we){const ee=(0,d.c)();ee.addElement(we),Ae.addAnimation(ee)}if(Qe||0!==pt.length||0!==ut.length?(Te.addElement(Qe),Te.addElement(ut)):Te.addElement(ke.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ae.addAnimation(Te),lt?Te.beforeClearStyles([fe]).fromTo("transform",`translateX(${ze})`,`translateX(${it})`).fromTo(fe,.8,1):Te.beforeClearStyles([fe]).fromTo("transform",`translateX(${Pe})`,`translateX(${it})`),Qe){const ee=ne(Qe).querySelector(".transition-effect");if(ee){const oe=ee.querySelector(".transition-cover"),be=ee.querySelector(".transition-shadow"),Re=(0,d.c)(),qe=(0,d.c)(),nt=(0,d.c)();Re.addElement(ee).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),qe.addElement(oe).beforeClearStyles([fe]).fromTo(fe,0,.1),nt.addElement(be).beforeClearStyles([fe]).fromTo(fe,.03,.7),Re.addAnimation([qe,nt]),Te.addAnimation([Re])}}const at=ke.querySelector("ion-header.header-collapse-condense"),{forward:tt,backward:Ue}=((we,xe,He,Fe,fe)=>{const Xe=Oe(Fe,He),it=$e(fe),ge=$e(Fe),Le=Oe(fe,He),Pe=null!==Xe&&null!==it&&!He,ze=null!==ge&&null!==Le&&He;if(Pe){const ke=it.getBoundingClientRect(),_e=Xe.getBoundingClientRect();De(we,xe,He,it,ke,_e),ue(we,xe,He,Xe,ke,_e)}else if(ze){const ke=ge.getBoundingClientRect(),_e=Le.getBoundingClientRect();De(we,xe,He,ge,ke,_e),ue(we,xe,He,Le,ke,_e)}return{forward:Pe,backward:ze}})(Ae,Le,lt,ke,_e);if(pt.forEach(ee=>{const oe=(0,d.c)();oe.addElement(ee),Ae.addAnimation(oe);const be=(0,d.c)();be.addElement(ee.querySelector("ion-title"));const Re=(0,d.c)(),qe=Array.from(ee.querySelectorAll("ion-buttons,[menuToggle]")),nt=ee.closest("ion-header"),St=null==nt?void 0:nt.classList.contains("header-collapse-condense-inactive");let Ct;Ct=qe.filter(lt?Ot=>{const qt=Ot.classList.contains("buttons-collapse");return qt&&!St||!qt}:Ot=>!Ot.classList.contains("buttons-collapse")),Re.addElement(Ct);const zt=(0,d.c)();zt.addElement(ee.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Je=(0,d.c)();Je.addElement(ne(ee).querySelector(".toolbar-background"));const mt=(0,d.c)(),_t=ee.querySelector("ion-back-button");if(_t&&mt.addElement(_t),oe.addAnimation([be,Re,zt,Je,mt]),Re.fromTo(fe,.01,1),zt.fromTo(fe,.01,1),lt)St||be.fromTo("transform",`translateX(${ze})`,`translateX(${it})`).fromTo(fe,.01,1),zt.fromTo("transform",`translateX(${ze})`,`translateX(${it})`),mt.fromTo(fe,.01,1);else if(at||be.fromTo("transform",`translateX(${Pe})`,`translateX(${it})`).fromTo(fe,.01,1),zt.fromTo("transform",`translateX(${Pe})`,`translateX(${it})`),Je.beforeClearStyles([fe,"transform"]),(null==nt?void 0:nt.translucent)?Je.fromTo("transform",Le?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Je.fromTo(fe,.01,"var(--opacity)"),tt||mt.fromTo(fe,.01,1),_t&&!tt){const qt=(0,d.c)();qt.addElement(ne(_t).querySelector(".button-text")).fromTo("transform",Le?"translateX(-100px)":"translateX(100px)","translateX(0px)"),oe.addAnimation(qt)}}),_e){const ee=(0,d.c)(),oe=_e.querySelector(":scope > ion-content"),be=_e.querySelectorAll(":scope > ion-header > ion-toolbar"),Re=_e.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(oe||0!==be.length||0!==Re.length?(ee.addElement(oe),ee.addElement(Re)):ee.addElement(_e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ae.addAnimation(ee),lt){ee.beforeClearStyles([fe]).fromTo("transform",`translateX(${it})`,Le?"translateX(-100%)":"translateX(100%)");const qe=(0,h.g)(_e);Ae.afterAddWrite(()=>{"normal"===Ae.getDirection()&&qe.style.setProperty("display","none")})}else ee.fromTo("transform",`translateX(${it})`,`translateX(${ze})`).fromTo(fe,1,.8);if(oe){const qe=ne(oe).querySelector(".transition-effect");if(qe){const nt=qe.querySelector(".transition-cover"),St=qe.querySelector(".transition-shadow"),Ct=(0,d.c)(),zt=(0,d.c)(),Je=(0,d.c)();Ct.addElement(qe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),zt.addElement(nt).beforeClearStyles([fe]).fromTo(fe,.1,0),Je.addElement(St).beforeClearStyles([fe]).fromTo(fe,.7,.03),Ct.addAnimation([zt,Je]),ee.addAnimation([Ct])}}be.forEach(qe=>{const nt=(0,d.c)();nt.addElement(qe);const St=(0,d.c)();St.addElement(qe.querySelector("ion-title"));const Ct=(0,d.c)(),zt=qe.querySelectorAll("ion-buttons,[menuToggle]"),Je=qe.closest("ion-header"),mt=null==Je?void 0:Je.classList.contains("header-collapse-condense-inactive"),_t=Array.from(zt).filter(Xt=>{const bt=Xt.classList.contains("buttons-collapse");return bt&&!mt||!bt});Ct.addElement(_t);const Ot=(0,d.c)(),qt=qe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");qt.length>0&&Ot.addElement(qt);const an=(0,d.c)();an.addElement(ne(qe).querySelector(".toolbar-background"));const vt=(0,d.c)(),Zt=qe.querySelector("ion-back-button");if(Zt&&vt.addElement(Zt),nt.addAnimation([St,Ct,Ot,vt,an]),Ae.addAnimation(nt),vt.fromTo(fe,.99,0),Ct.fromTo(fe,.99,0),Ot.fromTo(fe,.99,0),lt){if(mt||St.fromTo("transform",`translateX(${it})`,Le?"translateX(-100%)":"translateX(100%)").fromTo(fe,.99,0),Ot.fromTo("transform",`translateX(${it})`,Le?"translateX(-100%)":"translateX(100%)"),an.beforeClearStyles([fe,"transform"]),(null==Je?void 0:Je.translucent)?an.fromTo("transform","translateX(0px)",Le?"translateX(-100%)":"translateX(100%)"):an.fromTo(fe,"var(--opacity)",0),Zt&&!Ue){const bt=(0,d.c)();bt.addElement(ne(Zt).querySelector(".button-text")).fromTo("transform",`translateX(${it})`,`translateX(${(Le?-124:124)+"px"})`),nt.addAnimation(bt)}}else mt||St.fromTo("transform",`translateX(${it})`,`translateX(${ze})`).fromTo(fe,.99,0).afterClearStyles([Xe,fe]),Ot.fromTo("transform",`translateX(${it})`,`translateX(${ze})`).afterClearStyles([Xe,fe]),vt.afterClearStyles([fe]),St.afterClearStyles([fe]),Ct.afterClearStyles([fe])})}return Ae}catch(Fe){throw Fe}}},1904:(Ht,Ke,x)=>{"use strict";x.r(Ke),x.d(Ke,{mdTransitionAnimation:()=>Ee});var d=x(1774),h=x(1651);x(6225),x(1688);const Ee=(te,ne)=>{var $e,Oe,re;const Ce="back"===ne.direction,xe=ne.leavingEl,He=(0,h.g)(ne.enteringEl),Fe=He.querySelector("ion-toolbar"),fe=(0,d.c)();if(fe.addElement(He).fill("both").beforeRemoveClass("ion-page-invisible"),Ce?fe.duration((null!==($e=ne.duration)&&void 0!==$e?$e:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):fe.duration((null!==(Oe=ne.duration)&&void 0!==Oe?Oe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Fe){const Xe=(0,d.c)();Xe.addElement(Fe),fe.addAnimation(Xe)}if(xe&&Ce){fe.duration((null!==(re=ne.duration)&&void 0!==re?re:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Xe=(0,d.c)();Xe.addElement((0,h.g)(xe)).onFinish(it=>{1===it&&Xe.elements.length>0&&Xe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),fe.addAnimation(Xe)}return fe}},1647:(Ht,Ke,x)=>{"use strict";x.d(Ke,{B:()=>nt,G:()=>St,a:()=>ue,b:()=>De,c:()=>He,d:()=>Ct,e:()=>zt,f:()=>Ae,g:()=>at,h:()=>ee,i:()=>be,j:()=>fe,k:()=>Xe,l:()=>Ce,m:()=>we,n:()=>Oe,o:()=>Le,q:()=>ut,s:()=>qe,t:()=>Fe});var d=x(5861),h=x(2085),Y=x(6559),ae=x(2124),Ee=x(839),te=x(6710);let ne=0,$e=0;const Oe=new WeakMap,re=Je=>({create:mt=>it(Je,mt),dismiss:(mt,_t,Ot)=>lt(document,mt,_t,Je,Ot),getTop:()=>(0,d.Z)(function*(){return ut(document,Je)})()}),ue=re("ion-alert"),De=re("ion-action-sheet"),Ce=re("ion-loading"),we=re("ion-modal"),He=re("ion-popover"),Fe=re("ion-toast"),fe=Je=>{typeof document<"u"&&_e(document);const mt=ne++;Je.overlayIndex=mt},Xe=Je=>(Je.hasAttribute("id")||(Je.id="ion-overlay-"+ ++$e),Je.id),it=(Je,mt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Je).then(()=>{const _t=document.createElement(Je);return _t.classList.add("overlay-hidden"),Object.assign(_t,Object.assign(Object.assign({},mt),{hasController:!0})),tt(document).appendChild(_t),new Promise(Ot=>(0,Ee.c)(_t,Ot))}):Promise.resolve(),ge='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Le=(Je,mt)=>{let _t=Je.querySelector(ge);const Ot=null==_t?void 0:_t.shadowRoot;Ot&&(_t=Ot.querySelector(ge)||_t),_t?(0,Ee.f)(_t):mt.focus()},ze=(Je,mt)=>{const _t=Array.from(Je.querySelectorAll(ge));let Ot=_t.length>0?_t[_t.length-1]:null;const qt=null==Ot?void 0:Ot.shadowRoot;qt&&(Ot=qt.querySelector(ge)||Ot),Ot?Ot.focus():mt.focus()},_e=Je=>{0===ne&&(ne=1,Je.addEventListener("focus",mt=>{((Je,mt)=>{const _t=ut(mt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Ot=Je.target;_t&&Ot&&!_t.classList.contains("ion-disable-focus-trap")&&(_t.shadowRoot?(()=>{if(_t.contains(Ot))_t.lastFocus=Ot;else{const vt=_t.lastFocus;Le(_t,_t),vt===mt.activeElement&&ze(_t,_t),_t.lastFocus=mt.activeElement}})():(()=>{if(_t===Ot)_t.lastFocus=void 0;else{const vt=(0,Ee.g)(_t);if(!vt.contains(Ot))return;const Zt=vt.querySelector(".ion-overlay-wrapper");if(!Zt)return;if(Zt.contains(Ot)||Ot===vt.querySelector("ion-backdrop"))_t.lastFocus=Ot;else{const Xt=_t.lastFocus;Le(Zt,_t),Xt===mt.activeElement&&ze(Zt,_t),_t.lastFocus=mt.activeElement}}})())})(mt,Je)},!0),Je.addEventListener("ionBackButton",mt=>{const _t=ut(Je);null!=_t&&_t.backdropDismiss&&mt.detail.register(ae.OVERLAY_BACK_BUTTON_PRIORITY,()=>_t.dismiss(void 0,nt))}),Je.addEventListener("keydown",mt=>{if("Escape"===mt.key){const _t=ut(Je);null!=_t&&_t.backdropDismiss&&_t.dismiss(void 0,nt)}}))},lt=(Je,mt,_t,Ot,qt)=>{const an=ut(Je,Ot,qt);return an?an.dismiss(mt,_t):Promise.reject("overlay does not exist")},ut=(Je,mt,_t)=>{const Ot=((Je,mt)=>(void 0===mt&&(mt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Je.querySelectorAll(mt)).filter(_t=>_t.overlayIndex>0)))(Je,mt).filter(qt=>!(Je=>Je.classList.contains("overlay-hidden"))(qt));return void 0===_t?Ot[Ot.length-1]:Ot.find(qt=>qt.id===_t)},pt=(Je=!1)=>{const _t=tt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");_t&&(Je?_t.setAttribute("aria-hidden","true"):_t.removeAttribute("aria-hidden"))},Ae=function(){var Je=(0,d.Z)(function*(mt,_t,Ot,qt,an){var vt,Zt;if(mt.presented)return;pt(!0),mt.presented=!0,mt.willPresent.emit(),null===(vt=mt.willPresentShorthand)||void 0===vt||vt.emit();const Xt=(0,h.b)(mt),bt=mt.enterAnimation?mt.enterAnimation:h.c.get(_t,"ios"===Xt?Ot:qt);(yield Ue(mt,bt,mt.el,an))&&(mt.didPresent.emit(),null===(Zt=mt.didPresentShorthand)||void 0===Zt||Zt.emit()),"ION-TOAST"!==mt.el.tagName&&Te(mt.el),mt.keyboardClose&&(null===document.activeElement||!mt.el.contains(document.activeElement))&&mt.el.focus()});return function(_t,Ot,qt,an,vt){return Je.apply(this,arguments)}}(),Te=function(){var Je=(0,d.Z)(function*(mt){let _t=document.activeElement;if(!_t)return;const Ot=null==_t?void 0:_t.shadowRoot;Ot&&(_t=Ot.querySelector(ge)||_t),yield mt.onDidDismiss(),_t.focus()});return function(_t){return Je.apply(this,arguments)}}(),at=function(){var Je=(0,d.Z)(function*(mt,_t,Ot,qt,an,vt,Zt){var Xt,bt;if(!mt.presented)return!1;pt(!1),mt.presented=!1;try{mt.el.style.setProperty("pointer-events","none"),mt.willDismiss.emit({data:_t,role:Ot}),null===(Xt=mt.willDismissShorthand)||void 0===Xt||Xt.emit({data:_t,role:Ot});const On=(0,h.b)(mt),Tn=mt.leaveAnimation?mt.leaveAnimation:h.c.get(qt,"ios"===On?an:vt);Ot!==St&&(yield Ue(mt,Tn,mt.el,Zt)),mt.didDismiss.emit({data:_t,role:Ot}),null===(bt=mt.didDismissShorthand)||void 0===bt||bt.emit({data:_t,role:Ot}),Oe.delete(mt),mt.el.classList.add("overlay-hidden"),mt.el.style.removeProperty("pointer-events"),void 0!==mt.el.lastFocus&&(mt.el.lastFocus=void 0)}catch(On){console.error(On)}return mt.el.remove(),!0});return function(_t,Ot,qt,an,vt,Zt,Xt){return Je.apply(this,arguments)}}(),tt=Je=>Je.querySelector("ion-app")||Je.body,Ue=function(){var Je=(0,d.Z)(function*(mt,_t,Ot,qt){Ot.classList.remove("overlay-hidden");const vt=_t(mt.el,qt);(!mt.animated||!h.c.getBoolean("animated",!0))&&vt.duration(0),mt.keyboardClose&&vt.beforeAddWrite(()=>{const Xt=Ot.ownerDocument.activeElement;null!=Xt&&Xt.matches("input,ion-input, ion-textarea")&&Xt.blur()});const Zt=Oe.get(mt)||[];return Oe.set(mt,[...Zt,vt]),yield vt.play(),!0});return function(_t,Ot,qt,an){return Je.apply(this,arguments)}}(),ee=(Je,mt)=>{let _t;const Ot=new Promise(qt=>_t=qt);return oe(Je,mt,qt=>{_t(qt.detail)}),Ot},oe=(Je,mt,_t)=>{const Ot=qt=>{(0,Ee.b)(Je,mt,Ot),_t(qt)};(0,Ee.a)(Je,mt,Ot)},be=Je=>"cancel"===Je||Je===nt,Re=Je=>Je(),qe=(Je,mt)=>{if("function"==typeof Je)return h.c.get("_zoneGate",Re)(()=>{try{return Je(mt)}catch(Ot){throw Ot}})},nt="backdrop",St="gesture",Ct=Je=>{let _t,mt=!1;const Ot=(0,Y.C)(),qt=(Zt=!1)=>{if(_t&&!Zt)return{delegate:_t,inline:mt};const{el:Xt,hasController:bt,delegate:On}=Je;return mt=null!==Xt.parentNode&&!bt,_t=mt?On||Ot:On,{inline:mt,delegate:_t}};return{attachViewToDom:function(){var Zt=(0,d.Z)(function*(Xt){const{delegate:bt}=qt(!0);if(bt)return yield bt.attachViewToDom(Je.el,Xt);const{hasController:On}=Je;if(On&&void 0!==Xt)throw new Error("framework delegate is missing");return null});return function(bt){return Zt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Zt}=qt();Zt&&void 0!==Je.el&&Zt.removeViewFromDom(Je.el.parentElement,Je.el)}}},zt=()=>{let Je;const mt=()=>{Je&&(Je(),Je=void 0)};return{addClickListener:(Ot,qt)=>{mt();const an=void 0!==qt?document.getElementById(qt):null;an?Je=((Zt,Xt)=>{const bt=()=>{Xt.present()};return Zt.addEventListener("click",bt),()=>{Zt.removeEventListener("click",bt)}})(an,Ot):(0,te.p)(`A trigger element with the ID "${qt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Ot)},removeClickListener:mt}}},6401:(Ht,Ke,x)=>{"use strict";x.d(Ke,{D:()=>te,y:()=>Ee});var d=x(5879),h=x(4532),Y=x(547),ae=x(9843);let Ee=(()=>{var ne;class $e{constructor(){this.utilsSvc=(0,d.f3M)(h.F),this.firebaseSvc=(0,d.f3M)(Y.O)}ngOnInit(){if(navigator.onLine){let re=this.utilsSvc.getFromLocalStorage("asistencia");re&&!re.enviado&&this.firebaseSvc.addDocument("asistencia",re.data).then(()=>{this.utilsSvc.saveInLocalStorage("asistencia",null)})}}}return(ne=$e).\u0275fac=function(re){return new(re||ne)},ne.\u0275cmp=d.Xpm({type:ne,selectors:[["app-root"]],decls:2,vars:0,template:function(re,ue){1&re&&(d.TgZ(0,"ion-app"),d._UZ(1,"ion-router-outlet"),d.qZA())},dependencies:[ae.dr,ae.jP]}),$e})(),te=(()=>{var ne;class $e{constructor(){this.permission=!1,this.activaBoton=!1}getPermission(){return this.permission}setPermission(re){this.permission=re}getCodigoAsig(){return this.CodigoAsig}setCodigoAsig(re){this.CodigoAsig=re}getActivaBoton(){return this.activaBoton}setActivaBoton(re){this.activaBoton=re}}return(ne=$e).\u0275fac=function(re){return new(re||ne)},ne.\u0275prov=d.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),$e})()},547:(Ht,Ke,x)=>{"use strict";x.d(Ke,{O:()=>Gy});var d=x(5861),h=x(5879),Y=x(1180),Ee=(x(6365),x(6814)),te=x(1920),ne=x(7217),$e=x(8645),Oe=x(2096),re=x(5592),ue=x(2459),De=x(3019),Ce=x(3093),we=x(4664),xe=x(7398),He=x(4552);class Fe extends $e.x{constructor(e=1/0,n=1/0,o=He.l){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:o,_infiniteTimeWindow:l,_timestampProvider:c,_windowTime:p}=this;n||(o.push(e),!l&&o.push(c.now()+p)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:o,_buffer:l}=this,c=l.slice();for(let p=0;p<c.length&&!e.closed;p+=o?1:2)e.next(c[p]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:o,_infiniteTimeWindow:l}=this,c=(l?1:2)*e;if(e<1/0&&c<o.length&&o.splice(0,o.length-c),!l){const p=n.now();let b=0;for(let P=1;P<o.length&&o[P]<=p;P+=2)b=P;b&&o.splice(0,b+1)}}}var fe=x(3020);function Xe(i,e,n){let o,l=!1;return i&&"object"==typeof i?({bufferSize:o=1/0,windowTime:e=1/0,refCount:l=!1,scheduler:n}=i):o=null!=i?i:1/0,(0,fe.B)({connector:()=>new Fe(o,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}var it=x(1374),ge=x(4674);function Le(i,e){return(0,ge.m)(e)?(0,we.w)(()=>i,e):(0,we.w)(()=>i)}var Pe=x(5137),ze=x(2181);x(7142);const lt=new h.OlP("angularfire2.auth.use-emulator"),Qe=new h.OlP("angularfire2.auth.settings"),ut=new h.OlP("angularfire2.auth.tenant-id"),pt=new h.OlP("angularfire2.auth.langugage-code"),Ae=new h.OlP("angularfire2.auth.use-device-language"),Te=new h.OlP("angularfire.auth.persistence"),at=(i,e,n,o,l,c,p,b)=>(0,ne.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const P=e.runOutsideAngular(()=>i.auth());if(n&&P.useEmulator(...n),o&&(P.tenantId=o),P.languageCode=l,c&&P.useDeviceLanguage(),p)for(const[H,X]of Object.entries(p))P.settings[H]=X;return b&&P.setPersistence(b),P},[n,o,l,c,p,b]);let tt=(()=>{var i;class e{constructor(o,l,c,p,b,P,H,X,ye,Ze,gt,Jt){(0,Y.Z)(this,"authState",void 0),(0,Y.Z)(this,"idToken",void 0),(0,Y.Z)(this,"user",void 0),(0,Y.Z)(this,"idTokenResult",void 0),(0,Y.Z)(this,"credential",void 0);const sn=new $e.x,on=(0,Oe.of)(void 0).pipe((0,Ce.Q)(b.outsideAngular),(0,we.w)(()=>p.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,6365)))),(0,xe.U)(()=>(0,ne.on)(o,p,l)),(0,xe.U)(Cn=>at(Cn,p,P,X,ye,Ze,H,gt)),Xe({bufferSize:1,refCount:!1}));if((0,Ee.PM)(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Oe.of)(null);else{on.pipe((0,it.P)()).subscribe();const Cn=on.pipe((0,we.w)(Pn=>Pn.getRedirectResult().then(Ir=>Ir,()=>null)),te.iC,Xe({bufferSize:1,refCount:!1})),$n=on.pipe((0,we.w)(Pn=>new re.y(Ir=>({unsubscribe:p.runOutsideAngular(()=>Pn.onAuthStateChanged(fr=>Ir.next(fr),fr=>Ir.error(fr),()=>Ir.complete()))})))),Un=on.pipe((0,we.w)(Pn=>new re.y(Ir=>({unsubscribe:p.runOutsideAngular(()=>Pn.onIdTokenChanged(fr=>Ir.next(fr),fr=>Ir.error(fr),()=>Ir.complete()))}))));this.authState=Cn.pipe(Le($n),(0,Pe.R)(b.outsideAngular),(0,Ce.Q)(b.insideAngular)),this.user=Cn.pipe(Le(Un),(0,Pe.R)(b.outsideAngular),(0,Ce.Q)(b.insideAngular)),this.idToken=this.user.pipe((0,we.w)(Pn=>Pn?(0,ue.D)(Pn.getIdToken()):(0,Oe.of)(null))),this.idTokenResult=this.user.pipe((0,we.w)(Pn=>Pn?(0,ue.D)(Pn.getIdTokenResult()):(0,Oe.of)(null))),this.credential=(0,De.T)(Cn,sn,this.authState.pipe((0,ze.h)(Pn=>!Pn))).pipe((0,xe.U)(Pn=>null!=Pn&&Pn.user?Pn:null),(0,Pe.R)(b.outsideAngular),(0,Ce.Q)(b.insideAngular))}return(0,ne.pX)(this,on,p,{spy:{apply:(Cn,$n,Un)=>{(Cn.startsWith("signIn")||Cn.startsWith("createUser"))&&Un.then(Pn=>sn.next(Pn))}}})}}return i=e,(0,Y.Z)(e,"\u0275fac",function(o){return new(o||i)(h.LFG(ne.Dh),h.LFG(ne.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(te.HU),h.LFG(lt,8),h.LFG(Qe,8),h.LFG(ut,8),h.LFG(pt,8),h.LFG(Ae,8),h.LFG(Te,8),h.LFG(te.Rf,8))}),(0,Y.Z)(e,"\u0275prov",h.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"})),e})();var ee=x(3560),oe=x(9058),be=x(534),Re=x(7879),qe=x(4537),nt=x(6321),St=x(7921),Ct=x(9360),zt=x(8251);function Je(){return(0,Ct.e)((i,e)=>{let n,o=!1;i.subscribe((0,zt.x)(e,l=>{const c=n;n=l,o&&e.next([c,l]),o=!0}))})}var vt,mt=x(6699),_t=x(3997),Ot=x(3106),qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},an={},Zt=Zt||{},Xt=qt||self;function bt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function On(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Sr="closure_uid_"+(1e9*Math.random()>>>0),Qn=0;function gn(i,e,n){return i.call.apply(i.bind,arguments)}function wn(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function cn(i,e,n){return(cn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gn:wn).apply(null,arguments)}function Wn(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function kn(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,l,c){for(var p=Array(arguments.length-2),b=2;b<arguments.length;b++)p[b-2]=arguments[b];return e.prototype[l].apply(o,p)}}function _r(){this.s=this.s,this.o=this.o}_r.prototype.s=!1,_r.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Tn(i){Object.prototype.hasOwnProperty.call(i,Sr)&&i[Sr]||(i[Sr]=++Qn)}(this)},_r.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Fr(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Nn(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(bt(o)){const l=i.length||0,c=o.length||0;i.length=l+c;for(let p=0;p<c;p++)i[l+p]=o[p]}else i.push(o)}}function Dr(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Dr.prototype.h=function(){this.defaultPrevented=!0};var _n=function(){if(!Xt.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Xt.addEventListener("test",()=>{},e),Xt.removeEventListener("test",()=>{},e)}catch{}return i}();function ir(i){return/^[\s\xa0]*$/.test(i)}function ti(){var i=Xt.navigator;return i&&(i=i.userAgent)?i:""}function cr(i){return-1!=ti().indexOf(i)}function ni(i){return ni[" "](i),i}ni[" "]=function(){};var Ve,i,Cr=cr("Opera"),ri=cr("Trident")||cr("MSIE"),Qr=cr("Edge"),Mr=Qr||ri,ii=cr("Gecko")&&!(-1!=ti().toLowerCase().indexOf("webkit")&&!cr("Edge"))&&!(cr("Trident")||cr("MSIE"))&&!cr("Edge"),xr=-1!=ti().toLowerCase().indexOf("webkit")&&!cr("Edge");function vr(){var i=Xt.document;return i?i.documentMode:void 0}e:{var K="",L=(i=ti(),ii?/rv:([^\);]+)(\)|;)/.exec(i):Qr?/Edge\/([\d\.]+)/.exec(i):ri?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):xr?/WebKit\/(\S+)/.exec(i):Cr?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(L&&(K=L?L[1]:""),ri){var z=vr();if(null!=z&&z>parseFloat(K)){Ve=String(z);break e}}Ve=K}var We=Xt.document&&ri&&(vr()||parseInt(Ve,10))||void 0;function ct(i,e){if(Dr.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(ii){e:{try{ni(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:jt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&ct.$.h.call(this)}}kn(ct,Dr);var jt={2:"touch",3:"pen",4:"mouse"};ct.prototype.h=function(){ct.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),yn=0;function fn(i,e,n,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=l,this.key=++yn,this.fa=this.ia=!1}function Ln(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function je(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function dt(i){const e={};for(const n in i)e[n]=i[n];return e}const me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(i,e){let n,o;for(let l=1;l<arguments.length;l++){for(n in o=arguments[l],o)i[n]=o[n];for(let c=0;c<me.length;c++)n=me[c],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function Ye(i){this.src=i,this.g={},this.h=0}function Pt(i,e){var n=e.type;if(n in i.g){var c,o=i.g[n],l=Xn(o,e);(c=0<=l)&&Array.prototype.splice.call(o,l,1),c&&(Ln(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function It(i,e,n,o){for(var l=0;l<i.length;++l){var c=i[l];if(!c.fa&&c.listener==e&&c.capture==!!n&&c.la==o)return l}return-1}Ye.prototype.add=function(i,e,n,o,l){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var p=It(i,e,o,l);return-1<p?(e=i[p],n||(e.ia=!1)):((e=new fn(e,this.src,c,!!o,l)).ia=n,i.push(e)),e};var tn="closure_lm_"+(1e6*Math.random()|0),ln={};function qn(i,e,n,o,l){if(o&&o.once)return or(i,e,n,o,l);if(Array.isArray(e)){for(var c=0;c<e.length;c++)qn(i,e[c],n,o,l);return null}return n=gr(n),i&&i[kt]?i.O(e,n,On(o)?!!o.capture:!!o,l):er(i,e,n,!1,o,l)}function er(i,e,n,o,l,c){if(!e)throw Error("Invalid event type");var p=On(l)?!!l.capture:!!l,b=mi(i);if(b||(i[tn]=b=new Ye(i)),(n=b.add(e,n,o,p,c)).proxy)return n;if(o=function Gn(){const e=Sn;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)_n||(l=p),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(pr(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function or(i,e,n,o,l){if(Array.isArray(e)){for(var c=0;c<e.length;c++)or(i,e[c],n,o,l);return null}return n=gr(n),i&&i[kt]?i.P(e,n,On(o)?!!o.capture:!!o,l):er(i,e,n,!0,o,l)}function Tr(i,e,n,o,l){if(Array.isArray(e))for(var c=0;c<e.length;c++)Tr(i,e[c],n,o,l);else o=On(o)?!!o.capture:!!o,n=gr(n),i&&i[kt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=It(c=i.g[e],n,o,l))&&(Ln(c[n]),Array.prototype.splice.call(c,n,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=mi(i))&&(e=i.g[e.toString()],i=-1,e&&(i=It(e,n,o,l)),(n=-1<i?e[i]:null)&&jn(n))}function jn(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[kt])Pt(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(pr(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=mi(e))?(Pt(n,i),0==n.h&&(n.src=null,e[tn]=null)):Ln(i)}}}function pr(i){return i in ln?ln[i]:ln[i]="on"+i}function Sn(i,e){if(i.fa)i=!0;else{e=new ct(e,this);var n=i.listener,o=i.la||i.src;i.ia&&jn(i),i=n.call(o,e)}return i}function mi(i){return(i=i[tn])instanceof Ye?i:null}var Ti="__closure_events_fn_"+(1e9*Math.random()>>>0);function gr(i){return"function"==typeof i?i:(i[Ti]||(i[Ti]=function(e){return i.handleEvent(e)}),i[Ti])}function sr(){_r.call(this),this.i=new Ye(this),this.S=this,this.J=null}function dr(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new Dr(e,i);else if(e instanceof Dr)e.target=e.target||i;else{var l=e;Se(e=new Dr(o,i),l)}if(l=!0,n)for(var c=n.length-1;0<=c;c--){var p=e.g=n[c];l=ci(p,o,!0,e)&&l}if(l=ci(p=e.g=i,o,!0,e)&&l,l=ci(p,o,!1,e)&&l,n)for(c=0;c<n.length;c++)l=ci(p=e.g=n[c],o,!1,e)&&l}function ci(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,c=0;c<e.length;++c){var p=e[c];if(p&&!p.fa&&p.capture==n){var b=p.listener,P=p.la||p.src;p.ia&&Pt(i.i,p),l=!1!==b.call(P,o)&&l}}return l&&!o.defaultPrevented}kn(sr,_r),sr.prototype[kt]=!0,sr.prototype.removeEventListener=function(i,e,n,o){Tr(this,i,e,n,o)},sr.prototype.N=function(){if(sr.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Ln(n[o]);delete i.g[e],i.h--}}this.J=null},sr.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},sr.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var Ei=Xt.JSON.stringify;function $r(){var i=Dt;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var J=new class Ji{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new q,i=>i.reset());class q{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ve(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function Ne(i){Xt.setTimeout(()=>{throw i},0)}let ht,ot=!1,Dt=new class wi{constructor(){this.h=this.g=null}add(e,n){const o=J.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},Lt=()=>{const i=Xt.Promise.resolve(void 0);ht=()=>{i.then(Rt)}};var Rt=()=>{for(var i;i=$r();){try{i.h.call(i.g)}catch(n){Ne(n)}var e=J;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ot=!1};function Ft(i,e){sr.call(this),this.h=i||1,this.g=e||Xt,this.j=cn(this.qb,this),this.l=Date.now()}function pn(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function In(i,e,n){if("function"==typeof i)n&&(i=cn(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=cn(i.handleEvent,i)}return 2147483647<Number(e)?-1:Xt.setTimeout(i,e||0)}function Mn(i){i.g=In(()=>{i.g=null,i.i&&(i.i=!1,Mn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}kn(Ft,sr),(vt=Ft.prototype).ga=!1,vt.T=null,vt.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),dr(this,"tick"),this.ga&&(pn(this),this.start()))}},vt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},vt.N=function(){Ft.$.N.call(this),pn(this),delete this.g};class nr extends _r{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Mn(this)}N(){super.N(),this.g&&(Xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(i){_r.call(this),this.h=i,this.g={}}kn(bi,_r);var Hr=[];function di(i,e,n,o){Array.isArray(n)||(n&&(Hr[0]=n.toString()),n=Hr);for(var l=0;l<n.length;l++){var c=qn(e,n[l],o||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function Ai(i){je(i.g,function(e,n){this.g.hasOwnProperty(n)&&jn(e)},i),i.g={}}function Vn(){this.g=!0}function Jr(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ns(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var c=l[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var p=1;p<l.length;p++)l[p]=""}}}return Ei(n)}catch{return e}}(i,n)+(o?" "+o:"")})}bi.prototype.N=function(){bi.$.N.call(this),Ai(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vn.prototype.Ea=function(){this.g=!1},Vn.prototype.info=function(){};var xo={},Li=null;function Oo(){return Li=Li||new sr}function gs(i){Dr.call(this,xo.Ta,i)}function br(i){const e=Oo();dr(e,new gs(e))}function un(i,e){Dr.call(this,xo.STAT_EVENT,i),this.stat=e}function vn(i){const e=Oo();dr(e,new un(e,i))}function Or(i,e){Dr.call(this,xo.Ua,i),this.size=e}function ui(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Xt.setTimeout(function(){i()},e)}xo.Ta="serverreachability",kn(gs,Dr),xo.STAT_EVENT="statevent",kn(un,Dr),xo.Ua="timingevent",kn(Or,Dr);var Oi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Yr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ni(){}function Hi(){}Ni.prototype.h=null;var bo,_i={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function xn(){Dr.call(this,"d")}function Eo(){Dr.call(this,"c")}function eo(){}function Ur(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new bi(this),this.P=rs,this.V=new Ft(i=Mr?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ao}function Ao(){this.i=null,this.g="",this.h=!1}kn(xn,Dr),kn(Eo,Dr),kn(eo,Ni),eo.prototype.g=function(){return new XMLHttpRequest},eo.prototype.i=function(){return{}},bo=new eo;var rs=45e3,to={},no={};function lo(i,e,n){i.L=1,i.v=us(Vi(e)),i.s=n,i.S=!0,No(i,null)}function No(i,e){i.G=Date.now(),Hn(i),i.A=Vi(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),R(n.i,"t",o),i.C=0,n=i.l.J,i.h=new Ao,i.g=$i(i.l,n?e:null,!i.s),0<i.O&&(i.M=new nr(cn(i.Pa,i,i.g),i.O)),di(i.U,i.g,"readystatechange",i.nb),e=i.I?dt(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),br(),function qr(i,e,n,o,l,c){i.info(function(){if(i.g)if(c)for(var p="",b=c.split("&"),P=0;P<b.length;P++){var H=b[P].split("=");if(1<H.length){var X=H[0];H=H[1];var ye=X.split("_");p=2<=ye.length&&"type"==ye[1]?p+(X+"=")+H+"&":p+(X+"=redacted&")}}else p=null;else p=c;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+n+"\n"+p})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Io(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function zi(i,e,n){let l,o=!0;for(;!i.J&&i.C<n.length;){if(l=ls(i,n),l==no){4==e&&(i.o=4,vn(14),o=!1),Jr(i.j,i.m,null,"[Incomplete Response]");break}if(l==to){i.o=4,vn(15),Jr(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Jr(i.j,i.m,l,null),vi(i,l)}Io(i)&&l!=no&&l!=to&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,vn(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),At(e),e.M=!0,vn(11))):(Jr(i.j,i.m,n,"[Invalid Chunked Response]"),hi(i),Wi(i))}function ls(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?no:(n=Number(e.substring(n,o)),isNaN(n)?to:(o+=1)+n>e.length?no:(e=e.slice(o,o+n),i.C=o+n,e))}function Hn(i){i.Y=Date.now()+i.P,ko(i,i.P)}function ko(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ui(cn(i.lb,i),e)}function Gi(i){i.B&&(Xt.clearTimeout(i.B),i.B=null)}function Wi(i){0==i.l.H||i.J||mr(i.l,i)}function hi(i){Gi(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,pn(i.V),Ai(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function vi(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||co(n.i,i)))if(!i.K&&co(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;Zn(n),ka(n)}Be(n),vn(18)}}else n.Fa=l[1],0<n.Fa-n.V&&37500>l[2]&&n.G&&0==n.A&&!n.v&&(n.v=ui(cn(n.ib,n),6e3));if(1>=qi(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else zn(n,11)}else if((i.K||n.g==i)&&Zn(n),!ir(e))for(l=n.Ja.g.parse(e),e=0;e<l.length;e++){let H=l[e];if(n.V=H[0],H=H[1],2==n.H)if("c"==H[0]){n.K=H[1],n.pa=H[2];const X=H[3];null!=X&&(n.ra=X,n.l.info("VER="+n.ra));const ye=H[4];null!=ye&&(n.Ga=ye,n.l.info("SVER="+n.Ga));const Ze=H[5];null!=Ze&&"number"==typeof Ze&&0<Ze&&(n.L=o=1.5*Ze,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const gt=i.g;if(gt){const Jt=gt.g?gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jt){var c=o.i;c.g||-1==Jt.indexOf("spdy")&&-1==Jt.indexOf("quic")&&-1==Jt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Yi(c,c.h),c.h=null))}if(o.F){const sn=gt.g?gt.g.getResponseHeader("X-HTTP-Session-Id"):null;sn&&(o.Da=sn,Rr(o.I,o.F,sn))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var p=i;if((o=n).wa=kr(o,o.J?o.pa:null,o.Y),p.K){ho(o.i,p);var b=p,P=o.L;P&&b.setTimeout(P),b.B&&(Gi(b),Hn(b)),o.g=p}else de(o);0<n.j.length&&Us(n)}else"stop"!=H[0]&&"close"!=H[0]||zn(n,7);else 3==n.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?zn(n,7):ru(n):"noop"!=H[0]&&n.h&&n.h.Aa(H),n.A=0)}br()}catch{}}function oi(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(bt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Fo(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(bt(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function is(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(bt(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),l=o.length,c=0;c<l;c++)e.call(void 0,o[c],n&&n[c],i)}(vt=Ur.prototype).setTimeout=function(i){this.P=i},vt.nb=function(i){i=i.target;const e=this.M;e&&3==Do(i)?e.l():this.Pa(i)},vt.Pa=function(i){try{if(i==this.g)e:{const X=Do(this.g);var e=this.g.Ia();if(this.g.da(),!(3>X)&&(3!=X||Mr||this.g&&(this.h.h||this.g.ja()||Pl(this.g)))){this.J||4!=X||7==e||br(),Gi(this);var n=this.g.da();this.ca=n;t:if(Io(this)){var o=Pl(this.g);i="";var l=o.length,c=4==Do(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){hi(this),Wi(this);var p="";break t}this.h.i=new Xt.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:c&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=200==n,function wr(i,e,n,o,l,c,p){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+c+" "+p})}(this.j,this.u,this.A,this.m,this.W,X,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var b,P=this.g;if((b=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ir(b)){var H=b;break t}}H=null}if(!(n=H)){this.i=!1,this.o=3,vn(12),hi(this),Wi(this);break e}Jr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vi(this,n)}this.S?(zi(this,X,p),Mr&&this.i&&3==X&&(di(this.U,this.V,"tick",this.mb),this.V.start())):(Jr(this.j,this.m,p,null),vi(this,p)),4==X&&hi(this),this.i&&!this.J&&(4==X?mr(this.l,this):(this.i=!1,Hn(this)))}else(function uc(i){const e={};i=(i.g&&2<=Do(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(ir(i[o]))continue;var n=ve(i[o]);const l=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const c=e[l]||[];e[l]=c,c.push(n)}!function Me(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<p.indexOf("Unknown SID")?(this.o=3,vn(12)):(this.o=0,vn(13)),hi(this),Wi(this)}}}catch{}},vt.mb=function(){if(this.g){var i=Do(this.g),e=this.g.ja();this.C<e.length&&(Gi(this),zi(this,i,e),this.i&&4!=i&&Hn(this))}},vt.cancel=function(){this.J=!0,hi(this)},vt.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function ji(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(br(),vn(17)),hi(this),this.o=2,Wi(this)):ko(this,this.Y-i)};var xa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function si(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof si){this.h=i.h,uo(this,i.j),this.s=i.s,this.g=i.g,Ri(this,i.m),this.l=i.l;var e=i.i,n=new ie;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Bi(this,n),this.o=i.o}else i&&(e=String(i).match(xa))?(this.h=!1,uo(this,e[1]||"",!0),this.s=Lo(e[2]||""),this.g=Lo(e[3]||"",!0),Ri(this,e[4]),this.l=Lo(e[5]||"",!0),Bi(this,e[6]||"",!0),this.o=Lo(e[7]||"")):(this.h=!1,this.i=new ie(null,this.h))}function Vi(i){return new si(i)}function uo(i,e,n){i.j=n?Lo(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ri(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Bi(i,e,n){e instanceof ie?(i.i=e,function U(i,e){e&&!i.j&&(wt(i),i.i=null,i.g.forEach(function(n,o){var l=o.toLowerCase();o!=l&&(hn(this,o),R(this,l,n))},i)),i.j=e}(i.i,i.h)):(n||(e=qo(e,y)),i.i=new ie(e,i.h))}function Rr(i,e,n){i.i.set(e,n)}function us(i){return Rr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Lo(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function qo(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,ms),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ms(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}si.prototype.toString=function(){var i=[],e=this.j;e&&i.push(qo(e,ua,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(qo(e,ua,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(qo(n,"/"==n.charAt(0)?j:v,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",qo(n,V)),i.join("")};var ua=/[#\/\?@]/g,v=/[#\?:]/g,j=/[#\?]/g,y=/[#\?@]/g,V=/#/g;function ie(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function wt(i){i.g||(i.g=new Map,i.h=0,i.i&&function Si(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),l=null;if(0<=o){var c=i[n].substring(0,o);l=i[n].substring(o+1)}else c=i[n];e(c,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function hn(i,e){wt(i),e=Q(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function k(i,e){return wt(i),e=Q(i,e),i.g.has(e)}function R(i,e,n){hn(i,e),0<n.length&&(i.i=null,i.g.set(Q(i,e),Fr(n)),i.h+=n.length)}function Q(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Nt(i){this.l=i||En,i=Xt.PerformanceNavigationTiming?0<(i=Xt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Xt.g&&Xt.g.Ka&&Xt.g.Ka()&&Xt.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(vt=ie.prototype).add=function(i,e){wt(this),this.i=null,i=Q(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},vt.forEach=function(i,e){wt(this),this.g.forEach(function(n,o){n.forEach(function(l){i.call(e,l,o,this)},this)},this)},vt.ta=function(){wt(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const l=i[o];for(let c=0;c<l.length;c++)n.push(e[o])}return n},vt.Z=function(i){wt(this);let e=[];if("string"==typeof i)k(this,i)&&(e=e.concat(this.g.get(Q(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},vt.set=function(i,e){return wt(this),this.i=null,k(this,i=Q(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},vt.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},vt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const c=encodeURIComponent(String(o)),p=this.Z(o);for(o=0;o<p.length;o++){var l=c;""!==p[o]&&(l+="="+encodeURIComponent(String(p[o]))),i.push(l)}}return this.i=i.join("&")};var En=10;function yr(i){return!!i.h||!!i.g&&i.g.size>=i.j}function qi(i){return i.h?1:i.g?i.g.size:0}function co(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Yi(i,e){i.g?i.g.add(e):i.h=e}function ho(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function os(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Fr(i.i)}Nt.prototype.cancel=function(){if(this.i=os(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var _s=class{stringify(i){return Xt.JSON.stringify(i,void 0)}parse(i){return Xt.JSON.parse(i,void 0)}};function Pi(){this.g=new _s}function As(i,e,n){const o=n||"";try{oi(i,function(l,c){let p=l;On(l)&&(p=Ei(l)),e.push(o+c+"="+encodeURIComponent(p))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function Yo(i,e,n,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch{}}function ca(i){this.l=i.ec||null,this.j=i.ob||!1}function Bs(i,e){sr.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Oa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kn(ca,Ni),ca.prototype.g=function(){return new Bs(this.l,this.j)},ca.prototype.i=function(i){return function(){return i}}({}),kn(Bs,sr);var Oa=0;function cs(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function da(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ko(i)}function Ko(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(vt=Bs.prototype).open=function(i,e){if(this.readyState!=Oa)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ko(this)},vt.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Xt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},vt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,da(this)),this.readyState=Oa},vt.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ko(this)),this.g&&(this.readyState=3,Ko(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Xt.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cs(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},vt.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?da(this):Ko(this),3==this.readyState&&cs(this)}},vt.Za=function(i){this.g&&(this.response=this.responseText=i,da(this))},vt.Ya=function(i){this.g&&(this.response=i,da(this))},vt.ka=function(){this.g&&da(this)},vt.setRequestHeader=function(i,e){this.v.append(i,e)},vt.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},vt.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ha=Xt.JSON.parse;function fi(i){sr.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Sl,this.L=this.M=!1}kn(fi,sr);var Sl="",ll=/^https?$/i,ul=["POST","PUT"];function Ss(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Rl(i),$s(i)}function Rl(i){i.F||(i.F=!0,dr(i,"complete"),dr(i,"error"))}function cl(i){if(i.h&&typeof Zt<"u"&&(!i.C[1]||4!=Do(i)||2!=i.da()))if(i.v&&4==Do(i))In(i.La,0,i);else if(dr(i,"readystatechange"),4==Do(i)){i.h=!1;try{const p=i.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===p){var l=String(i.I).match(xa)[1]||null;!l&&Xt.self&&Xt.self.location&&(l=Xt.self.location.protocol.slice(0,-1)),o=!ll.test(l?l.toLowerCase():"")}n=o}if(n)dr(i,"complete"),dr(i,"success");else{i.m=6;try{var c=2<Do(i)?i.g.statusText:""}catch{c=""}i.j=c+" ["+i.da()+"]",Rl(i)}}finally{$s(i)}}}function $s(i,e){if(i.g){dl(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||dr(i,"ready");try{n.onreadystatechange=o}catch{}}}function dl(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Xt.clearTimeout(i.A),i.A=null)}function Do(i){return i.g?i.g.readyState:0}function Pl(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Sl:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function hl(i){let e="";return je(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function Rs(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=hl(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Rr(i,e,n))}function Na(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function fa(i){this.Ga=0,this.j=[],this.l=new Vn,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Na("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Na("baseRetryDelayMs",5e3,i),this.hb=Na("retryDelaySeedMs",1e4,i),this.eb=Na("forwardChannelMaxRetries",2,i),this.xa=Na("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Nt(i&&i.concurrentRequestLimit),this.Ja=new Pi,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ru(i){if(pa(i),3==i.H){var e=i.W++,n=Vi(i.I);if(Rr(n,"SID",i.K),Rr(n,"RID",e),Rr(n,"TYPE","terminate"),Ie(i,n),(e=new Ur(i,i.l,e)).L=2,e.v=us(Vi(n)),n=!1,Xt.navigator&&Xt.navigator.sendBeacon)try{n=Xt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Xt.Image&&((new Image).src=e.v,n=!0),n||(e.g=$i(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Hn(e)}ai(i)}function ka(i){i.g&&(At(i),i.g.cancel(),i.g=null)}function pa(i){ka(i),i.u&&(Xt.clearTimeout(i.u),i.u=null),Zn(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Xt.clearTimeout(i.m),i.m=null)}function Us(i){if(!yr(i.i)&&!i.m){i.m=!0;var e=i.Na;ht||Lt(),ot||(ht(),ot=!0),Dt.add(e,i),i.C=0}}function $(i,e){var n;n=e?e.m:i.W++;const o=Vi(i.I);Rr(o,"SID",i.K),Rr(o,"RID",n),Rr(o,"AID",i.V),Ie(i,o),i.o&&i.s&&Rs(o,i.o,i.s),n=new Ur(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=F(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Yi(i.i,n),lo(n,o,e)}function Ie(i,e){i.na&&je(i.na,function(n,o){Rr(e,o,n)}),i.h&&oi({},function(n,o){Rr(e,o,n)})}function F(i,e,n){n=Math.min(i.j.length,n);var o=i.h?cn(i.h.Va,i.h,i):null;e:{var l=i.j;let c=-1;for(;;){const p=["count="+n];-1==c?0<n?(c=l[0].g,p.push("ofs="+c)):c=0:p.push("ofs="+c);let b=!0;for(let P=0;P<n;P++){let H=l[P].g;const X=l[P].map;if(H-=c,0>H)c=Math.max(0,l[P].g-100),b=!1;else try{As(X,p,"req"+H+"_")}catch{o&&o(X)}}if(b){o=p.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function de(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;ht||Lt(),ot||(ht(),ot=!0),Dt.add(e,i),i.A=0}}function Be(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=ui(cn(i.Ma,i),ar(i,i.A)),i.A++,0))}function At(i){null!=i.B&&(Xt.clearTimeout(i.B),i.B=null)}function Wt(i){i.g=new Ur(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Vi(i.wa);Rr(e,"RID","rpc"),Rr(e,"SID",i.K),Rr(e,"AID",i.V),Rr(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Rr(e,"TO",i.qa),Rr(e,"TYPE","xmlhttp"),Ie(i,e),i.o&&i.s&&Rs(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=us(Vi(e)),n.s=null,n.S=!0,No(n,i)}function Zn(i){null!=i.v&&(Xt.clearTimeout(i.v),i.v=null)}function mr(i,e){var n=null;if(i.g==e){Zn(i),At(i),i.g=null;var o=2}else{if(!co(i.i,e))return;n=e.F,ho(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var l=i.C;dr(o=Oo(),new Or(o,n)),Us(i)}else de(i);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==o&&function T(i,e){return!(qi(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=ui(cn(i.Na,i,e),ar(i,i.C)),i.C++,0)))}(i,e)||2==o&&Be(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),l){case 1:zn(i,5);break;case 4:zn(i,10);break;case 3:zn(i,6);break;default:zn(i,2)}}function ar(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function zn(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=cn(i.pb,i);n||(n=new si("//www.google.com/images/cleardot.gif"),Xt.location&&"http"==Xt.location.protocol||uo(n,"https"),us(n)),function ki(i,e){const n=new Vn;if(Xt.Image){const o=new Image;o.onload=Wn(Yo,n,o,"TestLoadImage: loaded",!0,e),o.onerror=Wn(Yo,n,o,"TestLoadImage: error",!1,e),o.onabort=Wn(Yo,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=Wn(Yo,n,o,"TestLoadImage: timeout",!1,e),Xt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else vn(2);i.H=0,i.h&&i.h.za(e),ai(i),pa(i)}function ai(i){if(i.H=0,i.ma=[],i.h){const e=os(i.i);(0!=e.length||0!=i.j.length)&&(Nn(i.ma,e),Nn(i.ma,i.j),i.i.i.length=0,Fr(i.j),i.j.length=0),i.h.ya()}}function kr(i,e,n){var o=n instanceof si?Vi(n):new si(n);if(""!=o.g)e&&(o.g=e+"."+o.g),Ri(o,o.m);else{var l=Xt.location;o=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var c=new si(null);o&&uo(c,o),e&&(c.g=e),l&&Ri(c,l),n&&(c.l=n),o=c}return e=i.Da,(n=i.F)&&e&&Rr(o,n,e),Rr(o,"VER",i.ra),Ie(i,o),o}function $i(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fi(n&&i.Ha&&!i.va?new ca({ob:!0}):i.va)).Oa(i.J),e}function hs(){}function fo(){if(ri&&!(10<=Number(We)))throw Error("Environmental error: no available transport.")}function yi(i,e){sr.call(this),this.g=new fa(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!ir(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ir(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Bo(this)}function Vo(i){xn.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ro(){Eo.call(this),this.status=1}function Bo(i){this.g=i}function Kn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ml(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)o[l]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(l=0;16>l;++l)o[l]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var c=i.g[3],p=(e=i.g[0])+(c^(n=i.g[1])&((l=i.g[2])^c))+o[0]+3614090360&4294967295;p=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=n+(p<<7&4294967295|p>>>25))+((p=c+(l^e&(n^l))+o[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=l+(n^c&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=n+(e^l&(c^e))+o[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^n&(l^c))+o[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=c+(l^e&(n^l))+o[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=l+(n^c&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=n+(e^l&(c^e))+o[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^n&(l^c))+o[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=c+(l^e&(n^l))+o[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=l+(n^c&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=n+(e^l&(c^e))+o[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^n&(l^c))+o[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=c+(l^e&(n^l))+o[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=l+(n^c&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=n+(e^l&(c^e))+o[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(l^c&(n^l))+o[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=c+(n^l&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=l+(e^n&(c^e))+o[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=n+(c^e&(l^c))+o[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(l^c&(n^l))+o[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=c+(n^l&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=l+(e^n&(c^e))+o[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=n+(c^e&(l^c))+o[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(l^c&(n^l))+o[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=c+(n^l&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=l+(e^n&(c^e))+o[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=n+(c^e&(l^c))+o[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(l^c&(n^l))+o[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=c+(n^l&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=l+(e^n&(c^e))+o[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=n+(c^e&(l^c))+o[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(n^l^c)+o[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^n^l)+o[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=l+(c^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=n+(l^c^e)+o[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(n^l^c)+o[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^n^l)+o[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=l+(c^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=n+(l^c^e)+o[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(n^l^c)+o[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^n^l)+o[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=l+(c^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=n+(l^c^e)+o[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(n^l^c)+o[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^n^l)+o[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=l+(c^e^n)+o[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=n+(l^c^e)+o[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(l^(n|~c))+o[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=c+(n^(e|~l))+o[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=l+(e^(c|~n))+o[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=n+(c^(l|~e))+o[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(l^(n|~c))+o[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=c+(n^(e|~l))+o[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=l+(e^(c|~n))+o[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=n+(c^(l|~e))+o[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(l^(n|~c))+o[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=c+(n^(e|~l))+o[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=l+(e^(c|~n))+o[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=n+(c^(l|~e))+o[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((c=(e=n+((p=e+(l^(n|~c))+o[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=c+(n^(e|~l))+o[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((l=c+((p=l+(e^(c|~n))+o[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(l+(p<<21&4294967295|p>>>11))&4294967295,i.g[2]=i.g[2]+l&4294967295,i.g[3]=i.g[3]+c&4294967295}function jr(i,e){this.h=e;for(var n=[],o=!0,l=i.length-1;0<=l;l--){var c=0|i[l];o&&c==e||(n[l]=c,o=!1)}this.g=n}(vt=fi.prototype).Oa=function(i){this.M=i},vt.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bo.g(),this.C=function Nr(i){return i.h||(i.h=i.i())}(this.u?this.u:bo),this.g.onreadystatechange=cn(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(c){return void Ss(this,c)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var l in o)n.set(l,o[l]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const c of o.keys())n.set(c,o.get(c))}o=Array.from(n.keys()).find(c=>"content-type"==c.toLowerCase()),l=Xt.FormData&&i instanceof Xt.FormData,!(0<=Xn(ul,e))||o||l||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,p]of n)this.g.setRequestHeader(c,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{dl(this),0<this.B&&((this.L=function ds(i){return ri&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cn(this.ua,this)):this.A=In(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){Ss(this,c)}},vt.ua=function(){typeof Zt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dr(this,"timeout"),this.abort(8))},vt.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,dr(this,"complete"),dr(this,"abort"),$s(this))},vt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$s(this,!0)),fi.$.N.call(this)},vt.La=function(){this.s||(this.G||this.v||this.l?cl(this):this.kb())},vt.kb=function(){cl(this)},vt.isActive=function(){return!!this.g},vt.da=function(){try{return 2<Do(this)?this.g.status:-1}catch{return-1}},vt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},vt.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),ha(e)}},vt.Ia=function(){return this.m},vt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(vt=fa.prototype).ra=8,vt.H=1,vt.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const l=new Ur(this,this.l,i);let c=this.s;if(this.U&&(c?(c=dt(c),Se(c,this.U)):c=this.U),null!==this.o||this.O||(l.I=c,c=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=F(this,l,e),Rr(n=Vi(this.I),"RID",i),Rr(n,"CVER",22),this.F&&Rr(n,"X-HTTP-Session-Id",this.F),Ie(this,n),c&&(this.O?e="headers="+encodeURIComponent(String(hl(c)))+"&"+e:this.o&&Rs(n,this.o,c)),Yi(this.i,l),this.bb&&Rr(n,"TYPE","init"),this.P?(Rr(n,"$req",e),Rr(n,"SID","null"),l.aa=!0,lo(l,n,null)):lo(l,n,e),this.H=2}}else 3==this.H&&(i?$(this,i):0==this.j.length||yr(this.i)||$(this))},vt.Ma=function(){if(this.u=null,Wt(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=ui(cn(this.jb,this),i)}},vt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vn(10),ka(this),Wt(this))},vt.ib=function(){null!=this.v&&(this.v=null,ka(this),Be(this),vn(19))},vt.pb=function(i){i?(this.l.info("Successfully pinged google.com"),vn(2)):(this.l.info("Failed to ping google.com"),vn(1))},vt.isActive=function(){return!!this.h&&this.h.isActive(this)},(vt=hs.prototype).Ba=function(){},vt.Aa=function(){},vt.za=function(){},vt.ya=function(){},vt.isActive=function(){return!0},vt.Va=function(){},fo.prototype.g=function(i,e){return new yi(i,e)},kn(yi,sr),yi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;vn(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=kr(i,null,i.Y),Us(i)},yi.prototype.close=function(){ru(this.g)},yi.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=Ei(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Us(e)},yi.prototype.N=function(){this.g.h=null,delete this.j,ru(this.g),delete this.g,yi.$.N.call(this)},kn(Vo,xn),kn(ro,Eo),kn(Bo,hs),Bo.prototype.Ba=function(){dr(this.g,"a")},Bo.prototype.Aa=function(i){dr(this.g,new Vo(i))},Bo.prototype.za=function(i){dr(this.g,new ro)},Bo.prototype.ya=function(){dr(this.g,"b")},kn(Kn,function js(){this.blockSize=-1}),Kn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Kn.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,l=this.h,c=0;c<e;){if(0==l)for(;c<=n;)Ml(this,i,c),c+=this.blockSize;if("string"==typeof i){for(;c<e;)if(o[l++]=i.charCodeAt(c++),l==this.blockSize){Ml(this,o),l=0;break}}else for(;c<e;)if(o[l++]=i[c++],l==this.blockSize){Ml(this,o),l=0;break}}this.h=l,this.i+=e},Kn.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var io={};function Ps(i){return-128<=i&&128>i?function Jn(i,e){var n=io;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new jr([0|e],0>e?-1:0)}):new jr([0|i],0>i?-1:0)}function Zo(i){if(isNaN(i)||!isFinite(i))return fl;if(0>i)return Ki(Zo(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=So;return new jr(e,0)}var So=4294967296,fl=Ps(0),cc=Ps(1),xl=Ps(16777216);function po(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function $o(i){return-1==i.h}function Ki(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new jr(n,~i.h).add(cc)}function Xo(i,e){return i.add(Ki(e))}function zs(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Fa(i,e){this.g=i,this.h=e}function iu(i,e){if(po(e))throw Error("division by zero");if(po(i))return new Fa(fl,fl);if($o(i))return e=iu(Ki(i),e),new Fa(Ki(e.g),Ki(e.h));if($o(e))return e=iu(i,Ki(e)),new Fa(Ki(e.g),e.h);if(30<i.g.length){if($o(i)||$o(e))throw Error("slowDivide_ only works with positive integers.");for(var n=cc,o=e;0>=o.X(i);)n=Yn(n),o=Yn(o);var l=Gs(n,1),c=Gs(o,1);for(o=Gs(o,2),n=Gs(n,2);!po(o);){var p=c.add(o);0>=p.X(i)&&(l=l.add(n),c=p),o=Gs(o,1),n=Gs(n,1)}return e=Xo(i,l.R(e)),new Fa(l,e)}for(l=fl;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),p=(c=Zo(n)).R(e);$o(p)||0<p.X(i);)p=(c=Zo(n-=o)).R(e);po(c)&&(c=cc),l=l.add(c),i=Xo(i,p)}return new Fa(l,i)}function Yn(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new jr(n,i.h)}function Gs(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,l=[],c=0;c<o;c++)l[c]=0<e?i.D(c+n)>>>e|i.D(c+n+1)<<32-e:i.D(c+n);return new jr(l,i.h)}(vt=jr.prototype).ea=function(){if($o(this))return-Ki(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:So+o)*e,e*=So}return i},vt.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(po(this))return"0";if($o(this))return"-"+Ki(this).toString(i);for(var e=Zo(Math.pow(i,6)),n=this,o="";;){var l=iu(n,e).g,c=((0<(n=Xo(n,l.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(po(n=l))return c+o;for(;6>c.length;)c="0"+c;o=c+o}},vt.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},vt.X=function(i){return $o(i=Xo(this,i))?-1:po(i)?0:1},vt.abs=function(){return $o(this)?Ki(this):this},vt.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,l=0;l<=e;l++){var c=o+(65535&this.D(l))+(65535&i.D(l)),p=(c>>>16)+(this.D(l)>>>16)+(i.D(l)>>>16);o=p>>>16,n[l]=(p&=65535)<<16|(c&=65535)}return new jr(n,-2147483648&n[n.length-1]?-1:0)},vt.R=function(i){if(po(this)||po(i))return fl;if($o(this))return $o(i)?Ki(this).R(Ki(i)):Ki(Ki(this).R(i));if($o(i))return Ki(this.R(Ki(i)));if(0>this.X(xl)&&0>i.X(xl))return Zo(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var l=0;l<i.g.length;l++){var c=this.D(o)>>>16,p=65535&this.D(o),b=i.D(l)>>>16,P=65535&i.D(l);n[2*o+2*l]+=p*P,zs(n,2*o+2*l),n[2*o+2*l+1]+=c*P,zs(n,2*o+2*l+1),n[2*o+2*l+1]+=p*b,zs(n,2*o+2*l+1),n[2*o+2*l+2]+=c*b,zs(n,2*o+2*l+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new jr(n,0)},vt.gb=function(i){return iu(this,i).h},vt.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new jr(n,this.h&i.h)},vt.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new jr(n,this.h|i.h)},vt.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new jr(n,this.h^i.h)},fo.prototype.createWebChannel=fo.prototype.g,yi.prototype.send=yi.prototype.u,yi.prototype.open=yi.prototype.m,yi.prototype.close=yi.prototype.close,Oi.NO_ERROR=0,Oi.TIMEOUT=8,Oi.HTTP_ERROR=6,Yr.COMPLETE="complete",Hi.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",sr.prototype.listen=sr.prototype.O,fi.prototype.listenOnce=fi.prototype.P,fi.prototype.getLastError=fi.prototype.Sa,fi.prototype.getLastErrorCode=fi.prototype.Ia,fi.prototype.getStatus=fi.prototype.da,fi.prototype.getResponseJson=fi.prototype.Wa,fi.prototype.getResponseText=fi.prototype.ja,fi.prototype.send=fi.prototype.ha,fi.prototype.setWithCredentials=fi.prototype.Oa,Kn.prototype.digest=Kn.prototype.l,Kn.prototype.reset=Kn.prototype.reset,Kn.prototype.update=Kn.prototype.j,jr.prototype.add=jr.prototype.add,jr.prototype.multiply=jr.prototype.R,jr.prototype.modulo=jr.prototype.gb,jr.prototype.compare=jr.prototype.X,jr.prototype.toNumber=jr.prototype.ea,jr.prototype.toString=jr.prototype.toString,jr.prototype.getBits=jr.prototype.D,jr.fromNumber=Zo,jr.fromString=function Hs(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Ki(Hs(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Zo(Math.pow(e,8)),o=fl,l=0;l<i.length;l+=8){var c=Math.min(8,i.length-l),p=parseInt(i.substring(l,l+c),e);8>c?(c=Zo(Math.pow(e,c)),o=o.R(c).add(Zo(p))):o=(o=o.R(n)).add(Zo(p))}return o};var qh=an.createWebChannelTransport=function(){return new fo},Ol=an.getStatEventTarget=function(){return Oo()},dc=an.ErrorCode=Oi,ou=an.EventType=Yr,Cd=an.Event=xo,Ws=an.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},pl=an.FetchXmlHttpFactory=ca,su=an.WebChannel=Hi,oo=an.XhrIo=fi,Yh=an.Md5=Kn,qs=an.Integer=jr;const Ut="@firebase/firestore";class Fn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");let ga="10.5.2";const Ms=new Re.Yd("@firebase/firestore");function Mi(){return Ms.logLevel}function Vt(i,...e){if(Ms.logLevel<=Re.in.DEBUG){const n=e.map(Ys);Ms.debug(`Firestore (${ga}): ${i}`,...n)}}function zr(i,...e){if(Ms.logLevel<=Re.in.ERROR){const n=e.map(Ys);Ms.error(`Firestore (${ga}): ${i}`,...n)}}function Zi(i,...e){if(Ms.logLevel<=Re.in.WARN){const n=e.map(Ys);Ms.warn(`Firestore (${ga}): ${i}`,...n)}}function Ys(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function mn(i="Unexpected state"){const e=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: `+i;throw zr(e),new Error(e)}function bn(i,e){i||mn()}function Qt(i,e){return i}const Et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bt extends oe.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class xs{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fn.UNAUTHENTICATED))}shutdown(){}}class A{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class M{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let l=this.i;const c=H=>this.i!==l?(l=this.i,n(H)):Promise.resolve();let p=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Ii,e.enqueueRetryable(()=>c(this.currentUser))};const b=()=>{const H=p;e.enqueueRetryable((0,d.Z)(function*(){yield H.promise,yield c(o.currentUser)}))},P=H=>{Vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(H=>P(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?P(H):(Vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Ii)}},0),b()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(bn("string"==typeof o.accessToken),new xs(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bn(null===e||"string"==typeof e),new Fn(e)}}class C{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class N{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new C(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const o=c=>{null!=c.error&&Vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.R;return this.R=c.token,Vt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>o(c))};const l=c=>{Vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):Vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(bn("string"==typeof n.token),this.R=n.token,new Z(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Yt(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class yt{static newId(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const l=Yt(40);for(let c=0;c<l.length;++c)o.length<20&&l[c]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[c]%62))}return o}}function xt(i,e){return i<e?-1:i>e?1:0}function Rn(i,e,n){return i.length===e.length&&i.every((o,l)=>n(o,e[l]))}function Kr(i){return i+"\0"}class hr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Bt(Et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Bt(Et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Bt(Et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bt(Et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hr.fromMillis(Date.now())}static fromDate(e){return hr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new hr(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class nn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new nn(e)}static min(){return new nn(new hr(0,0))}static max(){return new nn(new hr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class xi{constructor(e,n,o){void 0===n?n=0:n>e.length&&mn(),void 0===o?o=e.length-n:o>e.length-n&&mn(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===xi.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let l=0;l<o;l++){const c=e.get(l),p=n.get(l);if(c<p)return-1;if(c>p)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lr extends xi{construct(e,n,o){return new lr(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Bt(Et.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(l=>l.length>0))}return new lr(n)}static emptyPath(){return new lr([])}}const gl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends xi{construct(e,n,o){return new tr(e,n,o)}static isValidIdentifier(e){return gl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tr(["__name__"])}static fromServerFormat(e){const n=[];let o="",l=0;const c=()=>{if(0===o.length)throw new Bt(Et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let p=!1;for(;l<e.length;){const b=e[l];if("\\"===b){if(l+1===e.length)throw new Bt(Et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const P=e[l+1];if("\\"!==P&&"."!==P&&"`"!==P)throw new Bt(Et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=P,l+=2}else"`"===b?(p=!p,l++):"."!==b||p?(o+=b,l++):(c(),l++)}if(c(),p)throw new Bt(Et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(n)}static emptyPath(){return new tr([])}}class rn{constructor(e){this.path=e}static fromPath(e){return new rn(lr.fromString(e))}static fromName(e){return new rn(lr.fromString(e).popFirst(5))}static empty(){return new rn(lr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===lr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return lr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rn(new lr(e.slice()))}}class Zr{constructor(e,n,o,l){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=l}}function La(i){return i.fields.find(e=>2===e.kind)}function ma(i){return i.fields.filter(e=>2!==e.kind)}Zr.UNKNOWN_ID=-1;class _a{constructor(e,n){this.fieldPath=e,this.kind=n}}class va{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new va(0,Uo.min())}}function au(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=nn.fromTimestamp(1e9===o?new hr(n+1,0):new hr(n,o));return new Uo(l,rn.empty(),e)}function Os(i){return new Uo(i.readTime,i.key,-1)}class Uo{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Uo(nn.min(),rn.empty(),-1)}static max(){return new Uo(nn.max(),rn.empty(),-1)}}function Va(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=rn.comparator(i.documentKey,e.documentKey),0!==n?n:xt(i.largestBatchId,e.largestBatchId))}const lu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ml{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ks(i){return Zs.apply(this,arguments)}function Zs(){return Zs=(0,d.Z)(function*(i){if(i.code!==Et.FAILED_PRECONDITION||i.message!==lu)throw i;Vt("LocalStore","Unexpectedly lost primary lease")}),Zs.apply(this,arguments)}class ft{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&mn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ft((o,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(o,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(o,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ft?n:ft.resolve(n)}catch(n){return ft.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ft.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ft.reject(n)}static resolve(e){return new ft((n,o)=>{n(e)})}static reject(e){return new ft((n,o)=>{o(e)})}static waitFor(e){return new ft((n,o)=>{let l=0,c=0,p=!1;e.forEach(b=>{++l,b.next(()=>{++c,p&&c===l&&n()},P=>o(P))}),p=!0,c===l&&n()})}static or(e){let n=ft.resolve(!1);for(const o of e)n=n.next(l=>l?ft.resolve(l):o());return n}static forEach(e,n){const o=[];return e.forEach((l,c)=>{o.push(n.call(this,l,c))}),this.waitFor(o)}static mapArray(e,n){return new ft((o,l)=>{const c=e.length,p=new Array(c);let b=0;for(let P=0;P<c;P++){const H=P;n(e[H]).next(X=>{p[H]=X,++b,b===c&&o(p)},X=>l(X))}})}static doWhile(e,n){return new ft((o,l)=>{const c=()=>{!0===e()?n().next(()=>{c()},l):o()};c()})}}class pc{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ii,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new _l(e,n.error)):this.V.resolve()},this.transaction.onerror=o=>{const l=wd(o.target.error);this.V.reject(new _l(e,l))}}static open(e,n,o,l){try{return new pc(n,e.transaction(l,o))}catch(c){throw new _l(n,c)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Vt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Td(n)}}class jo{constructor(e,n,o){this.name=e,this.version=n,this.p=o,12.2===jo.S((0,oe.z$)())&&zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Vt("SimpleDb","Removing database:",e),Nl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,oe.hl)())return!1;if(jo.C())return!0;const e=(0,oe.z$)(),n=jo.S(e),o=0<n&&n<10,l=jo.v(e),c=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static v(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}O(e){var n=this;return(0,d.Z)(function*(){return n.db||(Vt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,l)=>{const c=indexedDB.open(n.name,n.version);c.onsuccess=p=>{o(p.target.result)},c.onblocked=()=>{l(new _l(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=p=>{const b=p.target.error;l("VersionError"===b.name?new Bt(Et.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===b.name?new Bt(Et.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+b):new _l(e,b))},c.onupgradeneeded=p=>{Vt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',p.oldVersion),n.p.N(p.target.result,c.transaction,p.oldVersion,n.version).next(()=>{Vt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=o=>n.B(o)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,l){var c=this;return(0,d.Z)(function*(){const p="readonly"===n;let b=0;for(;;){++b;try{c.db=yield c.O(e);const P=pc.open(c.db,e,p?"readonly":"readwrite",o),H=l(P).next(X=>(P.g(),X)).catch(X=>(P.abort(X),ft.reject(X))).toPromise();return H.catch(()=>{}),yield P.m,H}catch(P){const H=P,X="FirebaseError"!==H.name&&b<3;if(Vt("SimpleDb","Transaction failed with error:",H.message,"Retrying:",X),c.close(),!X)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class uu{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Nl(this.k.delete())}}class _l extends Bt{constructor(e,n){super(Et.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ba(i){return"IndexedDbTransactionError"===i.name}class Td{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(Vt("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(Vt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Nl(o)}add(e){return Vt("SimpleDb","ADD",this.store.name,e,e),Nl(this.store.add(e))}get(e){return Nl(this.store.get(e)).next(n=>(void 0===n&&(n=null),Vt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Vt("SimpleDb","DELETE",this.store.name,e),Nl(this.store.delete(e))}count(){return Vt("SimpleDb","COUNT",this.store.name),Nl(this.store.count())}W(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),c=[];return this.G(l,(p,b)=>{c.push(b)}).next(()=>c)}{const l=this.store.getAll(o.range);return new ft((c,p)=>{l.onerror=b=>{p(b.target.error)},l.onsuccess=b=>{c(b.target.result)}})}}j(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new ft((l,c)=>{o.onerror=p=>{c(p.target.error)},o.onsuccess=p=>{l(p.target.result)}})}H(e,n){Vt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.J=!1;const l=this.cursor(o);return this.G(l,(c,p,b)=>b.delete())}Y(e,n){let o;n?o=e:(o={},n=e);const l=this.cursor(o);return this.G(l,n)}Z(e){const n=this.cursor({});return new ft((o,l)=>{n.onerror=c=>{const p=wd(c.target.error);l(p)},n.onsuccess=c=>{const p=c.target.result;p?e(p.primaryKey,p.value).next(b=>{b?p.continue():o()}):o()}})}G(e,n){const o=[];return new ft((l,c)=>{e.onerror=p=>{c(p.target.error)},e.onsuccess=p=>{const b=p.target.result;if(!b)return void l();const P=new uu(b),H=n(b.primaryKey,b.value,P);if(H instanceof ft){const X=H.catch(ye=>(P.done(),ft.reject(ye)));o.push(X)}P.isDone?l():null===P.$?b.continue():b.continue(P.$)}}).next(()=>ft.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.J?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Nl(i){return new ft((e,n)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=wd(o.target.error);n(l)}})}let gc=!1;function wd(i){const e=jo.S((0,oe.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const o=new Bt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gc||(gc=!0,setTimeout(()=>{throw o},0)),o}}return i}class Zh{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;Vt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,d.Z)(function*(){n.task=null;try{Vt("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(o){Ba(o)?Vt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Ks(o)}yield n.ee(6e4)}))}}class g_{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,d.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>n.ne(o,e))})()}ne(e,n){const o=new Set;let l=n,c=!0;return ft.doWhile(()=>!0===c&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!o.has(p))return Vt("IndexBackiller",`Processing collection: ${p}`),this.re(e,p,l).next(b=>{l-=b,o.add(p)});c=!1})).next(()=>n-l)}re(e,n,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(l=>this.localStore.localDocuments.getNextDocuments(e,n,l,o).next(c=>{const p=c.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.ie(l,c)).next(b=>(Vt("IndexBackiller",`Updating offset: ${b}`),this.localStore.indexManager.updateCollectionGroup(e,n,b))).next(()=>p.size)}))}ie(e,n){let o=e;return n.changes.forEach((l,c)=>{const p=Os(c);Va(p,o)>0&&(o=p)}),new Uo(o.readTime,o.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Ro=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=l=>this.se(l),this.oe=l=>o.writeSequenceNumber(l))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function Ns(i){return null==i}function cu(i){return 0===i&&1/i==-1/0}function Xs(i){return"number"==typeof i&&Number.isInteger(i)&&!cu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Co(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=bd(e)),e=mc(i.get(n),e);return bd(e)}function mc(i,e){let n=e;const o=i.length;for(let l=0;l<o;l++){const c=i.charAt(l);switch(c){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=c}}return n}function bd(i){return i+"\x01\x01"}function fs(i){const e=i.length;if(bn(e>=2),2===e)return bn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),lr.emptyPath();const n=e-2,o=[];let l="";for(let c=0;c<e;){const p=i.indexOf("\x01",c);switch((p<0||p>n)&&mn(),i.charAt(p+1)){case"\x01":const b=i.substring(c,p);let P;0===l.length?P=b:(l+=b,P=l,l=""),o.push(P);break;case"\x10":l+=i.substring(c,p),l+="\0";break;case"\x11":l+=i.substring(c,p+1);break;default:mn()}c=p+2}return new lr(o)}const du=["userId","batchId"];function _c(i,e){return[i,Co(e)]}function vs(i,e,n){return[i,Co(e),n]}const Xh={},hu=["prefixPath","collectionGroup","readTime","documentId"],Ad=["prefixPath","collectionGroup","documentId"],Qh=["collectionGroup","readTime","prefixPath","documentId"],kl=["canonicalId","targetId"],Sd=["targetId","path"],Hp=["path","targetId"],vc=["collectionId","parent"],Jh=["indexId","uid"],ef=["uid","sequenceNumber"],yc=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zp=["indexId","uid","orderedDocumentKey"],Fl=["userId","collectionPath","documentId"],ya=["userId","collectionPath","largestBatchId"],Rd=["userId","collectionGroup","largestBatchId"],Ec=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ic=[...Ec,"documentOverlays"],Ll=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Pd=Ll,Ho=[...Pd,"indexConfiguration","indexState","indexEntries"];class Dc extends ml{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function go(i,e){const n=Qt(i);return jo.M(n.ae,e)}function fu(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Qs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Md(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class pi{constructor(e,n){this.comparator=e,this.root=n||Fi.EMPTY}insert(e,n){return new pi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fi.BLACK,null,null))}remove(e){return new pi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return n+o.left.size;l<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ea(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ea(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ea(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ea(this.root,e,this.comparator,!0)}}class Ea{constructor(e,n,o,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?o(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fi{constructor(e,n,o,l,c){this.key=e,this.value=n,this.color=null!=o?o:Fi.RED,this.left=null!=l?l:Fi.EMPTY,this.right=null!=c?c:Fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,l,c){return new Fi(null!=e?e:this.key,null!=n?n:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let l=this;const c=o(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,o),null):0===c?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return Fi.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mn();const e=this.left.check();if(e!==this.right.check())throw mn();return e+(this.isRed()?0:1)}}Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1,Fi.EMPTY=new class{constructor(){this.size=0}get key(){throw mn()}get value(){throw mn()}get color(){throw mn()}get left(){throw mn()}get right(){throw mn()}copy(e,n,o,l,c){return this}insert(e,n,o){return new Fi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gr{constructor(e){this.comparator=e,this.data=new pi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xd(this.data.getIterator())}getIteratorFrom(e){return new xd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Gr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=o.getNext().key;if(0!==this.comparator(l,c))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Gr(this.comparator);return n.data=e,n}}class xd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ia(i){return i.hasNext()?i.getNext():void 0}class mo{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new mo([])}unionWith(e){let n=new Gr(tr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new mo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rn(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class Cc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class To{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Cc("Invalid base64 string: "+c):c}}(e);return new To(n)}static fromUint8Array(e){const n=function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c}(e);return new To(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let l=0;l<n.length;l++)o[l]=n.charCodeAt(l);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}To.EMPTY_BYTE_STRING=new To("");const m_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vl(i){if(bn(!!i),"string"==typeof i){let e=0;const n=m_.exec(i);if(bn(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:so(i.seconds),nanos:so(i.nanos)}}function so(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function $a(i){return"string"==typeof i?To.fromBase64String(i):To.fromUint8Array(i)}function Od(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Da(i){const e=i.mapValue.fields.__previous_value__;return Od(e)?Da(e):e}function yl(i){const e=vl(i.mapValue.fields.__local_write_time__.timestampValue);return new hr(e.seconds,e.nanos)}class Wp{constructor(e,n,o,l,c,p,b,P,H){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=P,this.useFetchStreams=H}}class Di{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Di("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Di&&e.projectId===this.projectId&&e.database===this.database}}const Ua={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ja={nullValue:"NULL_VALUE"};function Ha(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Od(i)?4:nf(i)?9007199254740991:10:mn()}function Xi(i,e){if(i===e)return!0;const n=Ha(i);if(n!==Ha(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return yl(i).isEqual(yl(e));case 3:return function(l,c){if("string"==typeof l.timestampValue&&"string"==typeof c.timestampValue&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=vl(l.timestampValue),b=vl(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return c=e,$a(i.bytesValue).isEqual($a(c.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,c){return so(l.geoPointValue.latitude)===so(c.geoPointValue.latitude)&&so(l.geoPointValue.longitude)===so(c.geoPointValue.longitude)}(i,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return so(l.integerValue)===so(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=so(l.doubleValue),b=so(c.doubleValue);return p===b?cu(p)===cu(b):isNaN(p)&&isNaN(b)}return!1}(i,e);case 9:return Rn(i.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:return function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(fu(p)!==fu(b))return!1;for(const P in p)if(p.hasOwnProperty(P)&&(void 0===b[P]||!Xi(p[P],b[P])))return!1;return!0}(i,e);default:return mn()}var c}function Js(i,e){return void 0!==(i.values||[]).find(n=>Xi(n,e))}function Ca(i,e){if(i===e)return 0;const n=Ha(i),o=Ha(e);if(n!==o)return xt(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(i.booleanValue,e.booleanValue);case 2:return function(c,p){const b=so(c.integerValue||c.doubleValue),P=so(p.integerValue||p.doubleValue);return b<P?-1:b>P?1:b===P?0:isNaN(b)?isNaN(P)?0:-1:1}(i,e);case 3:return pu(i.timestampValue,e.timestampValue);case 4:return pu(yl(i),yl(e));case 5:return xt(i.stringValue,e.stringValue);case 6:return function(c,p){const b=$a(c),P=$a(p);return b.compareTo(P)}(i.bytesValue,e.bytesValue);case 7:return function(c,p){const b=c.split("/"),P=p.split("/");for(let H=0;H<b.length&&H<P.length;H++){const X=xt(b[H],P[H]);if(0!==X)return X}return xt(b.length,P.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,p){const b=xt(so(c.latitude),so(p.latitude));return 0!==b?b:xt(so(c.longitude),so(p.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(c,p){const b=c.values||[],P=p.values||[];for(let H=0;H<b.length&&H<P.length;++H){const X=Ca(b[H],P[H]);if(X)return X}return xt(b.length,P.length)}(i.arrayValue,e.arrayValue);case 10:return function(c,p){if(c===Ua.mapValue&&p===Ua.mapValue)return 0;if(c===Ua.mapValue)return 1;if(p===Ua.mapValue)return-1;const b=c.fields||{},P=Object.keys(b),H=p.fields||{},X=Object.keys(H);P.sort(),X.sort();for(let ye=0;ye<P.length&&ye<X.length;++ye){const Ze=xt(P[ye],X[ye]);if(0!==Ze)return Ze;const gt=Ca(b[P[ye]],H[X[ye]]);if(0!==gt)return gt}return xt(P.length,X.length)}(i.mapValue,e.mapValue);default:throw mn()}}function pu(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return xt(i,e);const n=vl(i),o=vl(e),l=xt(n.seconds,o.seconds);return 0!==l?l:xt(n.nanos,o.nanos)}function ea(i){return Nd(i)}function Nd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const o=vl(n);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?$a(i.bytesValue).toBase64():"referenceValue"in i?rn.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let o="[",l=!0;for(const c of n.values||[])l?l=!1:o+=",",o+=Nd(c);return o+"]"}(i.arrayValue):"mapValue"in i?function(n){const o=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const p of o)c?c=!1:l+=",",l+=`${p}:${Nd(n.fields[p])}`;return l+"}"}(i.mapValue):mn()}function Ta(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function tf(i){return!!i&&"integerValue"in i}function _o(i){return!!i&&"arrayValue"in i}function Tc(i){return!!i&&"nullValue"in i}function za(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function kd(i){return!!i&&"mapValue"in i}function Ga(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Qs(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Ga(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ga(i.arrayValue.values[n]);return e}return Object.assign({},i)}function nf(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function __(i){return"nullValue"in i?ja:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Ta(Di.empty(),rn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:mn()}function Fd(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Ta(Di.empty(),rn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ua:mn()}function Ld(i,e){const n=Ca(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function mu(i,e){const n=Ca(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class wo{constructor(e){this.value=e}static empty(){return new wo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!kd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ga(n)}setAll(e){let n=tr.emptyPath(),o={},l=[];e.forEach((p,b)=>{if(!n.isImmediateParentOf(b)){const P=this.getFieldsMap(n);this.applyChanges(P,o,l),o={},l=[],n=b.popLast()}p?o[b.lastSegment()]=Ga(p):l.push(b.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,o,l)}delete(e){const n=this.field(e.popLast());kd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=n.mapValue.fields[e.get(o)];kd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,o){Qs(n,(l,c)=>e[l]=c);for(const l of o)delete e[l]}clone(){return new wo(Ga(this.value))}}function _u(i){const e=[];return Qs(i.fields,(n,o)=>{const l=new tr([n]);if(kd(o)){const c=_u(o.mapValue).fields;if(0===c.length)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)}),new mo(e)}class gi{constructor(e,n,o,l,c,p,b){this.key=e,this.documentType=n,this.version=o,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new gi(e,0,nn.min(),nn.min(),nn.min(),wo.empty(),0)}static newFoundDocument(e,n,o,l){return new gi(e,1,n,nn.min(),o,l,0)}static newNoDocument(e,n){return new gi(e,2,n,nn.min(),nn.min(),wo.empty(),0)}static newUnknownDocument(e,n){return new gi(e,3,n,nn.min(),nn.min(),wo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(nn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wa{constructor(e,n){this.position=e,this.inclusive=n}}function vu(i,e,n){let o=0;for(let l=0;l<i.position.length;l++){const c=e[l],p=i.position[l];if(o=c.field.isKeyField()?rn.comparator(rn.fromName(p.referenceValue),n.key):Ca(p,n.data.field(c.field)),"desc"===c.dir&&(o*=-1),0!==o)break}return o}function rf(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Xi(i.position[n],e.position[n]))return!1;return!0}class qa{constructor(e,n="asc"){this.field=e,this.dir=n}}function sf(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Vd{}class Pr extends Vd{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new Dn(e,n,o):"array-contains"===n?new Ya(e,o):"in"===n?new Ka(e,o):"not-in"===n?new Bd(e,o):"array-contains-any"===n?new $d(e,o):new Pr(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new Bn(e,o):new Lr(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ca(n,this.value)):null!==n&&Ha(this.value)===Ha(n)&&this.matchesComparison(Ca(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class E extends Vd{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new E(e,n)}matches(e){return g(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function g(i){return"and"===i.op}function m(i){return"or"===i.op}function w(i){return G(i)&&g(i)}function G(i){for(const e of i.filters)if(e instanceof E)return!1;return!0}function le(i){if(i instanceof Pr)return i.field.canonicalString()+i.op.toString()+ea(i.value);if(w(i))return i.filters.map(e=>le(e)).join(",");{const e=i.filters.map(n=>le(n)).join(",");return`${i.op}(${e})`}}function et(i,e){return i instanceof Pr?(o=i,(l=e)instanceof Pr&&o.op===l.op&&o.field.isEqual(l.field)&&Xi(o.value,l.value)):i instanceof E?function(o,l){return l instanceof E&&o.op===l.op&&o.filters.length===l.filters.length&&o.filters.reduce((c,p,b)=>c&&et(p,l.filters[b]),!0)}(i,e):void mn();var o,l}function Tt(i,e){const n=i.filters.concat(e);return E.create(n,i.op)}function Gt(i){return i instanceof Pr?`${(n=i).field.canonicalString()} ${n.op} ${ea(n.value)}`:i instanceof E?function(n){return n.op.toString()+" {"+n.getFilters().map(Gt).join(" ,")+"}"}(i):"Filter";var n}class Dn extends Pr{constructor(e,n,o){super(e,n,o),this.key=rn.fromName(o.referenceValue)}matches(e){const n=rn.comparator(e.key,this.key);return this.matchesComparison(n)}}class Bn extends Pr{constructor(e,n){super(e,"in",n),this.keys=Qo(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Lr extends Pr{constructor(e,n){super(e,"not-in",n),this.keys=Qo(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Qo(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>rn.fromName(o.referenceValue))}class Ya extends Pr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _o(n)&&Js(n.arrayValue,this.value)}}class Ka extends Pr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Js(this.value.arrayValue,n)}}class Bd extends Pr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Js(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Js(this.value.arrayValue,n)}}class $d extends Pr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_o(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Js(this.value.arrayValue,o))}}class Ud{constructor(e,n=null,o=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.ce=null}}function jd(i,e=null,n=[],o=[],l=null,c=null,p=null){return new Ud(i,e,n,o,l,c,p)}function ta(i){const e=Qt(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>le(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(c=o).field.canonicalString()+c.dir;var c}).join(","),Ns(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>ea(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>ea(o)).join(",")),e.ce=n}return e.ce}function yu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!sf(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!et(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!rf(i.startAt,e.startAt)&&rf(i.endAt,e.endAt)}function Eu(i){return rn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Vl(i,e){return i.filters.filter(n=>n instanceof Pr&&n.field.isEqual(e))}function Iu(i,e,n){let o=ja,l=!0;for(const c of Vl(i,e)){let p=ja,b=!0;switch(c.op){case"<":case"<=":p=__(c.value);break;case"==":case"in":case">=":p=c.value;break;case">":p=c.value,b=!1;break;case"!=":case"not-in":p=ja}Ld({value:o,inclusive:l},{value:p,inclusive:b})<0&&(o=p,l=b)}if(null!==n)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const p=n.position[c];Ld({value:o,inclusive:l},{value:p,inclusive:n.inclusive})<0&&(o=p,l=n.inclusive);break}return{value:o,inclusive:l}}function qp(i,e,n){let o=Ua,l=!0;for(const c of Vl(i,e)){let p=Ua,b=!0;switch(c.op){case">=":case">":p=Fd(c.value),b=!1;break;case"==":case"in":case"<=":p=c.value;break;case"<":p=c.value,b=!1;break;case"!=":case"not-in":p=Ua}mu({value:o,inclusive:l},{value:p,inclusive:b})>0&&(o=p,l=b)}if(null!==n)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const p=n.position[c];mu({value:o,inclusive:l},{value:p,inclusive:n.inclusive})>0&&(o=p,l=n.inclusive);break}return{value:o,inclusive:l}}class na{constructor(e,n=null,o=[],l=[],c=null,p="F",b=null,P=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=P,this.le=null,this.he=null,this.Pe=null}}function wc(i,e,n,o,l,c,p,b){return new na(i,e,n,o,l,c,p,b)}function Hd(i){return new na(i)}function rE(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function v_(i){return null!==i.collectionGroup}function zd(i){const e=Qt(i);if(null===e.le){e.le=[];const n=new Set;for(const c of e.explicitOrderBy)e.le.push(c),n.add(c.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new Gr(tr.comparator);return p.filters.forEach(P=>{P.getFlattenedFilters().forEach(H=>{H.isInequality()&&(b=b.add(H.field))})}),b})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.le.push(new qa(c,o))}),n.has(tr.keyField().canonicalString())||e.le.push(new qa(tr.keyField(),o))}return e.le}function ys(i){const e=Qt(i);return e.he||(e.he=function y_(i,e){if("F"===i.limitType)return jd(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(l=>new qa(l.field,"desc"===l.dir?"asc":"desc"));const n=i.endAt?new Wa(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new Wa(i.startAt.position,i.startAt.inclusive):null;return jd(i.path,i.collectionGroup,e,i.filters,i.limit,n,o)}}(e,zd(i))),e.he}function bc(i,e){const n=i.filters.concat([e]);return new na(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Du(i,e,n){return new na(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Ac(i,e){return yu(ys(i),ys(e))&&i.limitType===e.limitType}function Yp(i){return`${ta(ys(i))}|lt:${i.limitType}`}function Cu(i){return`Query(target=${function(n){let o=n.path.canonicalString();return null!==n.collectionGroup&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(l=>Gt(l)).join(", ")}]`),Ns(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(l=>{return`${(p=l).field.canonicalString()} (${p.dir})`;var p}).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(l=>ea(l)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(l=>ea(l)).join(",")),`Target(${o})`}(ys(i))}; limitType=${i.limitType})`}function Za(i,e){return e.isFoundDocument()&&function(o,l){const c=l.key.path;return null!==o.collectionGroup?l.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):rn.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)}(i,e)&&function(o,l){for(const c of zd(o))if(!c.field.isKeyField()&&null===l.data.field(c.field))return!1;return!0}(i,e)&&function(o,l){for(const c of o.filters)if(!c.matches(l))return!1;return!0}(i,e)&&(l=e,!((o=i).startAt&&!function(p,b,P){const H=vu(p,b,P);return p.inclusive?H<=0:H<0}(o.startAt,zd(o),l)||o.endAt&&!function(p,b,P){const H=vu(p,b,P);return p.inclusive?H>=0:H>0}(o.endAt,zd(o),l)));var o,l}function Kp(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Zp(i){return(e,n)=>{let o=!1;for(const l of zd(i)){const c=af(l,e,n);if(0!==c)return c;o=o||l.field.isKeyField()}return 0}}function af(i,e,n){const o=i.field.isKeyField()?rn.comparator(e.key,n.key):function(c,p,b){const P=p.data.field(c),H=b.data.field(c);return null!==P&&null!==H?Ca(P,H):mn()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return mn()}}class ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[l,c]of o)if(this.equalsFn(l,e))return c}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[n]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(n,o)=>{for(const[l,c]of o)e(l,c)})}isEmpty(){return Md(this.inner)}size(){return this.innerSize}}const lf=new pi(rn.comparator);function Es(){return lf}const E_=new pi(rn.comparator);function Gd(...i){let e=E_;for(const n of i)e=e.insert(n.key,n);return e}function Xp(i){let e=E_;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function ia(){return Wd()}function I_(){return Wd()}function Wd(){return new ra(i=>i.toString(),(i,e)=>i.isEqual(e))}const iE=new pi(rn.comparator),D_=new Gr(rn.comparator);function Er(...i){let e=D_;for(const n of i)e=e.add(n);return e}const oE=new Gr(xt);function ss(){return oE}function uf(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cu(e)?"-0":e}}function Qp(i){return{integerValue:""+i}}function cf(i,e){return Xs(e)?Qp(e):uf(i,e)}class Po{constructor(){this._=void 0}}function qd(i,e,n){return i instanceof Sc?function(l,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Od(c)&&(c=Da(c)),c&&(p.fields.__previous_value__=c),{mapValue:p}}(n,e):i instanceof Bl?T_(i,e):i instanceof $l?w_(i,e):function(l,c){const p=Jp(l,c),b=b_(p)+b_(l.Ie);return tf(p)&&tf(l.Ie)?Qp(b):uf(l.serializer,b)}(i,e)}function C_(i,e,n){return i instanceof Bl?T_(i,e):i instanceof $l?w_(i,e):n}function Jp(i,e){return i instanceof Tu?tf(o=e)||(c=o)&&"doubleValue"in c?e:{integerValue:0}:null;var o,c}class Sc extends Po{}class Bl extends Po{constructor(e){super(),this.elements=e}}function T_(i,e){const n=A_(e);for(const o of i.elements)n.some(l=>Xi(l,o))||n.push(o);return{arrayValue:{values:n}}}class $l extends Po{constructor(e){super(),this.elements=e}}function w_(i,e){let n=A_(e);for(const o of i.elements)n=n.filter(l=>!Xi(l,o));return{arrayValue:{values:n}}}class Tu extends Po{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function b_(i){return so(i.integerValue||i.doubleValue)}function A_(i){return _o(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class wu{constructor(e,n){this.field=e,this.transform=n}}class sE{constructor(e,n){this.version=e,this.transformResults=n}}class Ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function df(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class hf{}function tg(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Mc(i.key,Ci.none()):new bu(i.key,i.data,Ci.none());{const n=i.data,o=wo.empty();let l=new Gr(tr.comparator);for(let c of e.fields)if(!l.has(c)){let p=n.field(c);null===p&&c.length>1&&(c=c.popLast(),p=n.field(c)),null===p?o.delete(c):o.set(c,p),l=l.add(c)}return new wa(i.key,o,new mo(l.toArray()),Ci.none())}}function S_(i,e,n){i instanceof bu?function(l,c,p){const b=l.value.clone(),P=R_(l.fieldTransforms,c,p.transformResults);b.setAll(P),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()}(i,e,n):i instanceof wa?function(l,c,p){if(!df(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=R_(l.fieldTransforms,c,p.transformResults),P=c.data;P.setAll(Kd(l)),P.setAll(b),c.convertToFoundDocument(p.version,P).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Rc(i,e,n,o){return i instanceof bu?function(c,p,b,P){if(!df(c.precondition,p))return b;const H=c.value.clone(),X=P_(c.fieldTransforms,P,p);return H.setAll(X),p.convertToFoundDocument(p.version,H).setHasLocalMutations(),null}(i,e,n,o):i instanceof wa?function(c,p,b,P){if(!df(c.precondition,p))return b;const H=P_(c.fieldTransforms,P,p),X=p.data;return X.setAll(Kd(c)),X.setAll(H),p.convertToFoundDocument(p.version,X).setHasLocalMutations(),null===b?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(ye=>ye.field))}(i,e,n,o):(b=n,df(i.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b);var p,b}function Pc(i,e){let n=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),c=Jp(o.transform,l||null);null!=c&&(null===n&&(n=wo.empty()),n.set(o.field,c))}return n||null}function Yd(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(o=i.fieldTransforms)&&void 0===l||o&&l&&Rn(o,l,(c,p)=>function eg(i,e){return i.field.isEqual(e.field)&&(l=e.transform,(o=i.transform)instanceof Bl&&l instanceof Bl||o instanceof $l&&l instanceof $l?Rn(o.elements,l.elements,Xi):o instanceof Tu&&l instanceof Tu?Xi(o.Ie,l.Ie):o instanceof Sc&&l instanceof Sc);var o,l}(c,p))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var o,l}class bu extends hf{constructor(e,n,o,l=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class wa extends hf{constructor(e,n,o,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Kd(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function R_(i,e,n){const o=new Map;bn(i.length===n.length);for(let l=0;l<n.length;l++){const c=i[l],p=c.transform,b=e.data.field(c.field);o.set(c.field,C_(p,b,n[l]))}return o}function P_(i,e,n){const o=new Map;for(const l of i){const c=l.transform,p=n.data.field(l.field);o.set(l.field,qd(c,p,e))}return o}class Mc extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ng extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rg{constructor(e,n,o,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&S_(c,e,o[l])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Rc(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Rc(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=I_();return this.mutations.forEach(l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=n.has(l.key)?null:b;const P=tg(p,b);null!==P&&o.set(l.key,P),p.isValidDocument()||p.convertToNoDocument(nn.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Er())}isEqual(e){return this.batchId===e.batchId&&Rn(this.mutations,e.mutations,(n,o)=>Yd(n,o))&&Rn(this.baseMutations,e.baseMutations,(n,o)=>Yd(n,o))}}class ig{constructor(e,n,o,l){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=l}static from(e,n,o){bn(e.mutations.length===o.length);let l=iE;const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,o[p].version);return new ig(e,n,o,l)}}class ff{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class og{constructor(e,n){this.count=e,this.unchangedNames=n}}var ao,Xr;function M_(i){switch(i){default:return mn();case Et.CANCELLED:case Et.UNKNOWN:case Et.DEADLINE_EXCEEDED:case Et.RESOURCE_EXHAUSTED:case Et.INTERNAL:case Et.UNAVAILABLE:case Et.UNAUTHENTICATED:return!1;case Et.INVALID_ARGUMENT:case Et.NOT_FOUND:case Et.ALREADY_EXISTS:case Et.PERMISSION_DENIED:case Et.FAILED_PRECONDITION:case Et.ABORTED:case Et.OUT_OF_RANGE:case Et.UNIMPLEMENTED:case Et.DATA_LOSS:return!0}}function gf(i){if(void 0===i)return zr("GRPC error has no .code"),Et.UNKNOWN;switch(i){case ao.OK:return Et.OK;case ao.CANCELLED:return Et.CANCELLED;case ao.UNKNOWN:return Et.UNKNOWN;case ao.DEADLINE_EXCEEDED:return Et.DEADLINE_EXCEEDED;case ao.RESOURCE_EXHAUSTED:return Et.RESOURCE_EXHAUSTED;case ao.INTERNAL:return Et.INTERNAL;case ao.UNAVAILABLE:return Et.UNAVAILABLE;case ao.UNAUTHENTICATED:return Et.UNAUTHENTICATED;case ao.INVALID_ARGUMENT:return Et.INVALID_ARGUMENT;case ao.NOT_FOUND:return Et.NOT_FOUND;case ao.ALREADY_EXISTS:return Et.ALREADY_EXISTS;case ao.PERMISSION_DENIED:return Et.PERMISSION_DENIED;case ao.FAILED_PRECONDITION:return Et.FAILED_PRECONDITION;case ao.ABORTED:return Et.ABORTED;case ao.OUT_OF_RANGE:return Et.OUT_OF_RANGE;case ao.UNIMPLEMENTED:return Et.UNIMPLEMENTED;case ao.DATA_LOSS:return Et.DATA_LOSS;default:return mn()}}(Xr=ao||(ao={}))[Xr.OK=0]="OK",Xr[Xr.CANCELLED=1]="CANCELLED",Xr[Xr.UNKNOWN=2]="UNKNOWN",Xr[Xr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xr[Xr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xr[Xr.NOT_FOUND=5]="NOT_FOUND",Xr[Xr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xr[Xr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xr[Xr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xr[Xr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xr[Xr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xr[Xr.ABORTED=10]="ABORTED",Xr[Xr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xr[Xr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xr[Xr.INTERNAL=13]="INTERNAL",Xr[Xr.UNAVAILABLE=14]="UNAVAILABLE",Xr[Xr.DATA_LOSS=15]="DATA_LOSS";function Ul(){return new TextEncoder}const x_=new qs([4294967295,4294967295],0);function sg(i){const e=Ul().encode(i),n=new Yh;return n.update(e),new Uint8Array(n.digest())}function O_(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new qs([n,o],0),new qs([l,c],0)]}class N_{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(o<0)throw new jl(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new jl(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=qs.fromNumber(this.Te)}de(e,n,o){let l=e.add(n.multiply(qs.fromNumber(o)));return 1===l.compare(x_)&&(l=new qs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=sg(e),[o,l]=O_(n);for(let c=0;c<this.hashCount;c++){const p=this.de(o,l,c);if(!this.Ae(p))return!1}return!0}static create(e,n,o){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new N_(c,l,n);return o.forEach(b=>p.insert(b)),p}insert(e){if(0===this.Te)return;const n=sg(e),[o,l]=O_(n);for(let c=0;c<this.hashCount;c++){const p=this.de(o,l,c);this.Re(p)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xd{constructor(e,n,o,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const l=new Map;return l.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Xd(nn.min(),l,new pi(xt),Es(),Er())}}class xc{constructor(e,n,o,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new xc(o,n,Er(),Er(),Er())}}class Qd{constructor(e,n,o,l){this.Ve=e,this.removedTargetIds=n,this.key=o,this.me=l}}class ag{constructor(e,n){this.targetId=e,this.fe=n}}class mf{constructor(e,n,o=To.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=l}}class lg{constructor(){this.ge=0,this.pe=ug(),this.ye=To.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Er(),n=Er(),o=Er();return this.pe.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:o=o.add(l);break;default:mn()}}),new xc(this.ye,this.we,e,n,o)}Fe(){this.Se=!1,this.pe=ug()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class _f{constructor(e){this.Le=e,this.ke=new Map,this.qe=Es(),this.Qe=Oc(),this.Ke=new pi(xt)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const o=this.ze(n);switch(e.state){case 0:this.je(n)&&o.Ce(e.resumeToken);break;case 1:o.Ne(),o.be||o.Fe(),o.Ce(e.resumeToken);break;case 2:o.Ne(),o.be||this.removeTarget(n);break;case 3:this.je(n)&&(o.Be(),o.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),o.Ce(e.resumeToken));break;default:mn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((o,l)=>{this.je(l)&&n(l)})}Je(e){const n=e.targetId,o=e.fe.count,l=this.Ye(n);if(l){const c=l.target;if(Eu(c))if(0===o){const p=new rn(c.path);this.We(n,p,gi.newNoDocument(p,nn.min()))}else bn(1===o);else{const p=this.Ze(n);if(p!==o){const b=this.Xe(e),P=b?this.et(b,e,p):1;0!==P&&(this.He(n),this.Ke=this.Ke.insert(n,2===P?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:l=0},hashCount:c=0}=n;let p,b;try{p=$a(o).toUint8Array()}catch(P){if(P instanceof Cc)return Zi("Decoding the base64 bloom filter in existence filter failed ("+P.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw P}try{b=new N_(p,l,c)}catch(P){return Zi(P instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",P),null}return 0===b.Te?null:b}et(e,n,o){return n.fe.count===o-this.rt(e,n.targetId)?0:2}rt(e,n){const o=this.Le.getRemoteKeysForTarget(n);let l=0;return o.forEach(c=>{const p=this.Le.nt(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.We(n,c,null),l++)}),l}it(e){const n=new Map;this.ke.forEach((c,p)=>{const b=this.Ye(p);if(b){if(c.current&&Eu(b.target)){const P=new rn(b.target.path);null!==this.qe.get(P)||this.st(p,P)||this.We(p,P,gi.newNoDocument(P,e))}c.De&&(n.set(p,c.ve()),c.Fe())}});let o=Er();this.Qe.forEach((c,p)=>{let b=!0;p.forEachWhile(P=>{const H=this.Ye(P);return!H||"TargetPurposeLimboResolution"===H.purpose||(b=!1,!1)}),b&&(o=o.add(c))}),this.qe.forEach((c,p)=>p.setReadTime(e));const l=new Xd(e,n,this.Ke,this.qe,o);return this.qe=Es(),this.Qe=Oc(),this.Ke=new pi(xt),l}Ue(e,n){if(!this.je(e))return;const o=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,o),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,o){if(!this.je(e))return;const l=this.ze(e);this.st(e,n)?l.Me(n,1):l.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),o&&(this.qe=this.qe.insert(n,o))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new lg,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Gr(xt),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||Vt("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new lg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Oc(){return new pi(rn.comparator)}function ug(){return new pi(rn.comparator)}const cg={asc:"ASCENDING",desc:"DESCENDING"},vf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k_={and:"AND",or:"OR"};class dg{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Au(i,e){return i.useProto3Json||Ns(e)?e:{value:e}}function Nc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function aE(i,e){return Nc(i,e.toTimestamp())}function vo(i){return bn(!!i),nn.fromTimestamp(function(n){const o=vl(n);return new hr(o.seconds,o.nanos)}(i))}function fg(i,e){return(o=i,new lr(["projects",o.projectId,"databases",o.database])).child("documents").child(e).canonicalString();var o}function pg(i){const e=lr.fromString(i);return bn(B_(e)),e}function kc(i,e){return fg(i.databaseId,e.path)}function ks(i,e){const n=pg(e);if(n.get(1)!==i.databaseId.projectId)throw new Bt(Et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Bt(Et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new rn(F_(n))}function Jd(i,e){return fg(i.databaseId,e)}function Su(i){const e=pg(i);return 4===e.length?lr.emptyPath():F_(e)}function eh(i){return new lr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function F_(i){return bn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function lE(i,e,n){return{name:kc(i,e),fields:n.value.mapValue.fields}}function L_(i,e,n){const o=ks(i,e.name),l=vo(e.updateTime),c=e.createTime?vo(e.createTime):nn.min(),p=new wo({mapValue:{fields:e.fields}}),b=gi.newFoundDocument(o,l,c,p);return n&&b.setHasCommittedMutations(),n?b.setHasCommittedMutations():b}function Xa(i,e){let n;if(e instanceof bu)n={update:lE(i,e.key,e.value)};else if(e instanceof Mc)n={delete:kc(i,e.key)};else if(e instanceof wa)n={update:lE(i,e.key,e.data),updateMask:fE(e.fieldMask)};else{if(!(e instanceof ng))return mn();n={verify:kc(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(c,p){const b=p.transform;if(b instanceof Sc)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Bl)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof $l)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Tu)return{fieldPath:p.field.canonicalString(),increment:b.Ie};throw mn()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:aE(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:mn()),n;var c}function Fc(i,e){const n=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?Ci.updateTime(vo(c.updateTime)):void 0!==c.exists?Ci.exists(c.exists):Ci.none():Ci.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(p,b){let P=null;"setToServerValue"in b?(bn("REQUEST_TIME"===b.setToServerValue),P=new Sc):"appendMissingElements"in b?P=new Bl(b.appendMissingElements.values||[]):"removeAllFromArray"in b?P=new $l(b.removeAllFromArray.values||[]):"increment"in b?P=new Tu(p,b.increment):mn();const H=tr.fromServerFormat(b.fieldPath);return new wu(H,P)}(i,l)):[];var c;if(e.update){const l=ks(i,e.update.name),c=new wo({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new mo((e.updateMask.fieldPaths||[]).map(X=>tr.fromServerFormat(X)));return new wa(l,c,p,n,o)}return new bu(l,c,n,o)}if(e.delete){const l=ks(i,e.delete);return new Mc(l,n)}if(e.verify){const l=ks(i,e.verify);return new ng(l,n)}return mn()}function _g(i,e){return{documents:[Jd(i,e.path)]}}function yf(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=Jd(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Jd(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(P){if(0!==P.length)return Pu(E.create(P,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(P){if(0!==P.length)return P.map(H=>{return{field:Hl((ye=H).field),direction:cE(ye.dir)};var ye})}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const p=Au(i,e.limit);return null!==p&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt={before:(P=e.startAt).inclusive,values:P.position}),e.endAt&&(n.structuredQuery.endAt=function(P){return{before:!P.inclusive,values:P.position}}(e.endAt)),n;var P}function vg(i){let e=Su(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let l=null;if(o>0){bn(1===o);const X=n.from[0];X.allDescendants?l=X.collectionId:e=e.child(X.collectionId)}let c=[];n.where&&(c=function(ye){const Ze=V_(ye);return Ze instanceof E&&w(Ze)?Ze.getFilters():[Ze]}(n.where));let p=[];n.orderBy&&(p=n.orderBy.map(Ze=>{return new qa(Is((Jt=Ze).field),function(on){switch(on){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Jt.direction));var Jt}));let b=null;n.limit&&(b=function(ye){let Ze;return Ze="object"==typeof ye?ye.value:ye,Ns(Ze)?null:Ze}(n.limit));let P=null;var ye;n.startAt&&(P=new Wa((ye=n.startAt).values||[],!!ye.before));let H=null;return n.endAt&&(H=function(ye){return new Wa(ye.values||[],!ye.before)}(n.endAt)),wc(e,l,p,c,b,"F",P,H)}function V_(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=Is(n.unaryFilter.field);return Pr.create(o,"==",{doubleValue:NaN});case"IS_NULL":const l=Is(n.unaryFilter.field);return Pr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Is(n.unaryFilter.field);return Pr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Is(n.unaryFilter.field);return Pr.create(p,"!=",{nullValue:"NULL_VALUE"});default:return mn()}}(i):void 0!==i.fieldFilter?Pr.create(Is((n=i).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mn()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return E.create(n.compositeFilter.filters.map(o=>V_(o)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mn()}}(n.compositeFilter.op))}(i):mn();var n}function cE(i){return cg[i]}function dE(i){return vf[i]}function hE(i){return k_[i]}function Hl(i){return{fieldPath:i.canonicalString()}}function Is(i){return tr.fromServerFormat(i.fieldPath)}function Pu(i){return i instanceof Pr?function(n){if("=="===n.op){if(za(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NAN"}};if(Tc(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(za(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NOT_NAN"}};if(Tc(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hl(n.field),op:dE(n.op),value:n.value}}}(i):i instanceof E?function(n){const o=n.getFilters().map(l=>Pu(l));return 1===o.length?o[0]:{compositeFilter:{op:hE(n.op),filters:o}}}(i):mn()}function fE(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function B_(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class El{constructor(e,n,o,l,c=nn.min(),p=nn.min(),b=To.EMPTY_BYTE_STRING,P=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=P}withSequenceNumber(e){return new El(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new El(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new El(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new El(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $_{constructor(e){this.ut=e}}function U_(i,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:th(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:kc(c=i.ut,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:Nc(c,p.version.toTimestamp()),createTime:Nc(c,p.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:Mu(e.version)};else{if(!e.isUnknownDocument())return mn();o.unknownDocument={path:n.path.toArray(),version:Mu(e.version)}}var c,p;return o}function th(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Mu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function xu(i){const e=new hr(i.seconds,i.nanoseconds);return nn.fromTimestamp(e)}function Ou(i,e){const n=(e.baseMutations||[]).map(c=>Fc(i.ut,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const o=e.mutations.map(c=>Fc(i.ut,c)),l=hr.fromMillis(e.localWriteTimeMs);return new rg(e.batchId,l,n,o)}function nh(i){const e=xu(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?xu(i.lastLimboFreeSnapshotVersion):nn.min();let o;return o=void 0!==i.query.documents?(bn(1===(c=i.query).documents.length),ys(Hd(Su(c.documents[0])))):function(c){return ys(vg(c))}(i.query),new El(o,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,n,To.fromBase64String(i.resumeToken));var c}function rh(i,e){const n=Mu(e.snapshotVersion),o=Mu(e.lastLimboFreeSnapshotVersion);let l;l=Eu(e.target)?_g(i.ut,e.target):yf(i.ut,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ta(e.target),readTime:n,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function ba(i){const e=vg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Du(e,e.limit,"L"):e}function Nu(i,e){return new ff(e.largestBatchId,Fc(i.ut,e.overlayMutation))}function yg(i,e){const n=e.path.lastSegment();return[i,Co(e.path.popLast()),n]}function Eg(i,e,n,o){return{indexId:i,uid:e.uid||"",sequenceNumber:n,readTime:Mu(o.readTime),documentKey:Co(o.documentKey.path),largestBatchId:o.largestBatchId}}class j_{getBundleMetadata(e,n){return gE(e).get(n).next(o=>{if(o)return{id:(c=o).bundleId,createTime:xu(c.createTime),version:c.version};var c})}saveBundleMetadata(e,n){return gE(e).put({bundleId:(l=n).id,createTime:Mu(vo(l.createTime)),version:l.version});var l}getNamedQuery(e,n){return mE(e).get(n).next(o=>{if(o)return{name:(c=o).name,query:ba(c.bundledQuery),readTime:xu(c.readTime)};var c})}saveNamedQuery(e,n){return mE(e).put({name:(l=n).name,readTime:Mu(vo(l.readTime)),bundledQuery:l.bundledQuery});var l}}function gE(i){return go(i,"bundles")}function mE(i){return go(i,"namedQueries")}class Ig{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new Ig(e,n.uid||"")}getOverlay(e,n){return ku(e).get(yg(this.userId,n)).next(o=>o?Nu(this.serializer,o):null)}getOverlays(e,n){const o=ia();return ft.forEach(n,l=>this.getOverlay(e,l).next(c=>{null!==c&&o.set(l,c)})).next(()=>o)}saveOverlays(e,n,o){const l=[];return o.forEach((c,p)=>{const b=new ff(n,p);l.push(this.lt(e,b))}),ft.waitFor(l)}removeOverlaysForBatchId(e,n,o){const l=new Set;n.forEach(p=>l.add(Co(p.getCollectionPath())));const c=[];return l.forEach(p=>{const b=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,o+1],!1,!0);c.push(ku(e).H("collectionPathOverlayIndex",b))}),ft.waitFor(c)}getOverlaysForCollection(e,n,o){const l=ia(),c=Co(n),p=IDBKeyRange.bound([this.userId,c,o],[this.userId,c,Number.POSITIVE_INFINITY],!0);return ku(e).W("collectionPathOverlayIndex",p).next(b=>{for(const P of b){const H=Nu(this.serializer,P);l.set(H.getKey(),H)}return l})}getOverlaysForCollectionGroup(e,n,o,l){const c=ia();let p;const b=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ku(e).Y({index:"collectionGroupOverlayIndex",range:b},(P,H,X)=>{const ye=Nu(this.serializer,H);c.size()<l||ye.largestBatchId===p?(c.set(ye.getKey(),ye),p=ye.largestBatchId):X.done()}).next(()=>c)}lt(e,n){return ku(e).put(function(l,c,p){const[b,P,H]=yg(c,p.mutation.key);return{userId:c,collectionPath:P,documentId:H,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:Xa(l.ut,p.mutation)}}(this.serializer,this.userId,n))}}function ku(i){return go(i,"documentOverlays")}class Il{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(so(e.integerValue));else if("doubleValue"in e){const o=so(e.doubleValue);isNaN(o)?this.Tt(n,13):(this.Tt(n,15),cu(o)?n.Et(0):n.Et(o))}else if("timestampValue"in e){const o=e.timestampValue;this.Tt(n,20),"string"==typeof o?n.dt(o):(n.dt(`${o.seconds||""}`),n.Et(o.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt($a(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.Tt(n,45),n.Et(o.latitude||0),n.Et(o.longitude||0)}else"mapValue"in e?nf(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):mn()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const o=e.fields||{};this.Tt(n,55);for(const l of Object.keys(o))this.At(l,n),this.Pt(o[l],n)}yt(e,n){const o=e.values||[];this.Tt(n,50);for(const l of o)this.Pt(l,n)}ft(e,n){this.Tt(n,37),rn.fromName(e).path.forEach(o=>{this.Tt(n,60),this.wt(o,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function HI(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function _E(i){const e=64-function(o){let l=0;for(let c=0;c<8;++c){const p=HI(255&o[c]);if(l+=p,8!==p)break}return l}(i);return Math.ceil(e/8)}Il.St=new Il;class H_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Dt(o.value),o=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Ft(o.value),o=n.next();this.Mt()}xt(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Dt(o);else if(o<2048)this.Dt(960|o>>>6),this.Dt(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|o>>>12),this.Dt(128|63&o>>>6),this.Dt(128|63&o);else{const l=n.codePointAt(0);this.Dt(240|l>>>18),this.Dt(128|63&l>>>12),this.Dt(128|63&l>>>6),this.Dt(128|63&l)}}this.Ct()}Ot(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Ft(o);else if(o<2048)this.Ft(960|o>>>6),this.Ft(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o);else{const l=n.codePointAt(0);this.Ft(240|l>>>18),this.Ft(128|63&l>>>12),this.Ft(128|63&l>>>6),this.Ft(128|63&l)}}this.Mt()}Nt(e){const n=this.Bt(e),o=_E(n);this.Lt(1+o),this.buffer[this.position++]=255&o;for(let l=n.length-o;l<n.length;++l)this.buffer[this.position++]=255&n[l]}kt(e){const n=this.Bt(e),o=_E(n);this.Lt(1+o),this.buffer[this.position++]=~(255&o);for(let l=n.length-o;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(c){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,c,!1),new Uint8Array(p.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let l=1;l<n.length;++l)n[l]^=o?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class vE{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class yE{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class ih{constructor(){this.Wt=new H_,this.Gt=new vE(this.Wt),this.zt=new yE(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Fu{constructor(e,n,o,l){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=l}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Fu(this.indexId,this.documentKey,this.arrayValue,o)}}function Dl(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=oh(i.arrayValue,e.arrayValue),0!==n?n:(n=oh(i.directionalValue,e.directionalValue),0!==n?n:rn.comparator(i.documentKey,e.documentKey)))}function oh(i,e){for(let n=0;n<i.length&&n<e.length;++n){const o=i[n]-e[n];if(0!==o)return o}return i.length-e.length}class Dg{constructor(e){this.Jt=new Gr((n,o)=>tr.comparator(n.field,o.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const o=n;o.isInequality()?this.Jt=this.Jt.add(o):this.Zt.push(o)}}get Xt(){return this.Jt.size>1}en(e){if(bn(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=La(e);if(void 0!==n&&!this.tn(n))return!1;const o=ma(e);let l=new Set,c=0,p=0;for(;c<o.length&&this.tn(o[c]);++c)l=l.add(o[c].fieldPath.canonicalString());if(c===o.length)return!0;if(this.Jt.size>0){const b=this.Jt.getIterator().getNext();if(!l.has(b.field.canonicalString())){const P=o[c];if(!this.nn(b,P)||!this.rn(this.Yt[p++],P))return!1}++c}for(;c<o.length;++c)if(p>=this.Yt.length||!this.rn(this.Yt[p++],o[c]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Gr(tr.comparator);const n=[];for(const o of this.Zt)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)n.push(new _a(o.field,2));else{if(e.has(o.field))continue;e=e.add(o.field),n.push(new _a(o.field,0))}for(const o of this.Yt)o.field.isKeyField()||e.has(o.field)||(e=e.add(o.field),n.push(new _a(o.field,"asc"===o.dir?0:1)));return new Zr(Zr.UNKNOWN_ID,this.collectionId,n,va.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function Ef(i){var e,n;if(bn(i instanceof Pr||i instanceof E),i instanceof Pr){if(i instanceof Ka){const l=(null===(n=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(c=>Pr.create(i.field,"==",c)))||[];return E.create(l,"or")}return i}const o=i.filters.map(l=>Ef(l));return E.create(o,i.op)}function EE(i){if(0===i.getFilters().length)return[];const e=If(Ef(i));return bn(z_(e)),Cl(e)||Cg(e)?[e]:e.getFilters()}function Cl(i){return i instanceof Pr}function Cg(i){return i instanceof E&&w(i)}function z_(i){return Cl(i)||Cg(i)||function(n){if(n instanceof E&&m(n)){for(const o of n.getFilters())if(!Cl(o)&&!Cg(o))return!1;return!0}return!1}(i)}function If(i){if(bn(i instanceof Pr||i instanceof E),i instanceof Pr)return i;if(1===i.filters.length)return If(i.filters[0]);const e=i.filters.map(o=>If(o));let n=E.create(e,i.op);return n=Cf(n),z_(n)?n:(bn(n instanceof E),bn(g(n)),bn(n.filters.length>1),n.filters.reduce((o,l)=>Df(o,l)))}function Df(i,e){let n;return bn(i instanceof Pr||i instanceof E),bn(e instanceof Pr||e instanceof E),n=i instanceof Pr?e instanceof Pr?E.create([i,e],"and"):G_(i,e):e instanceof Pr?G_(e,i):function(l,c){if(bn(l.filters.length>0&&c.filters.length>0),g(l)&&g(c))return Tt(l,c.getFilters());const p=m(l)?l:c,b=m(l)?c:l,P=p.filters.map(H=>Df(H,b));return E.create(P,"or")}(i,e),Cf(n)}function G_(i,e){if(g(e))return Tt(e,i.getFilters());{const n=e.filters.map(o=>Df(i,o));return E.create(n,"or")}}function Cf(i){if(bn(i instanceof Pr||i instanceof E),i instanceof Pr)return i;const e=i.getFilters();if(1===e.length)return Cf(e[0]);if(G(i))return i;const n=e.map(l=>Cf(l)),o=[];return n.forEach(l=>{l instanceof Pr?o.push(l):l instanceof E&&(l.op===i.op?o.push(...l.filters):o.push(l))}),1===o.length?o[0]:E.create(o,i.op)}class IE{constructor(){this.on=new Tg}addToCollectionParentIndex(e,n){return this.on.add(n),ft.resolve()}getCollectionParents(e,n){return ft.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return ft.resolve()}deleteFieldIndex(e,n){return ft.resolve()}deleteAllFieldIndexes(e){return ft.resolve()}createTargetIndexes(e,n){return ft.resolve()}getDocumentsMatchingTarget(e,n){return ft.resolve(null)}getIndexType(e,n){return ft.resolve(0)}getFieldIndexes(e,n){return ft.resolve([])}getNextCollectionGroupToUpdate(e){return ft.resolve(null)}getMinOffset(e,n){return ft.resolve(Uo.min())}getMinOffsetFromCollectionGroup(e,n){return ft.resolve(Uo.min())}updateCollectionGroup(e,n,o){return ft.resolve()}updateIndexEntries(e,n){return ft.resolve()}}class Tg{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n]||new Gr(lr.comparator),c=!l.has(o);return this.index[n]=l.add(o),c}has(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n];return l&&l.has(o)}getEntries(e){return(this.index[e]||new Gr(lr.comparator)).toArray()}}const sh=new Uint8Array(0);class zI{constructor(e,n){this.user=e,this.databaseId=n,this._n=new Tg,this.an=new ra(o=>ta(o),(o,l)=>yu(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const o=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const c={collectionId:o,parent:Co(l)};return DE(e).put(c)}return ft.resolve()}getCollectionParents(e,n){const o=[],l=IDBKeyRange.bound([n,""],[Kr(n),""],!1,!0);return DE(e).W(l).next(c=>{for(const p of c){if(p.collectionId!==n)break;o.push(fs(p.parent))}return o})}addFieldIndex(e,n){const o=Wr(e),l={indexId:(b=n).indexId,collectionGroup:b.collectionGroup,fields:b.fields.map(P=>[P.fieldPath.canonicalString(),P.kind])};var b;delete l.indexId;const c=o.add(l);if(n.indexState){const p=Ja(e);return c.next(b=>{p.put(Eg(b,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return c.next()}deleteFieldIndex(e,n){const o=Wr(e),l=Ja(e),c=Qa(e);return o.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Wr(e),o=Qa(e),l=Ja(e);return n.H().next(()=>o.H()).next(()=>l.H())}createTargetIndexes(e,n){return ft.forEach(this.un(n),o=>this.getIndexType(e,o).next(l=>{if(0===l||1===l){const c=new Dg(o).sn();if(null!=c)return this.addFieldIndex(e,c)}}))}getDocumentsMatchingTarget(e,n){const o=Qa(e);let l=!0;const c=new Map;return ft.forEach(this.un(n),p=>this.cn(e,p).next(b=>{l&&(l=!!b),c.set(p,b)})).next(()=>{if(l){let p=Er();const b=[];return ft.forEach(c,(P,H)=>{var Un;Vt("IndexedDbIndexManager",`Using index ${Un=P,`id=${Un.indexId}|cg=${Un.collectionGroup}|f=${Un.fields.map(Pn=>`${Pn.fieldPath}:${Pn.kind}`).join(",")}`} to execute ${ta(n)}`);const X=function(Un,Pn){const Ir=La(Pn);if(void 0===Ir)return null;for(const fr of Vl(Un,Ir.fieldPath))switch(fr.op){case"array-contains-any":return fr.value.arrayValue.values||[];case"array-contains":return[fr.value]}return null}(H,P),ye=function(Un,Pn){const Ir=new Map;for(const fr of ma(Pn))for(const yo of Vl(Un,fr.fieldPath))switch(yo.op){case"==":case"in":Ir.set(fr.fieldPath.canonicalString(),yo.value);break;case"not-in":case"!=":return Ir.set(fr.fieldPath.canonicalString(),yo.value),Array.from(Ir.values())}return null}(H,P),Ze=function(Un,Pn){const Ir=[];let fr=!0;for(const yo of ma(Pn)){const bs=0===yo.kind?Iu(Un,yo.fieldPath,Un.startAt):qp(Un,yo.fieldPath,Un.startAt);Ir.push(bs.value),fr&&(fr=bs.inclusive)}return new Wa(Ir,fr)}(H,P),gt=function(Un,Pn){const Ir=[];let fr=!0;for(const yo of ma(Pn)){const bs=0===yo.kind?qp(Un,yo.fieldPath,Un.endAt):Iu(Un,yo.fieldPath,Un.endAt);Ir.push(bs.value),fr&&(fr=bs.inclusive)}return new Wa(Ir,fr)}(H,P),Jt=this.ln(P,H,Ze),sn=this.ln(P,H,gt),on=this.hn(P,H,ye),Cn=this.Pn(P.indexId,X,Jt,Ze.inclusive,sn,gt.inclusive,on);return ft.forEach(Cn,$n=>o.j($n,n.limit).next(Un=>{Un.forEach(Pn=>{const Ir=rn.fromSegments(Pn.documentKey);p.has(Ir)||(p=p.add(Ir),b.push(Ir))})}))}).next(()=>b)}return ft.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:EE(E.create(e.filters,"and")).map(o=>jd(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,o,l,c,p,b){const P=(null!=n?n.length:1)*Math.max(o.length,c.length),H=P/(null!=n?n.length:1),X=[];for(let ye=0;ye<P;++ye){const Ze=n?this.In(n[ye/H]):sh,gt=this.Tn(e,Ze,o[ye%H],l),Jt=this.En(e,Ze,c[ye%H],p),sn=b.map(on=>this.Tn(e,Ze,on,!0));X.push(...this.createRange(gt,Jt,sn))}return X}Tn(e,n,o,l){const c=new Fu(e,rn.empty(),n,o);return l?c:c.Ht()}En(e,n,o,l){const c=new Fu(e,rn.empty(),n,o);return l?c.Ht():c}cn(e,n){const o=new Dg(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(c=>{let p=null;for(const b of c)o.en(b)&&(!p||b.fields.length>p.fields.length)&&(p=b);return p})}getIndexType(e,n){let o=2;const l=this.un(n);return ft.forEach(l,c=>this.cn(e,c).next(p=>{p?0!==o&&p.fields.length<function(P){let H=new Gr(tr.comparator),X=!1;for(const ye of P.filters)for(const Ze of ye.getFlattenedFilters())Ze.field.isKeyField()||("array-contains"===Ze.op||"array-contains-any"===Ze.op?X=!0:H=H.add(Ze.field));for(const ye of P.orderBy)ye.field.isKeyField()||(H=H.add(ye.field));return H.size+(X?1:0)}(c)&&(o=1):o=0})).next(()=>null!==n.limit&&l.length>1&&2===o?1:o)}dn(e,n){const o=new ih;for(const l of ma(e)){const c=n.data.field(l.fieldPath);if(null==c)return null;const p=o.jt(l.kind);Il.St.ht(c,p)}return o.Ut()}In(e){const n=new ih;return Il.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const o=new ih;return Il.St.ht(Ta(this.databaseId,n),o.jt(function(c){const p=ma(c);return 0===p.length?0:p[p.length-1].kind}(e))),o.Ut()}hn(e,n,o){if(null===o)return[];let l=[];l.push(new ih);let c=0;for(const p of ma(e)){const b=o[c++];for(const P of l)if(this.Rn(n,p.fieldPath)&&_o(b))l=this.Vn(l,p,b);else{const H=P.jt(p.kind);Il.St.ht(b,H)}}return this.mn(l)}ln(e,n,o){return this.hn(e,n,o.position)}mn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].Ut();return n}Vn(e,n,o){const l=[...e],c=[];for(const p of o.arrayValue.values||[])for(const b of l){const P=new ih;P.seed(b.Ut()),Il.St.ht(p,P.jt(n.kind)),c.push(P)}return c}Rn(e,n){return!!e.filters.find(o=>o instanceof Pr&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=Wr(e),l=Ja(e);return(n?o.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.W()).next(c=>{const p=[];return ft.forEach(c,b=>l.get([b.indexId,this.uid]).next(P=>{p.push(function(X,ye){const Ze=ye?new va(ye.sequenceNumber,new Uo(xu(ye.readTime),new rn(fs(ye.documentKey)),ye.largestBatchId)):va.empty(),gt=X.fields.map(([Jt,sn])=>new _a(tr.fromServerFormat(Jt),sn));return new Zr(X.indexId,X.collectionGroup,gt,Ze)}(b,P))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,l)=>{const c=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==c?c:xt(o.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const l=Wr(e),c=Ja(e);return this.fn(e).next(p=>l.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(b=>ft.forEach(b,P=>c.put(Eg(P.indexId,this.user,p,o)))))}updateIndexEntries(e,n){const o=new Map;return ft.forEach(n,(l,c)=>{const p=o.get(l.collectionGroup);return(p?ft.resolve(p):this.getFieldIndexes(e,l.collectionGroup)).next(b=>(o.set(l.collectionGroup,b),ft.forEach(b,P=>this.gn(e,l,P).next(H=>{const X=this.pn(c,P);return H.isEqual(X)?ft.resolve():this.yn(e,c,P,H,X)}))))})}wn(e,n,o,l){return Qa(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.An(o,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,o,l){return Qa(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.An(o,n.key),n.key.path.toArray()])}gn(e,n,o){const l=Qa(e);let c=new Gr(Dl);return l.Y({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.An(o,n)])},(p,b)=>{c=c.add(new Fu(o.indexId,n,b.arrayValue,b.directionalValue))}).next(()=>c)}pn(e,n){let o=new Gr(Dl);const l=this.dn(n,e);if(null==l)return o;const c=La(n);if(null!=c){const p=e.data.field(c.fieldPath);if(_o(p))for(const b of p.arrayValue.values||[])o=o.add(new Fu(n.indexId,e.key,this.In(b),l))}else o=o.add(new Fu(n.indexId,e.key,sh,l));return o}yn(e,n,o,l,c){Vt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const p=[];return function(P,H,X,ye,Ze){const gt=P.getIterator(),Jt=H.getIterator();let sn=Ia(gt),on=Ia(Jt);for(;sn||on;){let Cn=!1,$n=!1;if(sn&&on){const Un=X(sn,on);Un<0?$n=!0:Un>0&&(Cn=!0)}else null!=sn?$n=!0:Cn=!0;Cn?(ye(on),on=Ia(Jt)):$n?(Ze(sn),sn=Ia(gt)):(sn=Ia(gt),on=Ia(Jt))}}(l,c,Dl,b=>{p.push(this.wn(e,n,o,b))},b=>{p.push(this.Sn(e,n,o,b))}),ft.waitFor(p)}fn(e){let n=1;return Ja(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,c)=>{c.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((p,b)=>Dl(p,b)).filter((p,b,P)=>!b||0!==Dl(p,P[b-1]));const l=[];l.push(e);for(const p of o){const b=Dl(p,e),P=Dl(p,n);if(0===b)l[0]=e.Ht();else if(b>0&&P<0)l.push(p),l.push(p.Ht());else if(P>0)break}l.push(n);const c=[];for(let p=0;p<l.length;p+=2){if(this.bn(l[p],l[p+1]))return[];c.push(IDBKeyRange.bound([l[p].indexId,this.uid,l[p].arrayValue,l[p].directionalValue,sh,[]],[l[p+1].indexId,this.uid,l[p+1].arrayValue,l[p+1].directionalValue,sh,[]]))}return c}bn(e,n){return Dl(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(wg)}getMinOffset(e,n){return ft.mapArray(this.un(n),o=>this.cn(e,o).next(l=>l||mn())).next(wg)}}function DE(i){return go(i,"collectionParents")}function Qa(i){return go(i,"indexEntries")}function Wr(i){return go(i,"indexConfiguration")}function Ja(i){return go(i,"indexState")}function wg(i){bn(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let o=1;o<i.length;o++){const l=i[o].indexState.offset;Va(l,e)<0&&(e=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new Uo(e.readTime,e.documentKey,n)}const bg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zo{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new zo(e,zo.DEFAULT_COLLECTION_PERCENTILE,zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Tf(i,e,n){const o=i.store("mutations"),l=i.store("documentMutations"),c=[],p=IDBKeyRange.only(n.batchId);let b=0;const P=o.Y({range:p},(X,ye,Ze)=>(b++,Ze.delete()));c.push(P.next(()=>{bn(1===b)}));const H=[];for(const X of n.mutations){const ye=vs(e,X.key.path,n.batchId);c.push(l.delete(ye)),H.push(X.key)}return ft.waitFor(c).next(()=>H)}function wf(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw mn();e=i.noDocument}return JSON.stringify(e).length}zo.DEFAULT_COLLECTION_PERCENTILE=10,zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zo.DEFAULT=new zo(41943040,zo.DEFAULT_COLLECTION_PERCENTILE,zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zo.DISABLED=new zo(-1,0,0);class ah{constructor(e,n,o,l){this.userId=e,this.serializer=n,this.indexManager=o,this.referenceDelegate=l,this.Dn={}}static ct(e,n,o,l){bn(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new ah(c,n,o,l)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Aa(e).Y({index:"userMutationsIndex",range:o},(l,c,p)=>{n=!1,p.done()}).next(()=>n)}addMutationBatch(e,n,o,l){const c=lh(e),p=Aa(e);return p.add({}).next(b=>{bn("number"==typeof b);const P=new rg(b,n,o,l),H=function(gt,Jt,sn){const on=sn.baseMutations.map($n=>Xa(gt.ut,$n)),Cn=sn.mutations.map($n=>Xa(gt.ut,$n));return{userId:Jt,batchId:sn.batchId,localWriteTimeMs:sn.localWriteTime.toMillis(),baseMutations:on,mutations:Cn}}(this.serializer,this.userId,P),X=[];let ye=new Gr((Ze,gt)=>xt(Ze.canonicalString(),gt.canonicalString()));for(const Ze of l){const gt=vs(this.userId,Ze.key.path,b);ye=ye.add(Ze.key.path.popLast()),X.push(p.put(H)),X.push(c.put(gt,Xh))}return ye.forEach(Ze=>{X.push(this.indexManager.addToCollectionParentIndex(e,Ze))}),e.addOnCommittedListener(()=>{this.Dn[b]=P.keys()}),ft.waitFor(X).next(()=>P)})}lookupMutationBatch(e,n){return Aa(e).get(n).next(o=>o?(bn(o.userId===this.userId),Ou(this.serializer,o)):null)}Cn(e,n){return this.Dn[n]?ft.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const l=o.keys();return this.Dn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,l=IDBKeyRange.lowerBound([this.userId,o]);let c=null;return Aa(e).Y({index:"userMutationsIndex",range:l},(p,b,P)=>{b.userId===this.userId&&(bn(b.batchId>=o),c=Ou(this.serializer,b)),P.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Aa(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(l,c,p)=>{o=c.batchId,p.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Aa(e).W("userMutationsIndex",n).next(o=>o.map(l=>Ou(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=_c(this.userId,n.path),l=IDBKeyRange.lowerBound(o),c=[];return lh(e).Y({range:l},(p,b,P)=>{const[H,X,ye]=p,Ze=fs(X);if(H===this.userId&&n.path.isEqual(Ze))return Aa(e).get(ye).next(gt=>{if(!gt)throw mn();bn(gt.userId===this.userId),c.push(Ou(this.serializer,gt))});P.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Gr(xt);const l=[];return n.forEach(c=>{const p=_c(this.userId,c.path),b=IDBKeyRange.lowerBound(p),P=lh(e).Y({range:b},(H,X,ye)=>{const[Ze,gt,Jt]=H,sn=fs(gt);Ze===this.userId&&c.path.isEqual(sn)?o=o.add(Jt):ye.done()});l.push(P)}),ft.waitFor(l).next(()=>this.vn(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,l=o.length+1,c=_c(this.userId,o),p=IDBKeyRange.lowerBound(c);let b=new Gr(xt);return lh(e).Y({range:p},(P,H,X)=>{const[ye,Ze,gt]=P,Jt=fs(Ze);ye===this.userId&&o.isPrefixOf(Jt)?Jt.length===l&&(b=b.add(gt)):X.done()}).next(()=>this.vn(e,b))}vn(e,n){const o=[],l=[];return n.forEach(c=>{l.push(Aa(e).get(c).next(p=>{if(null===p)throw mn();bn(p.userId===this.userId),o.push(Ou(this.serializer,p))}))}),ft.waitFor(l).next(()=>o)}removeMutationBatch(e,n){return Tf(e.ae,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),ft.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return ft.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return lh(e).Y({range:o},(c,p,b)=>{if(c[0]===this.userId){const P=fs(c[1]);l.push(P)}else b.done()}).next(()=>{bn(0===l.length)})})}containsKey(e,n){return Ag(e,this.userId,n)}Mn(e){return bf(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ag(i,e,n){const o=_c(e,n.path),l=o[1],c=IDBKeyRange.lowerBound(o);let p=!1;return lh(i).Y({range:c,J:!0},(b,P,H)=>{const[X,ye,Ze]=b;X===e&&ye===l&&(p=!0),H.done()}).next(()=>p)}function Aa(i){return go(i,"mutations")}function lh(i){return go(i,"documentMutations")}function bf(i){return go(i,"mutationQueues")}class Lu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Lu(0)}static Nn(){return new Lu(-1)}}class Sg{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const o=new Lu(n.highestTargetId);return n.highestTargetId=o.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>nn.fromTimestamp(new hr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.Bn(e).next(l=>(l.highestListenSequenceNumber=n,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.Ln(e,l)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(o=>(o.targetCount+=1,this.qn(n,o),this.Ln(e,o))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Vu(e).delete(n.targetId)).next(()=>this.Bn(e)).next(o=>(bn(o.targetCount>0),o.targetCount-=1,this.Ln(e,o)))}removeTargets(e,n,o){let l=0;const c=[];return Vu(e).Y((p,b)=>{const P=nh(b);P.sequenceNumber<=n&&null===o.get(P.targetId)&&(l++,c.push(this.removeTargetData(e,P)))}).next(()=>ft.waitFor(c)).next(()=>l)}forEachTarget(e,n){return Vu(e).Y((o,l)=>{const c=nh(l);n(c)})}Bn(e){return Rg(e).get("targetGlobalKey").next(n=>(bn(null!==n),n))}Ln(e,n){return Rg(e).put("targetGlobalKey",n)}kn(e,n){return Vu(e).put(rh(this.serializer,n))}qn(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=ta(n),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let c=null;return Vu(e).Y({range:l,index:"queryTargetsIndex"},(p,b,P)=>{const H=nh(b);yu(n,H.target)&&(c=H,P.done())}).next(()=>c)}addMatchingKeys(e,n,o){const l=[],c=Ds(e);return n.forEach(p=>{const b=Co(p.path);l.push(c.put({targetId:o,path:b})),l.push(this.referenceDelegate.addReference(e,o,p))}),ft.waitFor(l)}removeMatchingKeys(e,n,o){const l=Ds(e);return ft.forEach(n,c=>{const p=Co(c.path);return ft.waitFor([l.delete([o,p]),this.referenceDelegate.removeReference(e,o,c)])})}removeMatchingKeysForTargetId(e,n){const o=Ds(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),l=Ds(e);let c=Er();return l.Y({range:o,J:!0},(p,b,P)=>{const H=fs(p[1]),X=new rn(H);c=c.add(X)}).next(()=>c)}containsKey(e,n){const o=Co(n.path),l=IDBKeyRange.bound([o],[Kr(o)],!1,!0);let c=0;return Ds(e).Y({index:"documentTargetsIndex",J:!0,range:l},([p,b],P,H)=>{0!==p&&(c++,H.done())}).next(()=>c>0)}_t(e,n){return Vu(e).get(n).next(o=>o?nh(o):null)}}function Vu(i){return go(i,"targets")}function Rg(i){return go(i,"targetGlobal")}function Ds(i){return go(i,"targetDocuments")}function W_([i,e],[n,o]){const l=xt(i,n);return 0===l?xt(e,o):l}class Pg{constructor(e){this.Qn=e,this.buffer=new Gr(W_),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();W_(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uh{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;Vt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,d.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(o){Ba(o)?Vt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Ks(o)}yield n.Gn(3e5)}))}}class CE{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return ft.resolve(Ro._e);const o=new Pg(n);return this.zn.forEachTarget(e,l=>o.Un(l.sequenceNumber)).next(()=>this.zn.Hn(e,l=>o.Un(l))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.zn.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector","Garbage collection skipped; disabled"),ft.resolve(bg)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bg):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let o,l,c,p,b,P,H;const X=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ye=>(ye>this.params.maximumSequenceNumbersToCollect?(Vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ye}`),l=this.params.maximumSequenceNumbersToCollect):l=ye,p=Date.now(),this.nthSequenceNumber(e,l))).next(ye=>(o=ye,b=Date.now(),this.removeTargets(e,o,n))).next(ye=>(c=ye,P=Date.now(),this.removeOrphanedDocuments(e,o))).next(ye=>(H=Date.now(),Mi()<=Re.in.DEBUG&&Vt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-X}ms\n\tDetermined least recently used ${l} in `+(b-p)+`ms\n\tRemoved ${c} targets in `+(P-b)+`ms\n\tRemoved ${ye} documents in `+(H-P)+`ms\nTotal Duration: ${H-X}ms`),ft.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:ye})))}}class Sf{constructor(e,n){this.db=e,this.garbageCollector=function Af(i,e){return new CE(i,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(l=>o+l))}Yn(e){let n=0;return this.Hn(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(o,l)=>n(l))}addReference(e,n,o){return Fs(e,o)}removeReference(e,n,o){return Fs(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return Fs(e,n)}Xn(e,n){return function(l,c){let p=!1;return bf(l).Z(b=>Ag(l,b,c).next(P=>(P&&(p=!0),ft.resolve(!P)))).next(()=>p)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let c=0;return this.Zn(e,(p,b)=>{if(b<=n){const P=this.Xn(e,p).next(H=>{if(!H)return c++,o.getEntry(e,p).next(()=>(o.removeEntry(p,nn.min()),Ds(e).delete([0,Co(p.path)])))});l.push(P)}}).next(()=>ft.waitFor(l)).next(()=>o.apply(e)).next(()=>c)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return Fs(e,n)}Zn(e,n){const o=Ds(e);let l,c=Ro._e;return o.Y({index:"documentTargetsIndex"},([p,b],{path:P,sequenceNumber:H})=>{0===p?(c!==Ro._e&&n(new rn(fs(l)),c),c=H,l=P):c=Ro._e}).next(()=>{c!==Ro._e&&n(new rn(fs(l)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fs(i,e){return Ds(i).put((l=i.currentSequenceNumber,{targetId:0,path:Co(e.path),sequenceNumber:l}));var l}class ch{constructor(){this.changes=new ra(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?ft.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Mg{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return oa(e).put(o)}removeEntry(e,n,o){return oa(e).delete(function(c,p){const b=c.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],th(p),b[b.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.er(e,o)))}getEntry(e,n){let o=gi.newInvalidDocument(n);return oa(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(dh(n))},(l,c)=>{o=this.tr(n,c)}).next(()=>o)}nr(e,n){let o={size:0,document:gi.newInvalidDocument(n)};return oa(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(dh(n))},(l,c)=>{o={document:this.tr(n,c),size:wf(c)}}).next(()=>o)}getEntries(e,n){let o=Es();return this.rr(e,n,(l,c)=>{const p=this.tr(l,c);o=o.insert(l,p)}).next(()=>o)}ir(e,n){let o=Es(),l=new pi(rn.comparator);return this.rr(e,n,(c,p)=>{const b=this.tr(c,p);o=o.insert(c,b),l=l.insert(c,wf(p))}).next(()=>({documents:o,sr:l}))}rr(e,n,o){if(n.isEmpty())return ft.resolve();let l=new Gr(K_);n.forEach(P=>l=l.add(P));const c=IDBKeyRange.bound(dh(l.first()),dh(l.last())),p=l.getIterator();let b=p.getNext();return oa(e).Y({index:"documentKeyIndex",range:c},(P,H,X)=>{const ye=rn.fromSegments([...H.prefixPath,H.collectionGroup,H.documentId]);for(;b&&K_(b,ye)<0;)o(b,null),b=p.getNext();b&&b.isEqual(ye)&&(o(b,H),b=p.hasNext()?p.getNext():null),b?X.U(dh(b)):X.done()}).next(()=>{for(;b;)o(b,null),b=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,n,o,l,c){const p=n.path,b=[p.popLast().toArray(),p.lastSegment(),th(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],P=[p.popLast().toArray(),p.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return oa(e).W(IDBKeyRange.bound(b,P,!0)).next(H=>{null==c||c.incrementDocumentReadCount(H.length);let X=Es();for(const ye of H){const Ze=this.tr(rn.fromSegments(ye.prefixPath.concat(ye.collectionGroup,ye.documentId)),ye);Ze.isFoundDocument()&&(Za(n,Ze)||l.has(Ze.key))&&(X=X.insert(Ze.key,Ze))}return X})}getAllFromCollectionGroup(e,n,o,l){let c=Es();const p=Y_(n,o),b=Y_(n,Uo.max());return oa(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,b,!0)},(P,H,X)=>{const ye=this.tr(rn.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);c=c.insert(ye.key,ye),c.size===l&&X.done()}).next(()=>c)}newChangeBuffer(e){return new TE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return xg(e).get("remoteDocumentGlobalKey").next(n=>(bn(!!n),n))}er(e,n){return xg(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const o=function pE(i,e){let n;if(e.document)n=L_(i.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=rn.fromSegments(e.noDocument.path),l=xu(e.noDocument.readTime);n=gi.newNoDocument(o,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return mn();{const o=rn.fromSegments(e.unknownDocument.path),l=xu(e.unknownDocument.version);n=gi.newUnknownDocument(o,l)}}return e.readTime&&n.setReadTime(function(l){const c=new hr(l[0],l[1]);return nn.fromTimestamp(c)}(e.readTime)),n}(this.serializer,n);if(!o.isNoDocument()||!o.version.isEqual(nn.min()))return o}return gi.newInvalidDocument(e)}}function q_(i){return new Mg(i)}class TE extends ch{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new ra(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const n=[];let o=0,l=new Gr((c,p)=>xt(c.canonicalString(),p.canonicalString()));return this.changes.forEach((c,p)=>{const b=this.ar.get(c);if(n.push(this._r.removeEntry(e,c,b.readTime)),p.isValidDocument()){const P=U_(this._r.serializer,p);l=l.add(c.path.popLast());const H=wf(P);o+=H-b.size,n.push(this._r.addEntry(e,c,P))}else if(o-=b.size,this.trackRemovals){const P=U_(this._r.serializer,p.convertToNoDocument(nn.min()));n.push(this._r.addEntry(e,c,P))}}),l.forEach(c=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,c))}),n.push(this._r.updateMetadata(e,o)),ft.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(o=>(this.ar.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:o,sr:l})=>(l.forEach((c,p)=>{this.ar.set(c,{size:p,readTime:o.get(c).readTime})}),o))}}function xg(i){return go(i,"remoteDocumentGlobal")}function oa(i){return go(i,"remoteDocumentsV14")}function dh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Y_(i,e){const n=e.documentKey.path.toArray();return[i,th(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function K_(i,e){const n=i.path.toArray(),o=e.path.toArray();let l=0;for(let c=0;c<n.length-2&&c<o.length-2;++c)if(l=xt(n[c],o[c]),l)return l;return l=xt(n.length,o.length),l||(l=xt(n[n.length-2],o[o.length-2]),l||xt(n[n.length-1],o[o.length-1]))}class Og{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Ng{constructor(e,n,o,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(null!==o&&Rc(o.mutation,l,mo.empty(),hr.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Er()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Er()){const l=ia();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,o).next(c=>{let p=Gd();return c.forEach((b,P)=>{p=p.insert(b,P.overlayedDocument)}),p}))}getOverlayedDocuments(e,n){const o=ia();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Er()))}populateOverlays(e,n,o){const l=[];return o.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((p,b)=>{n.set(p,b)})})}computeViews(e,n,o,l){let c=Es();const p=Wd(),b=Wd();return n.forEach((P,H)=>{const X=o.get(H.key);l.has(H.key)&&(void 0===X||X.mutation instanceof wa)?c=c.insert(H.key,H):void 0!==X?(p.set(H.key,X.mutation.getFieldMask()),Rc(X.mutation,H,X.mutation.getFieldMask(),hr.now())):p.set(H.key,mo.empty())}),this.recalculateAndSaveOverlays(e,c).next(P=>(P.forEach((H,X)=>p.set(H,X)),n.forEach((H,X)=>{var ye;return b.set(H,new Og(X,null!==(ye=p.get(H))&&void 0!==ye?ye:null))}),b))}recalculateAndSaveOverlays(e,n){const o=Wd();let l=new pi((p,b)=>p-b),c=Er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(p=>{for(const b of p)b.keys().forEach(P=>{const H=n.get(P);if(null===H)return;let X=o.get(P)||mo.empty();X=b.applyToLocalView(H,X),o.set(P,X);const ye=(l.get(b.batchId)||Er()).add(P);l=l.insert(b.batchId,ye)})}).next(()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const P=b.getNext(),H=P.key,X=P.value,ye=I_();X.forEach(Ze=>{if(!c.has(Ze)){const gt=tg(n.get(Ze),o.get(Ze));null!==gt&&ye.set(Ze,gt),c=c.add(Ze)}}),p.push(this.documentOverlayCache.saveOverlays(e,H,ye))}return ft.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,l){return rn.isDocumentKey((p=n).path)&&null===p.collectionGroup&&0===p.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):v_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,l):this.getDocumentsMatchingCollectionQuery(e,n,o,l);var p}getNextDocuments(e,n,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,l).next(c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,l-c.size):ft.resolve(ia());let b=-1,P=c;return p.next(H=>ft.forEach(H,(X,ye)=>(b<ye.largestBatchId&&(b=ye.largestBatchId),c.get(X)?ft.resolve():this.remoteDocumentCache.getEntry(e,X).next(Ze=>{P=P.insert(X,Ze)}))).next(()=>this.populateOverlays(e,H,c)).next(()=>this.computeViews(e,P,H,Er())).next(X=>({batchId:b,changes:Xp(X)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new rn(n)).next(o=>{let l=Gd();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,o,l){const c=n.collectionGroup;let p=Gd();return this.indexManager.getCollectionParents(e,c).next(b=>ft.forEach(b,P=>{const H=(ye=n,Ze=P.child(c),new na(Ze,null,ye.explicitOrderBy.slice(),ye.filters.slice(),ye.limit,ye.limitType,ye.startAt,ye.endAt));var ye,Ze;return this.getDocumentsMatchingCollectionQuery(e,H,o,l).next(X=>{X.forEach((ye,Ze)=>{p=p.insert(ye,Ze)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,n,o,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,c,l))).next(p=>{c.forEach((P,H)=>{const X=H.getKey();null===p.get(X)&&(p=p.insert(X,gi.newInvalidDocument(X)))});let b=Gd();return p.forEach((P,H)=>{const X=c.get(P);void 0!==X&&Rc(X.mutation,H,mo.empty(),hr.now()),Za(n,H)&&(b=b.insert(P,H))}),b})}}class wE{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return ft.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(l=n).id,version:l.version,createTime:vo(l.createTime)}),ft.resolve();var l}getNamedQuery(e,n){return ft.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(l=n).name,query:ba(l.bundledQuery),readTime:vo(l.readTime)}),ft.resolve();var l}}class Z_{constructor(){this.overlays=new pi(rn.comparator),this.lr=new Map}getOverlay(e,n){return ft.resolve(this.overlays.get(n))}getOverlays(e,n){const o=ia();return ft.forEach(n,l=>this.getOverlay(e,l).next(c=>{null!==c&&o.set(l,c)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((l,c)=>{this.lt(e,n,c)}),ft.resolve()}removeOverlaysForBatchId(e,n,o){const l=this.lr.get(o);return void 0!==l&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.lr.delete(o)),ft.resolve()}getOverlaysForCollection(e,n,o){const l=ia(),c=n.length+1,p=new rn(n.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const P=b.getNext().value,H=P.getKey();if(!n.isPrefixOf(H.path))break;H.path.length===c&&P.largestBatchId>o&&l.set(P.getKey(),P)}return ft.resolve(l)}getOverlaysForCollectionGroup(e,n,o,l){let c=new pi((H,X)=>H-X);const p=this.overlays.getIterator();for(;p.hasNext();){const H=p.getNext().value;if(H.getKey().getCollectionGroup()===n&&H.largestBatchId>o){let X=c.get(H.largestBatchId);null===X&&(X=ia(),c=c.insert(H.largestBatchId,X)),X.set(H.getKey(),H)}}const b=ia(),P=c.getIterator();for(;P.hasNext()&&(P.getNext().value.forEach((H,X)=>b.set(H,X)),!(b.size()>=l)););return ft.resolve(b)}lt(e,n,o){const l=this.overlays.get(o.key);if(null!==l){const p=this.lr.get(l.largestBatchId).delete(o.key);this.lr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new ff(n,o));let c=this.lr.get(n);void 0===c&&(c=Er(),this.lr.set(n,c)),this.lr.set(n,c.add(o.key))}}class hh{constructor(){this.hr=new Gr(Jo.Pr),this.Ir=new Gr(Jo.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const o=new Jo(e,n);this.hr=this.hr.add(o),this.Ir=this.Ir.add(o)}Er(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.dr(new Jo(e,n))}Ar(e,n){e.forEach(o=>this.removeReference(o,n))}Rr(e){const n=new rn(new lr([])),o=new Jo(n,e),l=new Jo(n,e+1),c=[];return this.Ir.forEachInRange([o,l],p=>{this.dr(p),c.push(p.key)}),c}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new rn(new lr([])),o=new Jo(n,e),l=new Jo(n,e+1);let c=Er();return this.Ir.forEachInRange([o,l],p=>{c=c.add(p.key)}),c}containsKey(e){const n=new Jo(e,0),o=this.hr.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Jo{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return rn.comparator(e.key,n.key)||xt(e.gr,n.gr)}static Tr(e,n){return xt(e.gr,n.gr)||rn.comparator(e.key,n.key)}}class GI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Gr(Jo.Pr)}checkEmpty(e){return ft.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,l){const c=this.pr;this.pr++;const p=new rg(c,n,o,l);this.mutationQueue.push(p);for(const b of l)this.yr=this.yr.add(new Jo(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return ft.resolve(p)}lookupMutationBatch(e,n){return ft.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.Sr(n+1),c=l<0?0:l;return ft.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ft.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return ft.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Jo(n,0),l=new Jo(n,Number.POSITIVE_INFINITY),c=[];return this.yr.forEachInRange([o,l],p=>{const b=this.wr(p.gr);c.push(b)}),ft.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Gr(xt);return n.forEach(l=>{const c=new Jo(l,0),p=new Jo(l,Number.POSITIVE_INFINITY);this.yr.forEachInRange([c,p],b=>{o=o.add(b.gr)})}),ft.resolve(this.br(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,l=o.length+1;let c=o;rn.isDocumentKey(c)||(c=c.child(""));const p=new Jo(new rn(c),0);let b=new Gr(xt);return this.yr.forEachWhile(P=>{const H=P.key.path;return!!o.isPrefixOf(H)&&(H.length===l&&(b=b.add(P.gr)),!0)},p),ft.resolve(this.br(b))}br(e){const n=[];return e.forEach(o=>{const l=this.wr(o);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){bn(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let o=this.yr;return ft.forEach(n.mutations,l=>{const c=new Jo(l.key,n.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.yr=o})}Fn(e){}containsKey(e,n){const o=new Jo(n,0),l=this.yr.firstAfterOrEqual(o);return ft.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return ft.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class bE{constructor(e){this.Cr=e,this.docs=new pi(rn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,l=this.docs.get(o),c=l?l.size:0,p=this.Cr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return ft.resolve(o?o.document.mutableCopy():gi.newInvalidDocument(n))}getEntries(e,n){let o=Es();return n.forEach(l=>{const c=this.docs.get(l);o=o.insert(l,c?c.document.mutableCopy():gi.newInvalidDocument(l))}),ft.resolve(o)}getDocumentsMatchingQuery(e,n,o,l){let c=Es();const p=n.path,b=new rn(p.child("")),P=this.docs.getIteratorFrom(b);for(;P.hasNext();){const{key:H,value:{document:X}}=P.getNext();if(!p.isPrefixOf(H.path))break;H.path.length>p.length+1||Va(Os(X),o)<=0||(l.has(X.key)||Za(n,X))&&(c=c.insert(X.key,X.mutableCopy()))}return ft.resolve(c)}getAllFromCollectionGroup(e,n,o,l){mn()}vr(e,n){return ft.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new AE(this)}getSize(e){return ft.resolve(this.size)}}class AE extends ch{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?n.push(this._r.addEntry(e,l)):this._r.removeEntry(o)}),ft.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class WI{constructor(e){this.persistence=e,this.Fr=new ra(n=>ta(n),yu),this.lastRemoteSnapshotVersion=nn.min(),this.highestTargetId=0,this.Mr=0,this.Or=new hh,this.targetCount=0,this.Nr=Lu.On()}forEachTarget(e,n){return this.Fr.forEach((o,l)=>n(l)),ft.resolve()}getLastRemoteSnapshotVersion(e){return ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ft.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),ft.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Mr&&(this.Mr=n),ft.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Lu(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,ft.resolve()}updateTargetData(e,n){return this.kn(n),ft.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,ft.resolve()}removeTargets(e,n,o){let l=0;const c=[];return this.Fr.forEach((p,b)=>{b.sequenceNumber<=n&&null===o.get(b.targetId)&&(this.Fr.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)}),ft.waitFor(c).next(()=>l)}getTargetCount(e){return ft.resolve(this.targetCount)}getTargetData(e,n){const o=this.Fr.get(n)||null;return ft.resolve(o)}addMatchingKeys(e,n,o){return this.Or.Er(n,o),ft.resolve()}removeMatchingKeys(e,n,o){this.Or.Ar(n,o);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(p=>{c.push(l.markPotentiallyOrphaned(e,p))}),ft.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),ft.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Or.mr(n);return ft.resolve(o)}containsKey(e,n){return ft.resolve(this.Or.containsKey(n))}}class X_{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Ro(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new WI(this),this.indexManager=new IE,this.remoteDocumentCache=new bE(o=>this.referenceDelegate.Qr(o)),this.serializer=new $_(n),this.Kr=new wE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Z_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Br[e.toKey()];return o||(o=new GI(n,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,o){Vt("MemoryPersistence","Starting transaction:",e);const l=new Rf(this.Lr.next());return this.referenceDelegate.$r(),o(l).next(c=>this.referenceDelegate.Ur(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Wr(e,n){return ft.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,n)))}}class Rf extends ml{constructor(e){super(),this.currentSequenceNumber=e}}class Pf{constructor(e){this.persistence=e,this.Gr=new hh,this.zr=null}static jr(e){return new Pf(e)}get Hr(){if(this.zr)return this.zr;throw mn()}addReference(e,n,o){return this.Gr.addReference(o,n),this.Hr.delete(o.toString()),ft.resolve()}removeReference(e,n,o){return this.Gr.removeReference(o,n),this.Hr.add(o.toString()),ft.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),ft.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(l=>this.Hr.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(c=>this.Hr.add(c.toString()))}).next(()=>o.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ft.forEach(this.Hr,o=>{const l=rn.fromPath(o);return this.Jr(e,l).next(c=>{c||n.removeEntry(l,nn.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(o=>{o?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return ft.or([()=>ft.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class kg{constructor(e){this.serializer=e}N(e,n,o,l){const c=new pc("createOrUpgrade",n);var P;o<1&&l>=1&&(e.createObjectStore("owner"),(P=e).createObjectStore("mutationQueues",{keyPath:"userId"}),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",du,{unique:!0}),P.createObjectStore("documentMutations"),Bu(e),function(P){P.createObjectStore("remoteDocuments")}(e));let p=ft.resolve();return o<3&&l>=3&&(0!==o&&(function(P){P.deleteObjectStore("targetDocuments"),P.deleteObjectStore("targets"),P.deleteObjectStore("targetGlobal")}(e),Bu(e)),p=p.next(()=>function(P){const H=P.store("targetGlobal"),X={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:nn.min().toTimestamp(),targetCount:0};return H.put("targetGlobalKey",X)}(c))),o<4&&l>=4&&(0!==o&&(p=p.next(()=>function(P,H){return H.store("mutations").W().next(X=>{P.deleteObjectStore("mutations"),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",du,{unique:!0});const ye=H.store("mutations"),Ze=X.map(gt=>ye.put(gt));return ft.waitFor(Ze)})}(e,c))),p=p.next(()=>{!function(P){P.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(p=p.next(()=>this.Zr(c))),o<6&&l>=6&&(p=p.next(()=>(function(P){P.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(c)))),o<7&&l>=7&&(p=p.next(()=>this.ei(c))),o<8&&l>=8&&(p=p.next(()=>this.ti(e,c))),o<9&&l>=9&&(p=p.next(()=>{!function(P){P.objectStoreNames.contains("remoteDocumentChanges")&&P.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(p=p.next(()=>this.ni(c))),o<11&&l>=11&&(p=p.next(()=>{(function(P){P.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(P){P.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(p=p.next(()=>{!function(P){const H=P.createObjectStore("documentOverlays",{keyPath:Fl});H.createIndex("collectionPathOverlayIndex",ya,{unique:!1}),H.createIndex("collectionGroupOverlayIndex",Rd,{unique:!1})}(e)})),o<13&&l>=13&&(p=p.next(()=>function(P){const H=P.createObjectStore("remoteDocumentsV14",{keyPath:hu});H.createIndex("documentKeyIndex",Ad),H.createIndex("collectionGroupIndex",Qh)}(e)).next(()=>this.ri(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(p=p.next(()=>this.ii(e,c))),o<15&&l>=15&&(p=p.next(()=>function(P){P.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),P.createObjectStore("indexState",{keyPath:Jh}).createIndex("sequenceNumberIndex",ef,{unique:!1}),P.createObjectStore("indexEntries",{keyPath:yc}).createIndex("documentKeyIndex",zp,{unique:!1})}(e))),p}Xr(e){let n=0;return e.store("remoteDocuments").Y((o,l)=>{n+=wf(l)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Zr(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.W().next(l=>ft.forEach(l,c=>{const p=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",p).next(b=>ft.forEach(b,P=>{bn(P.userId===c.userId);const H=Ou(this.serializer,P);return Tf(e,c.userId,H).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const c=[];return o.Y((p,b)=>{const P=new lr(p),H=[0,Co(P)];c.push(n.get(H).next(X=>X?ft.resolve():n.put({targetId:0,path:Co(P),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>ft.waitFor(c))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:vc});const o=n.store("collectionParents"),l=new Tg,c=p=>{if(l.add(p)){const b=p.lastSegment(),P=p.popLast();return o.put({collectionId:b,parent:Co(P)})}};return n.store("remoteDocuments").Y({J:!0},(p,b)=>{const P=new lr(p);return c(P.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([p,b,P],H)=>{const X=fs(b);return c(X.popLast())}))}ni(e){const n=e.store("targets");return n.Y((o,l)=>{const c=nh(l),p=rh(this.serializer,c);return n.put(p)})}ri(e,n){const o=n.store("remoteDocuments"),l=[];return o.Y((c,p)=>{const b=n.store("remoteDocumentsV14"),P=(ye=p,ye.document?new rn(lr.fromString(ye.document.name).popFirst(5)):ye.noDocument?rn.fromSegments(ye.noDocument.path):ye.unknownDocument?rn.fromSegments(ye.unknownDocument.path):mn()).path.toArray(),H={prefixPath:P.slice(0,P.length-2),collectionGroup:P[P.length-2],documentId:P[P.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};var ye;l.push(b.put(H))}).next(()=>ft.waitFor(l))}ii(e,n){const o=n.store("mutations"),l=q_(this.serializer),c=new X_(Pf.jr,this.serializer.ut);return o.W().next(p=>{const b=new Map;return p.forEach(P=>{var H;let X=null!==(H=b.get(P.userId))&&void 0!==H?H:Er();Ou(this.serializer,P).keys().forEach(ye=>X=X.add(ye)),b.set(P.userId,X)}),ft.forEach(b,(P,H)=>{const X=new Fn(H),ye=Ig.ct(this.serializer,X),Ze=c.getIndexManager(X),gt=ah.ct(X,this.serializer,Ze,c.referenceDelegate);return new Ng(l,gt,ye,Ze).recalculateAndSaveOverlaysForDocumentKeys(new Dc(n,Ro._e),P).next()})})}}function Bu(i){i.createObjectStore("targetDocuments",{keyPath:Sd}).createIndex("documentTargetsIndex",Hp,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kl,{unique:!0}),i.createObjectStore("targetGlobal")}const Vc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Bc{constructor(e,n,o,l,c,p,b,P,H,X,ye=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.si=c,this.window=p,this.document=b,this.oi=H,this._i=X,this.ai=ye,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=Ze=>Promise.resolve(),!Bc.D())throw new Bt(Et.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Sf(this,l),this.Ii=n+"main",this.serializer=new $_(P),this.Ti=new jo(this.Ii,this.ai,new kg(this.serializer)),this.qr=new Sg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=q_(this.serializer),this.Kr=new j_,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===X&&zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Bt(Et.FAILED_PRECONDITION,Vc);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Ro(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var o=(0,d.Z)(function*(l){if(n.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,d.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,d.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>zl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Ba(e))return Vt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Vt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return el(e).get("owner").next(n=>ft.resolve(this.wi(n)))}Si(e){return zl(e).delete(this.clientId)}bi(){var e=this;return(0,d.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=go(o,"clientMetadata");return l.W().next(c=>{const p=e.Ci(c,18e5),b=c.filter(P=>-1===p.indexOf(P));return ft.forEach(b,P=>l.delete(P.clientId)).next(()=>b)})}).catch(()=>[]);if(e.Ei)for(const o of n)e.Ei.removeItem(e.vi(o.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?ft.resolve(!0):el(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new Bt(Et.FAILED_PRECONDITION,Vc);return!1}}return!(!this.networkEnabled||!this.inForeground)||zl(e).W().next(o=>void 0===this.Ci(o,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Vt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,d.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new Dc(n,Ro._e);return e.pi(o).next(()=>e.Si(o))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(o=>this.Di(o.updateTimeMs,n)&&!this.Fi(o.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>zl(e).W().next(n=>this.Ci(n,18e5).map(o=>o.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return ah.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zI(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Ig.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,o){Vt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",c=15===(P=this.ai)?Ho:14===P?Pd:13===P?Ll:12===P?Ic:11===P?Ec:void mn();var P;let p;return this.Ti.runTransaction(e,l,c,b=>(p=new Dc(b,this.Lr?this.Lr.next():Ro._e),"readwrite-primary"===n?this.fi(p).next(P=>!!P||this.gi(p)).next(P=>{if(!P)throw zr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new Bt(Et.FAILED_PRECONDITION,lu);return o(p)}).next(P=>this.yi(p).next(()=>P)):this.Li(p).next(()=>o(p)))).then(b=>(p.raiseOnCommittedEvent(),b))}Li(e){return el(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Bt(Et.FAILED_PRECONDITION,Vc)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return el(e).put("owner",n)}static D(){return jo.D()}pi(e){const n=el(e);return n.get("owner").next(o=>this.wi(o)?(Vt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ft.resolve())}Di(e,n){const o=Date.now();return!(e<o-n||e>o&&(zr(`Detected an update time that is in the future: ${e} > ${o}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,oe.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const o=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return Vt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return zr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){zr("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function el(i){return go(i,"owner")}function zl(i){return go(i,"clientMetadata")}function Gl(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class fh{constructor(e,n,o,l){this.targetId=e,this.fromCache=n,this.ki=o,this.qi=l}static Qi(e,n){let o=Er(),l=Er();for(const c of n.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new fh(e,n.fromCache,o,l)}}class Mf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $c{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,o,l){const c={result:null};return this.zi(e,n).next(p=>{c.result=p}).next(()=>{if(!c.result)return this.ji(e,n,l,o).next(p=>{c.result=p})}).next(()=>{if(c.result)return;const p=new Mf;return this.Hi(e,n,p).next(b=>{if(c.result=b,this.$i)return this.Ji(e,n,p,b.size)})}).next(()=>c.result)}Ji(e,n,o,l){return o.documentReadCount<this.Ui?(Mi()<=Re.in.DEBUG&&Vt("QueryEngine","SDK will not create cache indexes for query:",Cu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),ft.resolve()):(Mi()<=Re.in.DEBUG&&Vt("QueryEngine","Query:",Cu(n),"scans",o.documentReadCount,"local documents and returns",l,"documents as results."),o.documentReadCount>this.Wi*l?(Mi()<=Re.in.DEBUG&&Vt("QueryEngine","The SDK decides to create cache indexes for query:",Cu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ys(n))):ft.resolve())}zi(e,n){if(rE(n))return ft.resolve(null);let o=ys(n);return this.indexManager.getIndexType(e,o).next(l=>0===l?null:(null!==n.limit&&1===l&&(n=Du(n,null,"F"),o=ys(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(c=>{const p=Er(...c);return this.Gi.getDocuments(e,p).next(b=>this.indexManager.getMinOffset(e,o).next(P=>{const H=this.Yi(n,b);return this.Zi(n,H,p,P.readTime)?this.zi(e,Du(n,null,"F")):this.Xi(e,H,n,P)}))})))}ji(e,n,o,l){return rE(n)||l.isEqual(nn.min())?ft.resolve(null):this.Gi.getDocuments(e,o).next(c=>{const p=this.Yi(n,c);return this.Zi(n,p,o,l)?ft.resolve(null):(Mi()<=Re.in.DEBUG&&Vt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Cu(n)),this.Xi(e,p,n,au(l,-1)).next(b=>b))})}Yi(e,n){let o=new Gr(Zp(e));return n.forEach((l,c)=>{Za(e,c)&&(o=o.add(c))}),o}Zi(e,n,o,l){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const c="F"===e.limitType?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Hi(e,n,o){return Mi()<=Re.in.DEBUG&&Vt("QueryEngine","Using full collection scan to execute query:",Cu(n)),this.Gi.getDocumentsMatchingQuery(e,n,Uo.min(),o)}Xi(e,n,o,l){return this.Gi.getDocumentsMatchingQuery(e,o,l).next(c=>(n.forEach(p=>{c=c.insert(p.key,p)}),c))}}class qI{constructor(e,n,o,l){this.persistence=e,this.es=n,this.serializer=l,this.ts=new pi(xt),this.ns=new ra(c=>ta(c),yu),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(o)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ng(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function xf(i,e,n,o){return new qI(i,e,n,o)}function Uc(i,e){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,d.Z)(function*(i,e){const n=Qt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let l;return n.mutationQueue.getAllMutationBatches(o).next(c=>(l=c,n.os(e),n.mutationQueue.getAllMutationBatches(o))).next(c=>{const p=[],b=[];let P=Er();for(const H of l){p.push(H.batchId);for(const X of H.mutations)P=P.add(X.key)}for(const H of c){b.push(H.batchId);for(const X of H.mutations)P=P.add(X.key)}return n.localDocuments.getDocuments(o,P).next(H=>({_s:H,removedBatchIds:p,addedBatchIds:b}))})})}),Fg.apply(this,arguments)}function J_(i){const e=Qt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Of(i,e,n){let o=Er(),l=Er();return n.forEach(c=>o=o.add(c)),e.getEntries(i,o).next(c=>{let p=Es();return n.forEach((b,P)=>{const H=c.get(b);P.isFoundDocument()!==H.isFoundDocument()&&(l=l.add(b)),P.isNoDocument()&&P.version.isEqual(nn.min())?(e.removeEntry(b,P.readTime),p=p.insert(b,P)):!H.isValidDocument()||P.version.compareTo(H.version)>0||0===P.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(P),p=p.insert(b,P)):Vt("LocalStore","Ignoring outdated watch update for ",b,". Current version:",H.version," Watch version:",P.version)}),{us:p,cs:l}})}function ev(i,e){const n=Qt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function jc(i,e){const n=Qt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return n.qr.getTargetData(o,e).next(c=>c?(l=c,ft.resolve(l)):n.qr.allocateTargetId(o).next(p=>(l=new El(e,p,"TargetPurposeListen",o.currentSequenceNumber),n.qr.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=n.ts.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.ts=n.ts.insert(o.targetId,o),n.ns.set(e,o.targetId)),o})}function Hc(i,e,n){return tv.apply(this,arguments)}function tv(){return tv=(0,d.Z)(function*(i,e,n){const o=Qt(i),l=o.ts.get(e),c=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",c,p=>o.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!Ba(p))throw p;Vt("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}o.ts=o.ts.remove(e),o.ns.delete(l.target)}),tv.apply(this,arguments)}function Nf(i,e,n){const o=Qt(i);let l=nn.min(),c=Er();return o.persistence.runTransaction("Execute query","readwrite",p=>function(P,H,X){const ye=Qt(P),Ze=ye.ns.get(X);return void 0!==Ze?ft.resolve(ye.ts.get(Ze)):ye.qr.getTargetData(H,X)}(o,p,ys(e)).next(b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,o.qr.getMatchingKeysForTargetId(p,b.targetId).next(P=>{c=P})}).next(()=>o.es.getDocumentsMatchingQuery(p,e,n?l:nn.min(),n?c:Er())).next(b=>(nv(o,Kp(e),b),{documents:b,ls:c})))}function ph(i,e){const n=Qt(i),o=Qt(n.qr),l=n.ts.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",c=>o._t(c,e).next(p=>p?p.target:null))}function kf(i,e){const n=Qt(i),o=n.rs.get(e)||nn.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.ss.getAllFromCollectionGroup(l,e,au(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(nv(n,e,l),l))}function nv(i,e,n){let o=i.rs.get(e)||nn.min();n.forEach((l,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),i.rs.set(e,o)}function gh(){return gh=(0,d.Z)(function*(i,e,n,o){const l=Qt(i);let c=Er(),p=Es();for(const H of n){const X=e.hs(H.metadata.name);H.document&&(c=c.add(X));const ye=e.Ps(H);ye.setReadTime(e.Is(H.metadata.readTime)),p=p.insert(X,ye)}const b=l.ss.newChangeBuffer({trackRemovals:!0}),P=yield jc(l,(X=o,ys(Hd(lr.fromString(`__bundle__/docs/${X}`)))));var X;return l.persistence.runTransaction("Apply bundle documents","readwrite",H=>Of(H,b,p).next(X=>(b.apply(H),X)).next(X=>l.qr.removeMatchingKeysForTargetId(H,P.targetId).next(()=>l.qr.addMatchingKeys(H,c,P.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(H,X.us,X.cs)).next(()=>X.us)))}),gh.apply(this,arguments)}function Ff(i,e){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,d.Z)(function*(i,e,n=Er()){const o=yield jc(i,ys(ba(e.bundledQuery))),l=Qt(i);return l.persistence.runTransaction("Save named query","readwrite",c=>{const p=vo(e.readTime);if(o.snapshotVersion.compareTo(p)>=0)return l.Kr.saveNamedQuery(c,e);const b=o.withResumeToken(To.EMPTY_BYTE_STRING,p);return l.ts=l.ts.insert(b.targetId,b),l.qr.updateTargetData(c,b).next(()=>l.qr.removeMatchingKeysForTargetId(c,o.targetId)).next(()=>l.qr.addMatchingKeys(c,n,o.targetId)).next(()=>l.Kr.saveNamedQuery(c,e))})}),Lg.apply(this,arguments)}function Vg(i,e){return`firestore_clients_${i}_${e}`}function iv(i,e,n){let o=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Lf(i,e){return`firestore_targets_${i}_${e}`}class Bg{constructor(e,n,o,l){this.user=e,this.batchId=n,this.state=o,this.error=l}static Ts(e,n,o){const l=JSON.parse(o);let c,p="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return p&&l.error&&(p="string"==typeof l.error.message&&"string"==typeof l.error.code,p&&(c=new Bt(l.error.code,l.error.message))),p?new Bg(e,n,l.state,c):(zr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mh{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Ts(e,n){const o=JSON.parse(n);let l,c="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return c&&o.error&&(c="string"==typeof o.error.message&&"string"==typeof o.error.code,c&&(l=new Bt(o.error.code,o.error.message))),c?new mh(e,o.state,l):(zr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $u{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const o=JSON.parse(n);let l="object"==typeof o&&o.activeTargetIds instanceof Array,c=ss();for(let p=0;l&&p<o.activeTargetIds.length;++p)l=Xs(o.activeTargetIds[p]),c=c.add(o.activeTargetIds[p]);return l?new $u(e,c):(zr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class $g{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new $g(n.clientId,n.onlineState):(zr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Wl{constructor(){this.activeTargetIds=ss()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uu{constructor(e,n,o,l,c){this.window=e,this.si=n,this.persistenceKey=o,this.Rs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new pi(xt),this.started=!1,this.ps=[];const p=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ys=Vg(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new Wl),this.Ss=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(P){return`firestore_bundle_loaded_v2_${P}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,d.Z)(function*(){const n=yield e.syncEngine.Bi();for(const l of n){if(l===e.Rs)continue;const c=e.getItem(Vg(e.persistenceKey,l));if(c){const p=$u.Ts(l,c);p&&(e.gs=e.gs.insert(p.clientId,p))}}e.Fs();const o=e.storage.getItem(e.Cs);if(o){const l=e.Ms(o);l&&e.xs(l)}for(const l of e.ps)e.fs(l);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((o,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,o){this.Ns(e,n,o),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Lf(this.persistenceKey,e));if(o){const l=mh.Ts(e,o);l&&(n=l.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Lf(this.persistenceKey,e))}updateQueryState(e,n,o){this.ks(e,n,o)}handleUserChange(e,n,o){n.forEach(l=>{this.Bs(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Vt("SharedClientState","READ",e,n),n}setItem(e,n){Vt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Vt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const o=e;if(o.storageArea===this.storage){if(Vt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ys)return void zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,d.Z)(function*(){if(n.started){if(null!==o.key)if(n.Ss.test(o.key)){if(null==o.newValue){const l=n.Ks(o.key);return n.$s(l,null)}{const l=n.Us(o.key,o.newValue);if(l)return n.$s(l.clientId,l)}}else if(n.bs.test(o.key)){if(null!==o.newValue){const l=n.Ws(o.key,o.newValue);if(l)return n.Gs(l)}}else if(n.Ds.test(o.key)){if(null!==o.newValue){const l=n.zs(o.key,o.newValue);if(l)return n.js(l)}}else if(o.key===n.Cs){if(null!==o.newValue){const l=n.Ms(o.newValue);if(l)return n.xs(l)}}else if(o.key===n.ws){const l=function(p){let b=Ro._e;if(null!=p)try{const P=JSON.parse(p);bn("number"==typeof P),b=P}catch(P){zr("SharedClientState","Failed to read sequence number from WebStorage",P)}return b}(o.newValue);l!==Ro._e&&n.sequenceNumberHandler(l)}else if(o.key===n.vs){const l=n.Hs(o.newValue);yield Promise.all(l.map(c=>n.syncEngine.Js(c)))}}else n.ps.push(o)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,o){const l=new Bg(this.currentUser,e,n,o),c=iv(this.persistenceKey,this.currentUser,e);this.setItem(c,l.Es())}Bs(e){const n=iv(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,o){const l=Lf(this.persistenceKey,e),c=new mh(e,n,o);this.setItem(l,c.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const o=this.Ks(e);return $u.Ts(o,n)}Ws(e,n){const o=this.bs.exec(e),l=Number(o[1]);return Bg.Ts(new Fn(void 0!==o[2]?o[2]:null),l,n)}zs(e,n){const o=this.Ds.exec(e),l=Number(o[1]);return mh.Ts(l,n)}Ms(e){return $g.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,d.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);Vt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const o=n?this.gs.insert(e,n):this.gs.remove(e),l=this.Os(this.gs),c=this.Os(o),p=[],b=[];return c.forEach(P=>{l.has(P)||p.push(P)}),l.forEach(P=>{c.has(P)||b.push(P)}),this.syncEngine.Xs(p,b).then(()=>{this.gs=o})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=ss();return e.forEach((o,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class ov{constructor(){this.eo=new Wl,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,o){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Wl,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sv{ro(e){}shutdown(){}}class av{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Vf=null;function Ug(){return null===Vf?Vf=268435456+Math.round(2147483648*Math.random()):Vf++,"0x"+Vf.toString(16)}const lv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uv{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Go="WebChannelConnection";class YI extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const o=n.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.mo=o+"://"+n.host,this.fo=`projects/${l}/databases/${c}`,this.po="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${c}`}get yo(){return!1}wo(n,o,l,c,p){const b=Ug(),P=this.So(n,o);Vt("RestConnection",`Sending RPC '${n}' ${b}:`,P,l);const H={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(H,c,p),this.Do(n,P,H,l).then(X=>(Vt("RestConnection",`Received RPC '${n}' ${b}: `,X),X),X=>{throw Zi("RestConnection",`RPC '${n}' ${b} failed with error: `,X,"url: ",P,"request:",l),X})}Co(n,o,l,c,p,b){return this.wo(n,o,l,c,p)}bo(n,o,l){n["X-Goog-Api-Client"]="gl-js/ fire/"+ga,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((c,p)=>n[p]=c),l&&l.headers.forEach((c,p)=>n[p]=c)}So(n,o){return`${this.mo}/v1/${o}:${lv[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,o,l){const c=Ug();return new Promise((p,b)=>{const P=new oo;P.setWithCredentials(!0),P.listenOnce(ou.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case dc.NO_ERROR:const X=P.getResponseJson();Vt(Go,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(X)),p(X);break;case dc.TIMEOUT:Vt(Go,`RPC '${e}' ${c} timed out`),b(new Bt(Et.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const ye=P.getStatus();if(Vt(Go,`RPC '${e}' ${c} failed with status:`,ye,"response text:",P.getResponseText()),ye>0){let Ze=P.getResponseJson();Array.isArray(Ze)&&(Ze=Ze[0]);const gt=null==Ze?void 0:Ze.error;if(gt&&gt.status&&gt.message){const Jt=function(on){const Cn=on.toLowerCase().replace(/_/g,"-");return Object.values(Et).indexOf(Cn)>=0?Cn:Et.UNKNOWN}(gt.status);b(new Bt(Jt,gt.message))}else b(new Bt(Et.UNKNOWN,"Server responded with status "+P.getStatus()))}else b(new Bt(Et.UNAVAILABLE,"Connection failed."));break;default:mn()}}finally{Vt(Go,`RPC '${e}' ${c} completed.`)}});const H=JSON.stringify(l);Vt(Go,`RPC '${e}' ${c} sending request:`,l),P.send(n,"POST",H,o,15)})}vo(e,n,o){const l=Ug(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=qh(),b=Ol(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(P.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(P.xmlHttpFactory=new pl({})),this.bo(P.initMessageHeaders,n,o),P.encodeInitMessageHeaders=!0;const X=c.join("");Vt(Go,`Creating RPC '${e}' stream ${l}: ${X}`,P);const ye=p.createWebChannel(X,P);let Ze=!1,gt=!1;const Jt=new uv({co:on=>{gt?Vt(Go,`Not sending because RPC '${e}' stream ${l} is closed:`,on):(Ze||(Vt(Go,`Opening RPC '${e}' stream ${l} transport.`),ye.open(),Ze=!0),Vt(Go,`RPC '${e}' stream ${l} sending:`,on),ye.send(on))},lo:()=>ye.close()}),sn=(on,Cn,$n)=>{on.listen(Cn,Un=>{try{$n(Un)}catch(Pn){setTimeout(()=>{throw Pn},0)}})};return sn(ye,su.EventType.OPEN,()=>{gt||Vt(Go,`RPC '${e}' stream ${l} transport opened.`)}),sn(ye,su.EventType.CLOSE,()=>{gt||(gt=!0,Vt(Go,`RPC '${e}' stream ${l} transport closed`),Jt.Ro())}),sn(ye,su.EventType.ERROR,on=>{gt||(gt=!0,Zi(Go,`RPC '${e}' stream ${l} transport errored:`,on),Jt.Ro(new Bt(Et.UNAVAILABLE,"The operation could not be completed")))}),sn(ye,su.EventType.MESSAGE,on=>{var Cn;if(!gt){const $n=on.data[0];bn(!!$n);const Pn=$n.error||(null===(Cn=$n[0])||void 0===Cn?void 0:Cn.error);if(Pn){Vt(Go,`RPC '${e}' stream ${l} received error:`,Pn);const Ir=Pn.status;let fr=function(Wy){const l_=ao[Wy];if(void 0!==l_)return gf(l_)}(Ir),yo=Pn.message;void 0===fr&&(fr=Et.INTERNAL,yo="Unknown error status: "+Ir+" with message "+Pn.message),gt=!0,Jt.Ro(new Bt(fr,yo)),ye.close()}else Vt(Go,`RPC '${e}' stream ${l} received:`,$n),Jt.Vo($n)}}),sn(b,Cd.STAT_EVENT,on=>{on.stat===Ws.PROXY?Vt(Go,`RPC '${e}' stream ${l} detected buffering proxy`):on.stat===Ws.NOPROXY&&Vt(Go,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Jt.Ao()},0),Jt}}function Bf(){return typeof window<"u"?window:null}function _h(){return typeof document<"u"?document:null}function vh(i){return new dg(i,!0)}class jg{constructor(e,n,o=1e3,l=1.5,c=6e4){this.si=e,this.timerId=n,this.Fo=o,this.Mo=l,this.xo=c,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),o=Math.max(0,Date.now()-this.Bo),l=Math.max(0,n-o);l>0&&Vt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,l,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Hg{constructor(e,n,o,l,c,p,b,P){this.si=e,this.Ko=o,this.$o=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=P,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new jg(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,d.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,d.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var o=this;return(0,d.Z)(function*(){o.t_(),o.n_(),o.zo.cancel(),o.Uo++,4!==e?o.zo.reset():n&&n.code===Et.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),o.zo.Lo()):n&&n.code===Et.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.r_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Uo===n&&this.s_(o,l)},o=>{e(()=>{const l=new Bt(Et.UNKNOWN,"Fetching auth token failed: "+o.message);return this.o_(l)})})}s_(e,n){const o=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{o(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(l=>{o(()=>this.o_(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}Jo(){var e=this;this.state=5,this.zo.ko((0,d.Z)(function*(){e.state=0,e.start()}))}o_(e){return Vt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(Vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RE extends Hg{constructor(e,n,o,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,l,p),this.serializer=c}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function uE(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(H=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:mn(),l=e.targetChange.targetIds||[],c=function(H,X){return H.useProto3Json?(bn(void 0===X||"string"==typeof X),To.fromBase64String(X||"")):(bn(void 0===X||X instanceof Uint8Array),To.fromUint8Array(X||new Uint8Array))}(i,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&function(H){const X=void 0===H.code?Et.UNKNOWN:gf(H.code);return new Bt(X,H.message||"")}(p);n=new mf(o,l,c,b||null)}else if("documentChange"in e){const o=e.documentChange,l=ks(i,o.document.name),c=vo(o.document.updateTime),p=o.document.createTime?vo(o.document.createTime):nn.min(),b=new wo({mapValue:{fields:o.document.fields}}),P=gi.newFoundDocument(l,c,p,b);n=new Qd(o.targetIds||[],o.removedTargetIds||[],P.key,P)}else if("documentDelete"in e){const o=e.documentDelete,l=ks(i,o.document),c=o.readTime?vo(o.readTime):nn.min(),p=gi.newNoDocument(l,c);n=new Qd([],o.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const o=e.documentRemove,l=ks(i,o.document);n=new Qd([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return mn();{const o=e.filter,{count:l=0,unchangedNames:c}=o,p=new og(l,c);n=new ag(o.targetId,p)}}var H;return n}(this.serializer,e),o=function(c){if(!("targetChange"in c))return nn.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?nn.min():p.readTime?vo(p.readTime):nn.min()}(e);return this.listener.a_(n,o)}u_(e){const n={};n.database=eh(this.serializer),n.addTarget=function(c,p){let b;const P=p.target;if(b=Eu(P)?{documents:_g(c,P)}:{query:yf(c,P)},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=hg(c,p.resumeToken);const H=Au(c,p.expectedCount);null!==H&&(b.expectedCount=H)}else if(p.snapshotVersion.compareTo(nn.min())>0){b.readTime=Nc(c,p.snapshotVersion.toTimestamp());const H=Au(c,p.expectedCount);null!==H&&(b.expectedCount=H)}return b}(this.serializer,e);const o=function Ru(i,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mn()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.e_(n)}c_(e){const n={};n.database=eh(this.serializer),n.removeTarget=e,this.e_(n)}}class cv extends Hg{constructor(e,n,o,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,l,p),this.serializer=c,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(bn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function mg(i,e){return i&&i.length>0?(bn(void 0!==e),i.map(n=>function(l,c){let p=vo(l.updateTime?l.updateTime:c);return p.isEqual(nn.min())&&(p=vo(c)),new sE(p,l.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=vo(e.commitTime);return this.listener.I_(o,n)}return bn(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=eh(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>Xa(this.serializer,o))};this.e_(n)}}class PE extends class{}{constructor(e,n,o,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=l,this.d_=!1}A_(){if(this.d_)throw new Bt(Et.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.wo(e,n,o,l,c)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Bt(Et.UNKNOWN,l.toString())})}Co(e,n,o,l){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Co(e,n,o,c,p,l)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Bt(Et.UNKNOWN,c.toString())})}terminate(){this.d_=!0}}class hv{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(zr(n),this.f_=!1):Vt("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class fv{constructor(e,n,o,l,c){var p=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=c,this.F_.ro(b=>{o.enqueueAndForget((0,d.Z)(function*(){var P;Ui(p)&&(Vt("RemoteStore","Restarting streams for network reachability change."),yield(P=(0,d.Z)(function*(X){const ye=Qt(X);ye.C_.add(4),yield zc(ye),ye.M_.set("Unknown"),ye.C_.delete(4),yield ps(ye)}),function H(X){return P.apply(this,arguments)})(p))}))}),this.M_=new hv(o,l)}}function ps(i){return yh.apply(this,arguments)}function yh(){return yh=(0,d.Z)(function*(i){if(Ui(i))for(const e of i.v_)yield e(!0)}),yh.apply(this,arguments)}function zc(i){return pv.apply(this,arguments)}function pv(){return pv=(0,d.Z)(function*(i){for(const e of i.v_)yield e(!1)}),pv.apply(this,arguments)}function $f(i,e){const n=Qt(i);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),gv(n)?Gg(n):Gu(n).Ho()&&sa(n,e))}function ju(i,e){const n=Qt(i),o=Gu(n);n.D_.delete(e),o.Ho()&&zg(n,e),0===n.D_.size&&(o.Ho()?o.Zo():Ui(n)&&n.M_.set("Unknown"))}function sa(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nn.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gu(i).u_(e)}function zg(i,e){i.x_.Oe(e),Gu(i).c_(e)}function Gg(i){i.x_=new _f({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Gu(i).start(),i.M_.g_()}function gv(i){return Ui(i)&&!Gu(i).jo()&&i.D_.size>0}function Ui(i){return 0===Qt(i).C_.size}function mv(i){i.x_=void 0}function Wg(i){return qg.apply(this,arguments)}function qg(){return qg=(0,d.Z)(function*(i){i.D_.forEach((e,n)=>{sa(i,e)})}),qg.apply(this,arguments)}function xE(i,e){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,d.Z)(function*(i,e){mv(i),gv(i)?(i.M_.w_(e),Gg(i)):i.M_.set("Unknown")}),Eh.apply(this,arguments)}function _v(i,e,n){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,d.Z)(function*(i,e,n){if(i.M_.set("Online"),e instanceof mf&&2===e.state&&e.cause)try{yield(o=(0,d.Z)(function*(c,p){const b=p.cause;for(const P of p.targetIds)c.D_.has(P)&&(yield c.remoteSyncer.rejectListen(P,b),c.D_.delete(P),c.x_.removeTarget(P))}),function l(c,p){return o.apply(this,arguments)})(i,e)}catch(o){Vt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield jf(i,o)}else if(e instanceof Qd?i.x_.$e(e):e instanceof ag?i.x_.Je(e):i.x_.Ge(e),!n.isEqual(nn.min()))try{const o=yield J_(i.localStore);n.compareTo(o)>=0&&(yield function(c,p){const b=c.x_.it(p);return b.targetChanges.forEach((P,H)=>{if(P.resumeToken.approximateByteSize()>0){const X=c.D_.get(H);X&&c.D_.set(H,X.withResumeToken(P.resumeToken,p))}}),b.targetMismatches.forEach((P,H)=>{const X=c.D_.get(P);if(!X)return;c.D_.set(P,X.withResumeToken(To.EMPTY_BYTE_STRING,X.snapshotVersion)),zg(c,P);const ye=new El(X.target,P,H,X.sequenceNumber);sa(c,ye)}),c.remoteSyncer.applyRemoteEvent(b)}(i,n))}catch(o){Vt("RemoteStore","Failed to raise snapshot:",o),yield jf(i,o)}var o}),Uf.apply(this,arguments)}function jf(i,e,n){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,d.Z)(function*(i,e,n){if(!Ba(e))throw e;i.C_.add(1),yield zc(i),i.M_.set("Offline"),n||(n=()=>J_(i.localStore)),i.asyncQueue.enqueueRetryable((0,d.Z)(function*(){Vt("RemoteStore","Retrying IndexedDB access"),yield n(),i.C_.delete(1),yield ps(i)}))}),Hf.apply(this,arguments)}function Yg(i,e){return e().catch(n=>jf(i,n,e))}function Gc(i){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,d.Z)(function*(i){const e=Qt(i),n=Yl(e);let o=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;OE(e);)try{const l=yield ev(e.localStore,o);if(null===l){0===e.b_.length&&n.Zo();break}o=l.batchId,vv(e,l)}catch(l){yield jf(e,l)}Hu(e)&&tl(e)}),Kg.apply(this,arguments)}function OE(i){return Ui(i)&&i.b_.length<10}function vv(i,e){i.b_.push(e);const n=Yl(i);n.Ho()&&n.h_&&n.P_(e.mutations)}function Hu(i){return Ui(i)&&!Yl(i).jo()&&i.b_.length>0}function tl(i){Yl(i).start()}function Wc(i){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,d.Z)(function*(i){Yl(i).E_()}),Zg.apply(this,arguments)}function NE(i){return zf.apply(this,arguments)}function zf(){return zf=(0,d.Z)(function*(i){const e=Yl(i);for(const n of i.b_)e.P_(n.mutations)}),zf.apply(this,arguments)}function Xg(i,e,n){return zu.apply(this,arguments)}function zu(){return zu=(0,d.Z)(function*(i,e,n){const o=i.b_.shift(),l=ig.from(o,e,n);yield Yg(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Gc(i)}),zu.apply(this,arguments)}function yv(i,e){return Ev.apply(this,arguments)}function Ev(){return Ev=(0,d.Z)(function*(i,e){var n;e&&Yl(i).h_&&(yield(n=(0,d.Z)(function*(l,c){if(M_(b=c.code)&&b!==Et.ABORTED){const p=l.b_.shift();Yl(l).Yo(),yield Yg(l,()=>l.remoteSyncer.rejectFailedWrite(p.batchId,c)),yield Gc(l)}var b}),function o(l,c){return n.apply(this,arguments)})(i,e)),Hu(i)&&tl(i)}),Ev.apply(this,arguments)}function Gf(i,e){return ql.apply(this,arguments)}function ql(){return ql=(0,d.Z)(function*(i,e){const n=Qt(i);n.asyncQueue.verifyOperationInProgress(),Vt("RemoteStore","RemoteStore received new credentials");const o=Ui(n);n.C_.add(3),yield zc(n),o&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield ps(n)}),ql.apply(this,arguments)}function qc(i,e){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,d.Z)(function*(i,e){const n=Qt(i);e?(n.C_.delete(2),yield ps(n)):e||(n.C_.add(2),yield zc(n),n.M_.set("Unknown"))}),Wf.apply(this,arguments)}function Gu(i){return i.O_||(i.O_=function(n,o,l){const c=Qt(n);return c.A_(),new RE(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(i.datastore,i.asyncQueue,{ho:Wg.bind(null,i),Io:xE.bind(null,i),a_:_v.bind(null,i)}),i.v_.push(function(){var e=(0,d.Z)(function*(n){n?(i.O_.Yo(),gv(i)?Gg(i):i.M_.set("Unknown")):(yield i.O_.stop(),mv(i))});return function(n){return e.apply(this,arguments)}}())),i.O_}function Yl(i){return i.N_||(i.N_=function(n,o,l){const c=Qt(n);return c.A_(),new cv(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(i.datastore,i.asyncQueue,{ho:Wc.bind(null,i),Io:yv.bind(null,i),T_:NE.bind(null,i),I_:Xg.bind(null,i)}),i.v_.push(function(){var e=(0,d.Z)(function*(n){n?(i.N_.Yo(),yield Gc(i)):(yield i.N_.stop(),i.b_.length>0&&(Vt("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(n){return e.apply(this,arguments)}}())),i.N_}class Qg{constructor(e,n,o,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=l,this.removalCallback=c,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,l,c){const p=Date.now()+o,b=new Qg(e,n,p,l,c);return b.start(o),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bt(Et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yc(i,e){if(zr("AsyncQueue",`${e}: ${i}`),Ba(i))return new Bt(Et.UNAVAILABLE,`${e}: ${i}`);throw i}class Kc{constructor(e){this.comparator=e?(n,o)=>e(n,o)||rn.comparator(n.key,o.key):(n,o)=>rn.comparator(n.key,o.key),this.keyedMap=Gd(),this.sortedSet=new pi(this.comparator)}static emptySet(e){return new Kc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Kc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=o.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Kc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class Jg{constructor(){this.B_=new pi(rn.comparator)}track(e){const n=e.doc.key,o=this.B_.get(n);o?0!==e.type&&3===o.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==o.type?this.B_=this.B_.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.B_=this.B_.remove(n):1===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):mn():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,o)=>{e.push(o)}),e}}class Ih{constructor(e,n,o,l,c,p,b,P,H){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=P,this.hasCachedResults=H}static fromInitialDocuments(e,n,o,l,c){const p=[];return n.forEach(b=>{p.push({type:0,doc:b})}),new Ih(e,n,Kc.emptySet(n),p,o,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ac(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==o[l].type||!n[l].doc.isEqual(o[l].doc))return!1;return!0}}class kE{constructor(){this.k_=void 0,this.listeners=[]}}class KI{constructor(){this.queries=new ra(e=>Yp(e),Ac),this.onlineState="Unknown",this.q_=new Set}}function Iv(i,e){return qf.apply(this,arguments)}function qf(){return qf=(0,d.Z)(function*(i,e){const n=Qt(i),o=e.query;let l=!1,c=n.queries.get(o);if(c||(l=!0,c=new kE),l)try{c.k_=yield n.onListen(o)}catch(p){const b=Yc(p,`Initialization of query '${Cu(e.query)}' failed`);return void e.onError(b)}n.queries.set(o,c),c.listeners.push(e),e.Q_(n.onlineState),c.k_&&e.K_(c.k_)&&Kf(n)}),qf.apply(this,arguments)}function Yf(i,e){return Dv.apply(this,arguments)}function Dv(){return Dv=(0,d.Z)(function*(i,e){const n=Qt(i),o=e.query;let l=!1;const c=n.queries.get(o);if(c){const p=c.listeners.indexOf(e);p>=0&&(c.listeners.splice(p,1),l=0===c.listeners.length)}if(l)return n.queries.delete(o),n.onUnlisten(o)}),Dv.apply(this,arguments)}function Dh(i,e){const n=Qt(i);let o=!1;for(const l of e){const p=n.queries.get(l.query);if(p){for(const b of p.listeners)b.K_(l)&&(o=!0);p.k_=l}}o&&Kf(n)}function ZI(i,e,n){const o=Qt(i),l=o.queries.get(e);if(l)for(const c of l.listeners)c.onError(n);o.queries.delete(e)}function Kf(i){i.q_.forEach(e=>{e.next()})}class Zf{constructor(e,n,o){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=o||{}}K_(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new Ih(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Ih.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class FE{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class em{constructor(e){this.serializer=e}hs(e){return ks(this.serializer,e)}Ps(e){return e.metadata.exists?L_(this.serializer,e.document,!1):gi.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return vo(e)}}class Cv{constructor(e,n,o){this.X_=e,this.localStore=n,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ur(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const o=lr.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,o=new em(this.serializer);for(const l of e)if(l.metadata.queries){const c=o.hs(l.metadata.name);for(const p of l.metadata.queries){const b=(n.get(p)||Er()).add(c);n.set(p,b)}}return n}complete(){var e=this;return(0,d.Z)(function*(){const n=yield function rv(i,e,n,o){return gh.apply(this,arguments)}(e.localStore,new em(e.serializer),e.documents,e.X_.id),o=e.ta(e.documents);for(const l of e.queries)yield Ff(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function ur(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class tm{constructor(e){this.key=e}}class nm{constructor(e){this.key=e}}class Wu{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Er(),this.mutatedKeys=Er(),this._a=Zp(e),this.aa=new Kc(this._a)}get ua(){return this.ia}ca(e,n){const o=n?n.la:new Jg,l=n?n.aa:this.aa;let c=n?n.mutatedKeys:this.mutatedKeys,p=l,b=!1;const P="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,H="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((X,ye)=>{const Ze=l.get(X),gt=Za(this.query,ye)?ye:null,Jt=!!Ze&&this.mutatedKeys.has(Ze.key),sn=!!gt&&(gt.hasLocalMutations||this.mutatedKeys.has(gt.key)&&gt.hasCommittedMutations);let on=!1;Ze&&gt?Ze.data.isEqual(gt.data)?Jt!==sn&&(o.track({type:3,doc:gt}),on=!0):this.ha(Ze,gt)||(o.track({type:2,doc:gt}),on=!0,(P&&this._a(gt,P)>0||H&&this._a(gt,H)<0)&&(b=!0)):!Ze&&gt?(o.track({type:0,doc:gt}),on=!0):Ze&&!gt&&(o.track({type:1,doc:Ze}),on=!0,(P||H)&&(b=!0)),on&&(gt?(p=p.add(gt),c=sn?c.add(X):c.delete(X)):(p=p.delete(X),c=c.delete(X)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const X="F"===this.query.limitType?p.last():p.first();p=p.delete(X.key),c=c.delete(X.key),o.track({type:1,doc:X})}return{aa:p,la:o,Zi:b,mutatedKeys:c}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const l=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const c=e.la.L_();c.sort((H,X)=>function(Ze,gt){const Jt=sn=>{switch(sn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mn()}};return Jt(Ze)-Jt(gt)}(H.type,X.type)||this._a(H.doc,X.doc)),this.Pa(o);const p=n?this.Ia():[],b=0===this.oa.size&&this.current?1:0,P=b!==this.sa;return this.sa=b,0!==c.length||P?{snapshot:new Ih(this.query,e.aa,l,c,e.mutatedKeys,0===b,P,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ta:p}:{Ta:p}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Jg,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Er(),this.aa.forEach(o=>{this.Ea(o.key)&&(this.oa=this.oa.add(o.key))});const n=[];return e.forEach(o=>{this.oa.has(o)||n.push(new nm(o))}),this.oa.forEach(o=>{e.has(o)||n.push(new tm(o))}),n}da(e){this.ia=e.ls,this.oa=Er();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Ih.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Tv{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class LE{constructor(e){this.key=e,this.Ra=!1}}class Xf{constructor(e,n,o,l,c,p){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Va={},this.ma=new ra(b=>Yp(b),Ac),this.fa=new Map,this.ga=new Set,this.pa=new pi(rn.comparator),this.ya=new Map,this.wa=new hh,this.Sa={},this.ba=new Map,this.Da=Lu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Zc(i,e){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,d.Z)(function*(i,e){const n=Ah(i);let o,l;const c=n.ma.get(e);if(c)o=c.targetId,n.sharedClientState.addLocalQueryTarget(o),l=c.view.Aa();else{const p=yield jc(n.localStore,ys(e)),b=n.sharedClientState.addLocalQueryTarget(p.targetId);o=p.targetId,l=yield qu(n,e,o,"current"===b,p.resumeToken),n.isPrimaryClient&&$f(n.remoteStore,p)}return l}),Ch.apply(this,arguments)}function qu(i,e,n,o,l){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,d.Z)(function*(i,e,n,o,l){i.va=(ye,Ze,gt)=>{return(Jt=(0,d.Z)(function*(on,Cn,$n,Un){let Pn=Cn.view.ca($n);Pn.Zi&&(Pn=yield Nf(on.localStore,Cn.query,!1).then(({documents:yo})=>Cn.view.ca(yo,Pn)));const Ir=Un&&Un.targetChanges.get(Cn.targetId),fr=Cn.view.applyChanges(Pn,on.isPrimaryClient,Ir);return cm(on,Cn.targetId,fr.Ta),fr.snapshot}),function sn(on,Cn,$n,Un){return Jt.apply(this,arguments)})(i,ye,Ze,gt);var Jt};const c=yield Nf(i.localStore,e,!0),p=new Wu(e,c.ls),b=p.ca(c.documents),P=xc.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,l),H=p.applyChanges(b,i.isPrimaryClient,P);cm(i,n,H.Ta);const X=new Tv(e,n,p);return i.ma.set(e,X),i.fa.has(n)?i.fa.get(n).push(e):i.fa.set(n,[e]),H.snapshot}),Qf.apply(this,arguments)}function rm(i,e){return Th.apply(this,arguments)}function Th(){return Th=(0,d.Z)(function*(i,e){const n=Qt(i),o=n.ma.get(e),l=n.fa.get(o.targetId);if(l.length>1)return n.fa.set(o.targetId,l.filter(c=>!Ac(c,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Hc(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),ju(n.remoteStore,o.targetId),Wo(n,o.targetId)}).catch(Ks))):(Wo(n,o.targetId),yield Hc(n.localStore,o.targetId,!0))}),Th.apply(this,arguments)}function Jf(){return Jf=(0,d.Z)(function*(i,e,n){const o=xv(i);try{const l=yield function(p,b){const P=Qt(p),H=hr.now(),X=b.reduce((gt,Jt)=>gt.add(Jt.key),Er());let ye,Ze;return P.persistence.runTransaction("Locally write mutations","readwrite",gt=>{let Jt=Es(),sn=Er();return P.ss.getEntries(gt,X).next(on=>{Jt=on,Jt.forEach((Cn,$n)=>{$n.isValidDocument()||(sn=sn.add(Cn))})}).next(()=>P.localDocuments.getOverlayedDocuments(gt,Jt)).next(on=>{ye=on;const Cn=[];for(const $n of b){const Un=Pc($n,ye.get($n.key).overlayedDocument);null!=Un&&Cn.push(new wa($n.key,Un,_u(Un.value.mapValue),Ci.exists(!0)))}return P.mutationQueue.addMutationBatch(gt,H,Cn,b)}).next(on=>{Ze=on;const Cn=on.applyToLocalDocumentSet(ye,sn);return P.documentOverlayCache.saveOverlays(gt,on.batchId,Cn)})}).then(()=>({batchId:Ze.batchId,changes:Xp(ye)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(p,b,P){let H=p.Sa[p.currentUser.toKey()];H||(H=new pi(xt)),H=H.insert(b,P),p.Sa[p.currentUser.toKey()]=H}(o,l.batchId,n),yield nl(o,l.changes),yield Gc(o.remoteStore)}catch(l){const c=Yc(l,"Failed to persist write");n.reject(c)}}),Jf.apply(this,arguments)}function ep(i,e){return om.apply(this,arguments)}function om(){return om=(0,d.Z)(function*(i,e){const n=Qt(i);try{const o=yield function SE(i,e){const n=Qt(i),o=e.snapshotVersion;let l=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=n.ss.newChangeBuffer({trackRemovals:!0});l=n.ts;const b=[];e.targetChanges.forEach((X,ye)=>{const Ze=l.get(ye);if(!Ze)return;b.push(n.qr.removeMatchingKeys(c,X.removedDocuments,ye).next(()=>n.qr.addMatchingKeys(c,X.addedDocuments,ye)));let gt=Ze.withSequenceNumber(c.currentSequenceNumber);var sn,on,Cn;null!==e.targetMismatches.get(ye)?gt=gt.withResumeToken(To.EMPTY_BYTE_STRING,nn.min()).withLastLimboFreeSnapshotVersion(nn.min()):X.resumeToken.approximateByteSize()>0&&(gt=gt.withResumeToken(X.resumeToken,o)),l=l.insert(ye,gt),on=gt,Cn=X,(0===(sn=Ze).resumeToken.approximateByteSize()||on.snapshotVersion.toMicroseconds()-sn.snapshotVersion.toMicroseconds()>=3e8||Cn.addedDocuments.size+Cn.modifiedDocuments.size+Cn.removedDocuments.size>0)&&b.push(n.qr.updateTargetData(c,gt))});let P=Es(),H=Er();if(e.documentUpdates.forEach(X=>{e.resolvedLimboDocuments.has(X)&&b.push(n.persistence.referenceDelegate.updateLimboDocument(c,X))}),b.push(Of(c,p,e.documentUpdates).next(X=>{P=X.us,H=X.cs})),!o.isEqual(nn.min())){const X=n.qr.getLastRemoteSnapshotVersion(c).next(ye=>n.qr.setTargetsMetadata(c,c.currentSequenceNumber,o));b.push(X)}return ft.waitFor(b).next(()=>p.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,P,H)).next(()=>P)}).then(c=>(n.ts=l,c))}(n.localStore,e);e.targetChanges.forEach((l,c)=>{const p=n.ya.get(c);p&&(bn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?p.Ra=!0:l.modifiedDocuments.size>0?bn(p.Ra):l.removedDocuments.size>0&&(bn(p.Ra),p.Ra=!1))}),yield nl(n,o,e)}catch(o){yield Ks(o)}}),om.apply(this,arguments)}function wv(i,e,n){const o=Qt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const l=[];o.ma.forEach((c,p)=>{const b=p.view.Q_(e);b.snapshot&&l.push(b.snapshot)}),function(p,b){const P=Qt(p);P.onlineState=b;let H=!1;P.queries.forEach((X,ye)=>{for(const Ze of ye.listeners)Ze.Q_(b)&&(H=!0)}),H&&Kf(P)}(o.eventManager,e),l.length&&o.Va.a_(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function VE(i,e,n){return tp.apply(this,arguments)}function tp(){return tp=(0,d.Z)(function*(i,e,n){const o=Qt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const l=o.ya.get(e),c=l&&l.key;if(c){let p=new pi(rn.comparator);p=p.insert(c,gi.newNoDocument(c,nn.min()));const b=Er().add(c),P=new Xd(nn.min(),new Map,new pi(xt),p,b);yield ep(o,P),o.pa=o.pa.remove(c),o.ya.delete(e),wh(o)}else yield Hc(o.localStore,e,!1).then(()=>Wo(o,e,n)).catch(Ks)}),tp.apply(this,arguments)}function BE(i,e){return sm.apply(this,arguments)}function sm(){return sm=(0,d.Z)(function*(i,e){const n=Qt(i),o=e.batch.batchId;try{const l=yield function Q_(i,e){const n=Qt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),c=n.ss.newChangeBuffer({trackRemovals:!0});return function(b,P,H,X){const ye=H.batch,Ze=ye.keys();let gt=ft.resolve();return Ze.forEach(Jt=>{gt=gt.next(()=>X.getEntry(P,Jt)).next(sn=>{const on=H.docVersions.get(Jt);bn(null!==on),sn.version.compareTo(on)<0&&(ye.applyToRemoteDocument(sn,H),sn.isValidDocument()&&(sn.setReadTime(H.commitVersion),X.addEntry(sn)))})}),gt.next(()=>b.mutationQueue.removeMutationBatch(P,ye))}(n,o,e,c).next(()=>c.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(b){let P=Er();for(let H=0;H<b.mutationResults.length;++H)b.mutationResults[H].transformResults.length>0&&(P=P.add(b.batch.mutations[H].key));return P}(e))).next(()=>n.localDocuments.getDocuments(o,l))})}(n.localStore,e);um(n,o,null),lm(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield nl(n,l)}catch(l){yield Ks(l)}}),sm.apply(this,arguments)}function $E(i,e,n){return am.apply(this,arguments)}function am(){return am=(0,d.Z)(function*(i,e,n){const o=Qt(i);try{const l=yield function(p,b){const P=Qt(p);return P.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let X;return P.mutationQueue.lookupMutationBatch(H,b).next(ye=>(bn(null!==ye),X=ye.keys(),P.mutationQueue.removeMutationBatch(H,ye))).next(()=>P.mutationQueue.performConsistencyCheck(H)).next(()=>P.documentOverlayCache.removeOverlaysForBatchId(H,X,b)).next(()=>P.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(H,X)).next(()=>P.localDocuments.getDocuments(H,X))})}(o.localStore,e);um(o,e,n),lm(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield nl(o,l)}catch(l){yield Ks(l)}}),am.apply(this,arguments)}function np(){return np=(0,d.Z)(function*(i,e){const n=Qt(i);Ui(n.remoteStore)||Vt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(p){const b=Qt(p);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",P=>b.mutationQueue.getHighestUnacknowledgedBatchId(P))}(n.localStore);if(-1===o)return void e.resolve();const l=n.ba.get(o)||[];l.push(e),n.ba.set(o,l)}catch(o){const l=Yc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),np.apply(this,arguments)}function lm(i,e){(i.ba.get(e)||[]).forEach(n=>{n.resolve()}),i.ba.delete(e)}function um(i,e,n){const o=Qt(i);let l=o.Sa[o.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),o.Sa[o.currentUser.toKey()]=l}}function Wo(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.fa.get(e))i.ma.delete(o),n&&i.Va.Fa(o,n);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(o=>{i.wa.containsKey(o)||Av(i,o)})}function Av(i,e){i.ga.delete(e.path.canonicalString());const n=i.pa.get(e);null!==n&&(ju(i.remoteStore,n),i.pa=i.pa.remove(e),i.ya.delete(n),wh(i))}function cm(i,e,n){for(const o of n)o instanceof tm?(i.wa.addReference(o.key,e),XI(i,o)):o instanceof nm?(Vt("SyncEngine","Document no longer in limbo: "+o.key),i.wa.removeReference(o.key,e),i.wa.containsKey(o.key)||Av(i,o.key)):mn()}function XI(i,e){const n=e.key,o=n.path.canonicalString();i.pa.get(n)||i.ga.has(o)||(Vt("SyncEngine","New document in limbo: "+n),i.ga.add(o),wh(i))}function wh(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const n=new rn(lr.fromString(e)),o=i.Da.next();i.ya.set(o,new LE(n)),i.pa=i.pa.insert(n,o),$f(i.remoteStore,new El(ys(Hd(n.path)),o,"TargetPurposeLimboResolution",Ro._e))}}function nl(i,e,n){return dm.apply(this,arguments)}function dm(){return dm=(0,d.Z)(function*(i,e,n){const o=Qt(i),l=[],c=[],p=[];var b;o.ma.isEmpty()||(o.ma.forEach((b,P)=>{p.push(o.va(P,e,n).then(H=>{if((H||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(P.targetId,null!=H&&H.fromCache?"not-current":"current"),H){l.push(H);const X=fh.Qi(P.targetId,H);c.push(X)}}))}),yield Promise.all(p),o.Va.a_(l),yield(b=(0,d.Z)(function*(H,X){const ye=Qt(H);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ze=>ft.forEach(X,gt=>ft.forEach(gt.ki,Jt=>ye.persistence.referenceDelegate.addReference(Ze,gt.targetId,Jt)).next(()=>ft.forEach(gt.qi,Jt=>ye.persistence.referenceDelegate.removeReference(Ze,gt.targetId,Jt)))))}catch(Ze){if(!Ba(Ze))throw Ze;Vt("LocalStore","Failed to update sequence numbers: "+Ze)}for(const Ze of X){const gt=Ze.targetId;if(!Ze.fromCache){const Jt=ye.ts.get(gt),on=Jt.withLastLimboFreeSnapshotVersion(Jt.snapshotVersion);ye.ts=ye.ts.insert(gt,on)}}}),function P(H,X){return b.apply(this,arguments)})(o.localStore,c))}),dm.apply(this,arguments)}function UE(i,e){return hm.apply(this,arguments)}function hm(){return hm=(0,d.Z)(function*(i,e){const n=Qt(i);if(!n.currentUser.isEqual(e)){Vt("SyncEngine","User change. New user:",e.toKey());const o=yield Uc(n.localStore,e);n.currentUser=e,(c=n).ba.forEach(b=>{b.forEach(P=>{P.reject(new Bt(Et.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.ba.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield nl(n,o._s)}var c}),hm.apply(this,arguments)}function Sv(i,e){const n=Qt(i),o=n.ya.get(e);if(o&&o.Ra)return Er().add(o.key);{let l=Er();const c=n.fa.get(e);if(!c)return l;for(const p of c){const b=n.ma.get(p);l=l.unionWith(b.view.ua)}return l}}function jE(i,e){return fm.apply(this,arguments)}function fm(){return fm=(0,d.Z)(function*(i,e){const n=Qt(i),o=yield Nf(n.localStore,e.query,!0),l=e.view.da(o);return n.isPrimaryClient&&cm(n,e.targetId,l.Ta),l}),fm.apply(this,arguments)}function pm(i,e){return gm.apply(this,arguments)}function gm(){return gm=(0,d.Z)(function*(i,e){const n=Qt(i);return kf(n.localStore,e).then(o=>nl(n,o))}),gm.apply(this,arguments)}function HE(i,e,n,o){return mm.apply(this,arguments)}function mm(){return mm=(0,d.Z)(function*(i,e,n,o){const l=Qt(i),c=yield function(b,P){const H=Qt(b),X=Qt(H.mutationQueue);return H.persistence.runTransaction("Lookup mutation documents","readonly",ye=>X.Cn(ye,P).next(Ze=>Ze?H.localDocuments.getDocuments(ye,Ze):ft.resolve(null)))}(l.localStore,e);var P;null!==c?("pending"===n?yield Gc(l.remoteStore):"acknowledged"===n||"rejected"===n?(um(l,e,o||null),lm(l,e),P=e,Qt(Qt(l.localStore).mutationQueue).Fn(P)):mn(),yield nl(l,c)):Vt("SyncEngine","Cannot apply mutation batch with id: "+e)}),mm.apply(this,arguments)}function _m(){return _m=(0,d.Z)(function*(i,e){const n=Qt(i);if(Ah(n),xv(n),!0===e&&!0!==n.Ca){const o=n.sharedClientState.getAllActiveQueryTargets(),l=yield Sa(n,o.toArray());n.Ca=!0,yield qc(n.remoteStore,!0);for(const c of l)$f(n.remoteStore,c)}else if(!1===e&&!1!==n.Ca){const o=[];let l=Promise.resolve();n.fa.forEach((c,p)=>{n.sharedClientState.isLocalQueryTarget(p)?o.push(p):l=l.then(()=>(Wo(n,p),Hc(n.localStore,p,!0))),ju(n.remoteStore,p)}),yield l,yield Sa(n,o),function(p){const b=Qt(p);b.ya.forEach((P,H)=>{ju(b.remoteStore,H)}),b.wa.Vr(),b.ya=new Map,b.pa=new pi(rn.comparator)}(n),n.Ca=!1,yield qc(n.remoteStore,!1)}}),_m.apply(this,arguments)}function Sa(i,e,n){return bh.apply(this,arguments)}function bh(){return bh=(0,d.Z)(function*(i,e,n){const o=Qt(i),l=[],c=[];for(const p of e){let b;const P=o.fa.get(p);if(P&&0!==P.length){b=yield jc(o.localStore,ys(P[0]));for(const H of P){const X=o.ma.get(H),ye=yield jE(o,X);ye.snapshot&&c.push(ye.snapshot)}}else{const H=yield ph(o.localStore,p);b=yield jc(o.localStore,H),yield qu(o,Rv(H),p,!1,b.resumeToken)}l.push(b)}return o.Va.a_(c),l}),bh.apply(this,arguments)}function Rv(i){return wc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Pv(i){return n=Qt(i).localStore,Qt(Qt(n).persistence).Bi();var n}function GE(i,e,n,o){return rp.apply(this,arguments)}function rp(){return rp=(0,d.Z)(function*(i,e,n,o){const l=Qt(i);if(l.Ca)return void Vt("SyncEngine","Ignoring unexpected query state notification.");const c=l.fa.get(e);if(c&&c.length>0)switch(n){case"current":case"not-current":{const p=yield kf(l.localStore,Kp(c[0])),b=Xd.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,To.EMPTY_BYTE_STRING);yield nl(l,p,b);break}case"rejected":yield Hc(l.localStore,e,!0),Wo(l,e,o);break;default:mn()}}),rp.apply(this,arguments)}function Mv(i,e,n){return Xc.apply(this,arguments)}function Xc(){return Xc=(0,d.Z)(function*(i,e,n){const o=Ah(i);if(o.Ca){for(const l of e){if(o.fa.has(l)){Vt("SyncEngine","Adding an already active target "+l);continue}const c=yield ph(o.localStore,l),p=yield jc(o.localStore,c);yield qu(o,Rv(c),p.targetId,!1,p.resumeToken),$f(o.remoteStore,p)}for(const l of n)o.fa.has(l)&&(yield Hc(o.localStore,l,!1).then(()=>{ju(o.remoteStore,l),Wo(o,l)}).catch(Ks))}}),Xc.apply(this,arguments)}function Ah(i){const e=Qt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ep.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VE.bind(null,e),e.Va.a_=Dh.bind(null,e.eventManager),e.Va.Fa=ZI.bind(null,e.eventManager),e}function xv(i){const e=Qt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$E.bind(null,e),e}class Qc{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,d.Z)(function*(){n.serializer=vh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return xf(this.persistence,new $c,e.initialUser,this.serializer)}createPersistence(e){return new X_(Pf.jr,this.serializer)}createSharedClientState(e){return new ov}terminate(){var e=this;return(0,d.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ip extends Qc{constructor(e,n,o){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,d.Z)(function*(){yield n().call(o,e),yield o.xa.initialize(o,e),yield xv(o.xa.syncEngine),yield Gc(o.xa.remoteStore),yield o.persistence.mi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return xf(this.persistence,new $c,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new uh(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const o=new g_(n,this.persistence);return new Zh(e.asyncQueue,o)}createPersistence(e){const n=Gl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?zo.withCacheSize(this.cacheSizeBytes):zo.DEFAULT;return new Bc(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,Bf(),_h(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ov}}class op extends ip{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,d.Z)(function*(){yield n().call(o,e);const l=o.xa.syncEngine;o.sharedClientState instanceof Uu&&(o.sharedClientState.syncEngine={Ys:HE.bind(null,l),Zs:GE.bind(null,l),Xs:Mv.bind(null,l),Bi:Pv.bind(null,l),Js:pm.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.mi(function(){var c=(0,d.Z)(function*(p){yield function zE(i,e){return _m.apply(this,arguments)}(o.xa.syncEngine,p),o.gcScheduler&&(p&&!o.gcScheduler.started?o.gcScheduler.start():p||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(p&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():p||o.indexBackfillerScheduler.stop())});return function(p){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const n=Bf();if(!Uu.D(n))throw new Bt(Et.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Gl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Uu(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class Cs{initialize(e,n){var o=this;return(0,d.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>wv(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=UE.bind(null,o.syncEngine),yield qc(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new KI}createDatastore(e){const n=vh(e.databaseInfo.databaseId),o=new YI(e.databaseInfo);return new PE(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return o=this.localStore,l=this.datastore,c=e.asyncQueue,p=n=>wv(this.syncEngine,n,0),b=av.D()?new av:new sv,new fv(o,l,c,p,b);var o,l,c,p,b}createSyncEngine(e,n){return function(l,c,p,b,P,H,X){const ye=new Xf(l,c,p,b,P,H);return X&&(ye.Ca=!0),ye}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,d.Z)(function*(o){const l=Qt(o);Vt("RemoteStore","RemoteStore shutting down."),l.C_.add(5),yield zc(l),l.F_.shutdown(),l.M_.set("Unknown")}),function n(o){return e.apply(this,arguments)})(this.remoteStore);var e}}function kv(i,e=10240){let n=0;return{read:()=>(0,d.Z)(function*(){if(n<i.byteLength){const o={value:i.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,d.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class sp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class vm{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Ii,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(o=>{o&&o.Z_()?this.metadata.resolve(o.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.Y_)}`))},o=>this.metadata.reject(o))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,d.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,d.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,d.Z)(function*(){const n=yield e.qa();if(null===n)return null;const o=e.La.decode(n),l=Number(o);isNaN(l)&&e.Qa(`length string (${o}) is not valid number`);const c=yield e.Ka(l);return new FE(JSON.parse(c),n.length+l)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,d.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}Ka(e){var n=this;return(0,d.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const o=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,d.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class WE{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,d.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Bt(Et.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,d.Z)(function*(p,b){const P=Qt(p),H=eh(P.serializer)+"/documents",X={documents:b.map(Jt=>kc(P.serializer,Jt))},ye=yield P.Co("BatchGetDocuments",H,X,b.length),Ze=new Map;ye.forEach(Jt=>{const sn=function gg(i,e){return"found"in e?function(o,l){bn(!!l.found);const c=ks(o,l.found.name),p=vo(l.found.updateTime),b=l.found.createTime?vo(l.found.createTime):nn.min(),P=new wo({mapValue:{fields:l.found.fields}});return gi.newFoundDocument(c,p,b,P)}(i,e):"missing"in e?function(o,l){bn(!!l.missing),bn(!!l.readTime);const c=ks(o,l.missing),p=vo(l.readTime);return gi.newNoDocument(c,p)}(i,e):mn()}(P.serializer,Jt);Ze.set(sn.key.toString(),sn)});const gt=[];return b.forEach(Jt=>{const sn=Ze.get(Jt.toString());bn(!!sn),gt.push(sn)}),gt}),function c(p,b){return l.apply(this,arguments)})(n.datastore,e);var l;return o.forEach(l=>n.recordVersion(l)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,d.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,l)=>{const c=rn.fromPath(l);e.mutations.push(new ng(c,e.precondition(c)))}),yield(o=(0,d.Z)(function*(c,p){const b=Qt(c),P=eh(b.serializer)+"/documents",H={writes:p.map(X=>Xa(b.serializer,X))};yield b.wo("Commit",P,H)}),function l(c,p){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw mn();n=nn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new Bt(Et.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(nn.min())?Ci.exists(!1):Ci.updateTime(n):Ci.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(nn.min()))throw new Bt(Et.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ci.updateTime(n)}return Ci.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Fv{constructor(e,n,o,l,c){this.asyncQueue=e,this.datastore=n,this.options=o,this.updateFunction=l,this.deferred=c,this.Wa=o.maxAttempts,this.zo=new jg(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,d.Z)(function*(){const n=new WE(e.datastore),o=e.za(n);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(c=>{e.ja(c)}))}).catch(l=>{e.ja(l)})}))}za(e){try{const n=this.updateFunction(e);return!Ns(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!M_(n)}return!1}}class qE{constructor(e,n,o,l){var c=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=l,this.user=Fn.UNAUTHENTICATED,this.clientId=yt.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var p=(0,d.Z)(function*(b){Vt("FirestoreClient","Received user=",b.uid),yield c.authCredentialListener(b),c.user=b});return function(b){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(o,p=>(Vt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,d.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Bt(Et.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const l=Yc(o,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function Yu(i,e){return Ku.apply(this,arguments)}function Ku(){return Ku=(0,d.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Vt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var l=(0,d.Z)(function*(c){o.isEqual(c)||(yield Uc(e.localStore,c),o=c)});return function(c){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Ku.apply(this,arguments)}function ap(i,e){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,d.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield ym(i);Vt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(l=>Gf(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,c)=>Gf(e.remoteStore,c)),i._onlineComponents=e}),Jc.apply(this,arguments)}function YE(i){return"FirebaseError"===i.name?i.code===Et.FAILED_PRECONDITION||i.code===Et.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function ym(i){return lp.apply(this,arguments)}function lp(){return lp=(0,d.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Vt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Yu(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!YE(n))throw n;Zi("Error using user provided cache. Falling back to memory cache: "+n),yield Yu(i,new Qc)}}else Vt("FirestoreClient","Using default OfflineComponentProvider"),yield Yu(i,new Qc);return i._offlineComponents}),lp.apply(this,arguments)}function Sh(i){return Em.apply(this,arguments)}function Em(){return Em=(0,d.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Vt("FirestoreClient","Using user provided OnlineComponentProvider"),yield ap(i,i._uninitializedComponentsProvider._online)):(Vt("FirestoreClient","Using default OnlineComponentProvider"),yield ap(i,new Cs))),i._onlineComponents}),Em.apply(this,arguments)}function Lv(i){return ym(i).then(e=>e.persistence)}function Zu(i){return ym(i).then(e=>e.localStore)}function Im(i){return Sh(i).then(e=>e.remoteStore)}function Xu(i){return Sh(i).then(e=>e.syncEngine)}function Qu(i){return up.apply(this,arguments)}function up(){return up=(0,d.Z)(function*(i){const e=yield Sh(i),n=e.eventManager;return n.onListen=Zc.bind(null,e.syncEngine),n.onUnlisten=rm.bind(null,e.syncEngine),n}),up.apply(this,arguments)}function Bv(i,e,n={}){const o=new Ii;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(c,p,b,P,H){const X=new sp({next:Ze=>{p.enqueueAndForget(()=>Yf(c,ye));const gt=Ze.docs.has(b);!gt&&Ze.fromCache?H.reject(new Bt(Et.UNAVAILABLE,"Failed to get document because the client is offline.")):gt&&Ze.fromCache&&P&&"server"===P.source?H.reject(new Bt(Et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):H.resolve(Ze)},error:Ze=>H.reject(Ze)}),ye=new Zf(Hd(b.path),X,{includeMetadataChanges:!0,J_:!0});return Iv(c,ye)}(yield Qu(i),i.asyncQueue,e,n,o)})),o.promise}function $v(i,e,n={}){const o=new Ii;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(c,p,b,P,H){const X=new sp({next:Ze=>{p.enqueueAndForget(()=>Yf(c,ye)),Ze.fromCache&&"server"===P.source?H.reject(new Bt(Et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):H.resolve(Ze)},error:Ze=>H.reject(Ze)}),ye=new Zf(b,X,{includeMetadataChanges:!0,J_:!0});return Iv(c,ye)}(yield Qu(i),i.asyncQueue,e,n,o)})),o.promise}function cp(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const jv=new Map;function ed(i,e,n){if(!n)throw new Bt(Et.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Hv(i,e,n,o){if(!0===e&&!0===o)throw new Bt(Et.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function zv(i){if(!rn.isDocumentKey(i))throw new Bt(Et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Gv(i){if(rn.isDocumentKey(i))throw new Bt(Et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function dp(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(o=i).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof i?"a function":mn()}function Vr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Bt(Et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dp(i);throw new Bt(Et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Wv(i,e){if(e<=0)throw new Bt(Et.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class qv{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Bt(Et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Bt(Et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=cp(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new Bt(Et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Bt(Et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Bt(Et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class td{constructor(e,n,o,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Bt(Et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Bt(Et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qv(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new I;switch(o.type){case"firstParty":return new N(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Bt(Et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=jv.get(n);o&&(Vt("ComponentProvider","Removing Datastore"),jv.delete(n),o.terminate())}(this),Promise.resolve()}}function Dm(i,e,n,o={}){var l;const c=(i=Vr(i,td))._getSettings(),p=`${e}:${n}`;if("firestore.googleapis.com"!==c.host&&c.host!==p&&Zi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:p,ssl:!1})),o.mockUserToken){let b,P;if("string"==typeof o.mockUserToken)b=o.mockUserToken,P=Fn.MOCK_USER;else{b=(0,oe.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const H=o.mockUserToken.sub||o.mockUserToken.user_id;if(!H)throw new Bt(Et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new Fn(H)}i._authCredentials=new A(new xs(b,P))}}class es{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new es(this.firestore,e,this._query)}}class Qi{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qi(this.firestore,e,this._key)}}class Ra extends es{constructor(e,n,o){super(e,n,Hd(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qi(this.firestore,null,new rn(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function nd(i,e,...n){if(i=(0,oe.m9)(i),ed("collection","path",e),i instanceof td){const o=lr.fromString(e,...n);return Gv(o),new Ra(i,null,o)}{if(!(i instanceof Qi||i instanceof Ra))throw new Bt(Et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(lr.fromString(e,...n));return Gv(o),new Ra(i.firestore,null,o)}}function Kl(i,e,...n){if(i=(0,oe.m9)(i),1===arguments.length&&(e=yt.newId()),ed("doc","path",e),i instanceof td){const o=lr.fromString(e,...n);return zv(o),new Qi(i,null,new rn(o))}{if(!(i instanceof Qi||i instanceof Ra))throw new Bt(Et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(lr.fromString(e,...n));return zv(o),new Qi(i.firestore,i instanceof Ra?i.converter:null,new rn(o))}}function Yv(i,e){return i=(0,oe.m9)(i),e=(0,oe.m9)(e),(i instanceof Qi||i instanceof Ra)&&(e instanceof Qi||e instanceof Ra)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Cm(i,e){return i=(0,oe.m9)(i),e=(0,oe.m9)(e),i instanceof es&&e instanceof es&&i.firestore===e.firestore&&Ac(i._query,e._query)&&i.converter===e.converter}class Tm{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new jg(this,"async_queue_retry"),this.iu=()=>{const n=_h();n&&Vt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=_h();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=_h();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Ii;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,d.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Ba(n))throw n;Vt("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(o=>{throw this.eu=o,this.tu=!1,zr("INTERNAL UNHANDLED ERROR: ",function(p){let b=p.message||"";return p.stack&&(b=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),b}(o)),o}).then(o=>(this.tu=!1,o))));return this.Ja=n,n}enqueueAfterDelay(e,n,o){this.su(),this.ru.indexOf(e)>-1&&(n=0);const l=Qg.createAndSchedule(this,e,n,o,c=>this.au(c));return this.Xa.push(l),l}su(){this.eu&&mn()}verifyOperationInProgress(){}uu(){var e=this;return(0,d.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function wm(i){return function(n,o){if("object"!=typeof n||null===n)return!1;const l=n;for(const c of["next","error","complete"])if(c in l&&"function"==typeof l[c])return!0;return!1}(i)}class rl{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ii,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ar extends td{constructor(e,n,o,l){super(e,n,o,l),this.type="firestore",this._queue=new Tm,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||fp(this),this._firestoreClient.terminate()}}function hp(i,e){const n="object"==typeof i?i:(0,be.getApp)(),o="string"==typeof i?i:e||"(default)",l=(0,be._getProvider)(n,"firestore").getImmediate({identifier:o});if(!l._initialized){const c=(0,oe.P0)("firestore");c&&Dm(l,...c)}return l}function ei(i){return i._firestoreClient||fp(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function fp(i){var e,n,o;const l=i._freezeSettings(),c=(P=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Wp(i._databaseId,P,i._persistenceKey,(X=l).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,cp(X.experimentalLongPollingOptions),X.useFetchStreams));var P,X;i._firestoreClient=new qE(i._authCredentials,i._appCheckCredentials,i._queue,c),null!==(n=l.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=l.localCache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function Ju(i,e,n){const o=new Ii;return i.asyncQueue.enqueue((0,d.Z)(function*(){try{yield Yu(i,n),yield ap(i,e),o.resolve()}catch(l){const c=l;if(!YE(c))throw c;Zi("Error enabling indexeddb cache. Falling back to memory cache: "+c),o.reject(c)}})).then(()=>o.promise)}function bm(i){if(i._initialized||i._terminated)throw new Bt(Et.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pa(To.fromBase64String(e))}catch(n){throw new Bt(Et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pa(To.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class il{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Bt(Et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zl{constructor(e){this._methodName=e}}class xh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Bt(Et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Bt(Et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}const Am=/^__.*__$/;class o0{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new bu(e,this.data,n,this.fieldTransforms)}}class s0{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new wa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function a0(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mn()}}class pp{constructor(e,n,o,l,c,p){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=l,void 0===c&&this.Pu(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new pp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Tu({path:o,du:!1});return l.Au(e),l}Ru(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Tu({path:o,du:!1});return l.Pu(),l}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return vp(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(a0(this.Iu)&&Am.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class l0{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||vh(e)}pu(e,n,o,l=!1){return new pp({Iu:e,methodName:n,gu:o,path:tr.emptyPath(),du:!1,fu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hd(i){const e=i._freezeSettings(),n=vh(i._databaseId);return new l0(i._databaseId,!!e.ignoreUndefinedProperties,n)}function gp(i,e,n,o,l,c={}){const p=i.pu(c.merge||c.mergeFields?2:0,e,n,l);ec("Data must be an object, but it was:",p,o);const b=Mm(o,p);let P,H;if(c.merge)P=new mo(p.fieldMask),H=p.fieldTransforms;else if(c.mergeFields){const X=[];for(const ye of c.mergeFields){const Ze=kh(e,ye,n);if(!p.contains(Ze))throw new Bt(Et.INVALID_ARGUMENT,`Field '${Ze}' is specified in your field mask but missing from your input data.`);yp(X,Ze)||X.push(Ze)}P=new mo(X),H=p.fieldTransforms.filter(ye=>P.covers(ye.field))}else P=null,H=p.fieldTransforms;return new o0(new wo(b),P,H)}class mp extends Zl{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mp}}function Xv(i,e,n){return new pp({Iu:3,gu:e.settings.gu,methodName:i._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Sm extends Zl{_toFieldTransform(e){return new wu(e.path,new Sc)}isEqual(e){return e instanceof Sm}}class u0 extends Zl{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=Xv(this,e,!0),o=this.yu.map(c=>Ma(c,n)),l=new Bl(o);return new wu(e.path,l)}isEqual(e){return this===e}}class Rm extends Zl{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=Xv(this,e,!0),o=this.yu.map(c=>Ma(c,n)),l=new $l(o);return new wu(e.path,l)}isEqual(e){return this===e}}class Oh extends Zl{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new Tu(e.serializer,cf(e.serializer,this.wu));return new wu(e.path,n)}isEqual(e){return this===e}}function Nh(i,e,n,o){const l=i.pu(1,e,n);ec("Data must be an object, but it was:",l,o);const c=[],p=wo.empty();Qs(o,(P,H)=>{const X=_p(e,P,n);H=(0,oe.m9)(H);const ye=l.Ru(X);if(H instanceof mp)c.push(X);else{const Ze=Ma(H,ye);null!=Ze&&(c.push(X),p.set(X,Ze))}});const b=new mo(c);return new s0(p,b,l.fieldTransforms)}function fd(i,e,n,o,l,c){const p=i.pu(1,e,n),b=[kh(e,o,n)],P=[l];if(c.length%2!=0)throw new Bt(Et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ze=0;Ze<c.length;Ze+=2)b.push(kh(e,c[Ze])),P.push(c[Ze+1]);const H=[],X=wo.empty();for(let Ze=b.length-1;Ze>=0;--Ze)if(!yp(H,b[Ze])){const gt=b[Ze];let Jt=P[Ze];Jt=(0,oe.m9)(Jt);const sn=p.Ru(gt);if(Jt instanceof mp)H.push(gt);else{const on=Ma(Jt,sn);null!=on&&(H.push(gt),X.set(gt,on))}}const ye=new mo(H);return new s0(X,ye,p.fieldTransforms)}function Pm(i,e,n,o=!1){return Ma(n,i.pu(o?4:3,e))}function Ma(i,e){if(Qv(i=(0,oe.m9)(i)))return ec("Unsupported field value:",e,i),Mm(i,e);if(i instanceof Zl)return function(o,l){if(!a0(l.Iu))throw l.mu(`${o._methodName}() can only be used with update() and set()`);if(!l.path)throw l.mu(`${o._methodName}() is not currently supported inside arrays`);const c=o._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(o,l){const c=[];let p=0;for(const b of o){let P=Ma(b,l.Vu(p));null==P&&(P={nullValue:"NULL_VALUE"}),c.push(P),p++}return{arrayValue:{values:c}}}(i,e)}return function(o,l){if(null===(o=(0,oe.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return cf(l.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const c=hr.fromDate(o);return{timestampValue:Nc(l.serializer,c)}}if(o instanceof hr){const c=new hr(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Nc(l.serializer,c)}}if(o instanceof xh)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Pa)return{bytesValue:hg(l.serializer,o._byteString)};if(o instanceof Qi){const c=l.databaseId,p=o.firestore._databaseId;if(!p.isEqual(c))throw l.mu(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:fg(o.firestore._databaseId||l.databaseId,o._key.path)}}throw l.mu(`Unsupported field value: ${dp(o)}`)}(i,e)}function Mm(i,e){const n={};return Md(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(i,(o,l)=>{const c=Ma(l,e.Eu(o));null!=c&&(n[o]=c)}),{mapValue:{fields:n}}}function Qv(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof hr||i instanceof xh||i instanceof Pa||i instanceof Qi||i instanceof Zl)}function ec(i,e,n){if(!Qv(n)||"object"!=typeof(l=n)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const o=dp(n);throw e.mu("an object"===o?i+" a custom object":i+" "+o)}var l}function kh(i,e,n){if((e=(0,oe.m9)(e))instanceof il)return e._internalPath;if("string"==typeof e)return _p(i,e);throw vp("Field path arguments must be of type string or ",i,!1,void 0,n)}const c0=new RegExp("[~\\*/\\[\\]]");function _p(i,e,n){if(e.search(c0)>=0)throw vp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new il(...e.split("."))._internalPath}catch{throw vp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function vp(i,e,n,o,l){const c=o&&!o.isEmpty(),p=void 0!==l;let b=`Function ${e}() called with invalid data`;n&&(b+=" (via `toFirestore()`)"),b+=". ";let P="";return(c||p)&&(P+=" (found",c&&(P+=` in field ${o}`),p&&(P+=` in document ${l}`),P+=")"),new Bt(Et.INVALID_ARGUMENT,b+i+P)}function yp(i,e){return i.some(n=>n.isEqual(e))}class Xl{constructor(e,n,o,l,c){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Qi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ep(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Ep extends Xl{data(){return super.data()}}function xm(i,e){return"string"==typeof e?_p(i,e):e instanceof il?e._internalPath:e._delegate._internalPath}function Jv(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Bt(Et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Om{}class tc extends Om{}function Ql(i,e,...n){let o=[];e instanceof Om&&o.push(e),o=o.concat(n),function(c){const p=c.filter(P=>P instanceof gd).length,b=c.filter(P=>P instanceof pd).length;if(p>1||p>0&&b>0)throw new Bt(Et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const l of o)i=l._apply(i);return i}class pd extends tc{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new pd(e,n,o)}_apply(e){const n=this._parse(e);return ry(e._query,n),new es(e.firestore,e.converter,bc(e._query,n))}_parse(e){const n=hd(e.firestore);return function(c,p,b,P,H,X,ye){let Ze;if(H.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new Bt(Et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on documentId().`);if("in"===X||"not-in"===X){ny(ye,X);const gt=[];for(const Jt of ye)gt.push(ty(P,c,Jt));Ze={arrayValue:{values:gt}}}else Ze=ty(P,c,ye)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||ny(ye,X),Ze=Pm(b,"where",ye,"in"===X||"not-in"===X);return Pr.create(H,X,Ze)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class gd extends Om{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gd(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:E.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(l,c){let p=l;const b=c.getFlattenedFilters();for(const P of b)ry(p,P),p=bc(p,P)}(e._query,n),new es(e.firestore,e.converter,bc(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ip extends tc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ip(e,n)}_apply(e){const n=function(l,c,p){if(null!==l.startAt)throw new Bt(Et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new Bt(Et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qa(c,p)}(e._query,this._field,this._direction);return new es(e.firestore,e.converter,function(l,c){const p=l.explicitOrderBy.concat([c]);return new na(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}class Dp extends tc{constructor(e,n,o){super(),this.type=e,this._limit=n,this._limitType=o}static _create(e,n,o){return new Dp(e,n,o)}_apply(e){return new es(e.firestore,e.converter,Du(e._query,this._limit,this._limitType))}}class md extends tc{constructor(e,n,o){super(),this.type=e,this._docOrFields=n,this._inclusive=o}static _create(e,n,o){return new md(e,n,o)}_apply(e){const n=Fm(e,this.type,this._docOrFields,this._inclusive);return new es(e.firestore,e.converter,(c=n,new na((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,c,l.endAt)));var l,c}}class nc extends tc{constructor(e,n,o){super(),this.type=e,this._docOrFields=n,this._inclusive=o}static _create(e,n,o){return new nc(e,n,o)}_apply(e){const n=Fm(e,this.type,this._docOrFields,this._inclusive);return new es(e.firestore,e.converter,(c=n,new na((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,c)));var l,c}}function Fm(i,e,n,o){if(n[0]=(0,oe.m9)(n[0]),n[0]instanceof Xl)return function(c,p,b,P,H){if(!P)throw new Bt(Et.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const X=[];for(const ye of zd(c))if(ye.field.isKeyField())X.push(Ta(p,P.key));else{const Ze=P.data.field(ye.field);if(Od(Ze))throw new Bt(Et.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ze){const gt=ye.field.canonicalString();throw new Bt(Et.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${gt}' (used as the orderBy) does not exist.`)}X.push(Ze)}return new Wa(X,H)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const l=hd(i.firestore);return function(p,b,P,H,X,ye){const Ze=p.explicitOrderBy;if(X.length>Ze.length)throw new Bt(Et.INVALID_ARGUMENT,`Too many arguments provided to ${H}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const gt=[];for(let Jt=0;Jt<X.length;Jt++){const sn=X[Jt];if(Ze[Jt].field.isKeyField()){if("string"!=typeof sn)throw new Bt(Et.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${H}(), but got a ${typeof sn}`);if(!v_(p)&&-1!==sn.indexOf("/"))throw new Bt(Et.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${H}() must be a plain document ID, but '${sn}' contains a slash.`);const on=p.path.child(lr.fromString(sn));if(!rn.isDocumentKey(on))throw new Bt(Et.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${H}() must result in a valid document path, but '${on}' is not because it contains an odd number of segments.`);const Cn=new rn(on);gt.push(Ta(b,Cn))}else{const on=Pm(P,H,sn);gt.push(on)}}return new Wa(gt,ye)}(i._query,i.firestore._databaseId,l,e,n,o)}}function ty(i,e,n){if("string"==typeof(n=(0,oe.m9)(n))){if(""===n)throw new Bt(Et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v_(e)&&-1!==n.indexOf("/"))throw new Bt(Et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(lr.fromString(n));if(!rn.isDocumentKey(o))throw new Bt(Et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Ta(i,new rn(o))}if(n instanceof Qi)return Ta(i,n._key);throw new Bt(Et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dp(n)}.`)}function ny(i,e){if(!Array.isArray(i)||0===i.length)throw new Bt(Et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ry(i,e){const n=function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Bt(Et.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Fh{convertValue(e,n="none"){switch(Ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return so(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw mn()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Qs(e,(l,c)=>{o[l]=this.convertValue(c,n)}),o}convertGeoPoint(e){return new xh(so(e.latitude),so(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Da(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(yl(e));default:return null}}convertTimestamp(e){const n=vl(e);return new hr(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=lr.fromString(e);bn(B_(o));const l=new Di(o.get(1),o.get(3)),c=new rn(o.popFirst(5));return l.isEqual(n)||zr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function _d(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class iy extends Fh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qi(this.firestore,null,n)}}class Tl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ol extends Xl{constructor(e,n,o,l,c,p){super(e,n,o,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(xm("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Lh extends ol{data(e={}){return super.data(e)}}class wl{constructor(e,n,o,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Tl(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Lh(this._firestore,this._userDataWriter,o.key,o,new Tl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Bt(Et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map(b=>({type:"added",doc:new Lh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Tl(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:p++}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(b=>c||3!==b.type).map(b=>{const P=new Lh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Tl(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let H=-1,X=-1;return 0!==b.type&&(H=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),1!==b.type&&(p=p.add(b.doc),X=p.indexOf(b.doc.key)),{type:ay(b.type),doc:P,oldIndex:H,newIndex:X}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ay(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mn()}}function Lm(i,e){return i instanceof ol&&e instanceof ol?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof wl&&e instanceof wl&&i._firestore===e._firestore&&Cm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Vm(i){i=Vr(i,Qi);const e=Vr(i.firestore,Ar);return Bv(ei(e),i._key).then(n=>vd(e,i,n))}class Jl extends Fh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qi(this.firestore,null,n)}}function wp(i){i=Vr(i,es);const e=Vr(i.firestore,Ar),n=ei(e),o=new Jl(e);return Jv(i._query),$v(n,i._query).then(l=>new wl(e,o,i,l))}function bp(i,e,n){i=Vr(i,Qi);const o=Vr(i.firestore,Ar),l=_d(i.converter,e,n);return rc(o,[gp(hd(o),"setDoc",i._key,l,null!==i.converter,n).toMutation(i._key,Ci.none())])}function $m(i,e,n,...o){i=Vr(i,Qi);const l=Vr(i.firestore,Ar),c=hd(l);let p;return p="string"==typeof(e=(0,oe.m9)(e))||e instanceof il?fd(c,"updateDoc",i._key,e,n,o):Nh(c,"updateDoc",i._key,e),rc(l,[p.toMutation(i._key,Ci.exists(!0))])}function Um(i,e){const n=Vr(i.firestore,Ar),o=Kl(i),l=_d(i.converter,e);return rc(n,[gp(hd(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,Ci.exists(!1))]).then(()=>o)}function jm(i,...e){var n,o,l;i=(0,oe.m9)(i);let c={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||wm(e[p])||(c=e[p],p++);const b={includeMetadataChanges:c.includeMetadataChanges};if(wm(e[p])){const ye=e[p];e[p]=null===(n=ye.next)||void 0===n?void 0:n.bind(ye),e[p+1]=null===(o=ye.error)||void 0===o?void 0:o.bind(ye),e[p+2]=null===(l=ye.complete)||void 0===l?void 0:l.bind(ye)}let P,H,X;if(i instanceof Qi)H=Vr(i.firestore,Ar),X=Hd(i._key.path),P={next:ye=>{e[p]&&e[p](vd(H,i,ye))},error:e[p+1],complete:e[p+2]};else{const ye=Vr(i,es);H=Vr(ye.firestore,Ar),X=ye._query;const Ze=new Jl(H);P={next:gt=>{e[p]&&e[p](new wl(H,Ze,ye,gt))},error:e[p+1],complete:e[p+2]},Jv(i._query)}return function(Ze,gt,Jt,sn){const on=new sp(sn),Cn=new Zf(gt,on,Jt);return Ze.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return Iv(yield Qu(Ze),Cn)})),()=>{on.Na(),Ze.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return Yf(yield Qu(Ze),Cn)}))}}(ei(H),X,b,P)}function rc(i,e){return function(o,l){const c=new Ii;return o.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function im(i,e,n){return Jf.apply(this,arguments)}(yield Xu(o),l,c)})),c.promise}(ei(i),e)}function vd(i,e,n){const o=n.docs.get(e._key),l=new Jl(i);return new ol(i,l,e._key,o,new Tl(n.hasPendingWrites,n.fromCache),e.converter)}const Mo={maxAttempts:5};class Gm{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=hd(e)}set(e,n,o){this._verifyNotCommitted();const l=eu(e,this._firestore),c=_d(l.converter,n,o),p=gp(this._dataReader,"WriteBatch.set",l._key,c,null!==l.converter,o);return this._mutations.push(p.toMutation(l._key,Ci.none())),this}update(e,n,o,...l){this._verifyNotCommitted();const c=eu(e,this._firestore);let p;return p="string"==typeof(n=(0,oe.m9)(n))||n instanceof il?fd(this._dataReader,"WriteBatch.update",c._key,n,o,l):Nh(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(p.toMutation(c._key,Ci.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=eu(e,this._firestore);return this._mutations=this._mutations.concat(new Mc(n._key,Ci.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Bt(Et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function eu(i,e){if((i=(0,oe.m9)(i)).firestore!==e)throw new Bt(Et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class D0 extends class{constructor(n,o){this._firestore=n,this._transaction=o,this._dataReader=hd(n)}get(n){const o=eu(n,this._firestore),l=new iy(this._firestore);return this._transaction.lookup([o._key]).then(c=>{if(!c||1!==c.length)return mn();const p=c[0];if(p.isFoundDocument())return new Xl(this._firestore,l,p.key,p,o.converter);if(p.isNoDocument())return new Xl(this._firestore,l,o._key,null,o.converter);throw mn()})}set(n,o,l){const c=eu(n,this._firestore),p=_d(c.converter,o,l),b=gp(this._dataReader,"Transaction.set",c._key,p,null!==c.converter,l);return this._transaction.set(c._key,b),this}update(n,o,l,...c){const p=eu(n,this._firestore);let b;return b="string"==typeof(o=(0,oe.m9)(o))||o instanceof il?fd(this._dataReader,"Transaction.update",p._key,o,l,c):Nh(this._dataReader,"Transaction.update",p._key,o),this._transaction.update(p._key,b),this}delete(n){const o=eu(n,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=eu(e,this._firestore),o=new Jl(this._firestore);return super.get(e).then(l=>new ol(this._firestore,o,n._key,l._document,new Tl(!1,!1),n.converter))}}function qm(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Bt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ty(){if(typeof Uint8Array>"u")throw new Bt("unimplemented","Uint8Arrays are not available in this environment.")}function wy(){if(!function Gp(){return typeof atob<"u"}())throw new Bt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){ga=be.SDK_VERSION,(0,be._registerComponent)(new qe.wA("firestore",(o,{instanceIdentifier:l,options:c})=>{const p=o.getProvider("app").getImmediate(),b=new Ar(new M(o.getProvider("auth-internal")),new pe(o.getProvider("app-check-internal")),function(H,X){if(!Object.prototype.hasOwnProperty.apply(H.options,["projectId"]))throw new Bt(Et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Di(H.options.projectId,X)}(p,l),p);return c=Object.assign({useFetchStreams:n},c),b._setSettings(c),b},"PUBLIC").setMultipleInstances(!0)),(0,be.registerVersion)(Ut,"4.3.2",e),(0,be.registerVersion)(Ut,"4.3.2","esm2017")}();class Vh{constructor(e){this._delegate=e}static fromBase64String(e){return wy(),new Vh(Pa.fromBase64String(e))}static fromUint8Array(e){return Ty(),new Vh(Pa.fromUint8Array(e))}toBase64(){return wy(),this._delegate.toBase64()}toUint8Array(){return Ty(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Bh(i){return function $h(i,e){if("object"!=typeof i||null===i)return!1;const n=i;for(const o of e)if(o in n&&"function"==typeof n[o])return!0;return!1}(i,["next","error","complete"])}class A0{enableIndexedDbPersistence(e,n){return function id(i,e){bm(i=Vr(i,Ar));const n=ei(i);if(n._uninitializedComponentsProvider)throw new Bt(Et.FAILED_PRECONDITION,"SDK cache is already specified.");Zi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=i._freezeSettings(),l=new Cs;return Ju(n,l,new ip(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function od(i){bm(i=Vr(i,Ar));const e=ei(i);if(e._uninitializedComponentsProvider)throw new Bt(Et.FAILED_PRECONDITION,"SDK cache is already specified.");Zi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=i._freezeSettings(),o=new Cs;return Ju(e,o,new op(o,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function sd(i){if(i._initialized&&!i._terminated)throw new Bt(Et.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ii;return i._queue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{yield(n=(0,d.Z)(function*(l){if(!jo.D())return Promise.resolve();const c=l+"main";yield jo.delete(c)}),function o(l){return n.apply(this,arguments)})(Gl(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class Ym{constructor(e,n,o){this._delegate=n,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Di||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Zi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,o={}){Dm(this._delegate,e,n,o)}enableNetwork(){return function ld(i){return function KE(i){return i.asyncQueue.enqueue((0,d.Z)(function*(){const e=yield Lv(i),n=yield Im(i);return e.setNetworkEnabled(!0),function(l){const c=Qt(l);return c.C_.delete(0),ps(c)}(n)}))}(ei(i=Vr(i,Ar)))}(this._delegate)}disableNetwork(){return function ud(i){return function ZE(i){return i.asyncQueue.enqueue((0,d.Z)(function*(){const e=yield Lv(i),n=yield Im(i);return e.setNetworkEnabled(!1),(o=(0,d.Z)(function*(c){const p=Qt(c);p.C_.add(0),yield zc(p),p.M_.set("Offline")}),function l(c){return o.apply(this,arguments)})(n);var o}))}(ei(i=Vr(i,Ar)))}(this._delegate)}enablePersistence(e){let n=!1,o=!1;return e&&(n=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Hv("synchronizeTabs",n,"experimentalForceOwningTab",o)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ad(i){return function(n){const o=new Ii;return n.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function bv(i,e){return np.apply(this,arguments)}(yield Xu(n),o)})),o.promise}(ei(i=Vr(i,Ar)))}(this._delegate)}onSnapshotsInSync(e){return function hy(i,e){return function QE(i,e){const n=new sp(e);return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return l=yield Qu(i),c=n,Qt(l).q_.add(c),void c.next();var l,c})),()=>{n.Na(),i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return l=yield Qu(i),c=n,void Qt(l).q_.delete(c);var l,c}))}}(ei(i=Vr(i,Ar)),wm(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Bt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new sc(this,nd(this._delegate,e))}catch(n){throw as(n,"collection()","Firestore.collection()")}}doc(e){try{return new aa(this,Kl(this._delegate,e))}catch(n){throw as(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ts(this,function QI(i,e){if(i=Vr(i,td),ed("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Bt(Et.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new es(i,null,(o=e,new na(lr.emptyPath(),o)));var o}(this._delegate,e))}catch(n){throw as(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function gy(i,e,n){i=Vr(i,Ar);const o=Object.assign(Object.assign({},Mo),n);return function(c){if(c.maxAttempts<1)throw new Bt(Et.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(c,p,b){const P=new Ii;return c.asyncQueue.enqueueAndForget((0,d.Z)(function*(){const H=yield function Vv(i){return Sh(i).then(e=>e.datastore)}(c);new Fv(c.asyncQueue,H,b,p,P).run()})),P.promise}(ei(i),l=>e(new D0(i,l)),o)}(this._delegate,n=>e(new Km(this,n)))}batch(){return ei(this._delegate),new Zm(new Gm(this._delegate,e=>rc(this._delegate,e)))}loadBundle(e){return function cd(i,e){const n=ei(i=Vr(i,Ar)),o=new rl;return function JE(i,e,n,o){const l=function(p,b){let P;return P="string"==typeof p?Ul().encode(p):p,X=function(X,ye){if(X instanceof Uint8Array)return kv(X,void 0);if(X instanceof ArrayBuffer)return kv(new Uint8Array(X),void 0);if(X instanceof ReadableStream)return X.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(P),new vm(X,b);var X}(n,vh(e));i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){!function Ov(i,e,n){const o=Qt(i);var l;(l=(0,d.Z)(function*(p,b,P){try{const H=yield b.getMetadata();if(yield function(Jt,sn){const on=Qt(Jt),Cn=vo(sn.createTime);return on.persistence.runTransaction("hasNewerBundle","readonly",$n=>on.Kr.getBundleMetadata($n,sn.id)).then($n=>!!$n&&$n.createTime.compareTo(Cn)>=0)}(p.localStore,H))return yield b.close(),P._completeWith({taskState:"Success",documentsLoaded:(Jt=H).totalDocuments,bytesLoaded:Jt.totalBytes,totalDocuments:Jt.totalDocuments,totalBytes:Jt.totalBytes}),Promise.resolve(new Set);P._updateProgress(ur(H));const X=new Cv(H,p.localStore,b.serializer);let ye=yield b.Ma();for(;ye;){const gt=yield X.ea(ye);gt&&P._updateProgress(gt),ye=yield b.Ma()}const Ze=yield X.complete();return yield nl(p,Ze.ra,void 0),yield function(Jt,sn){const on=Qt(Jt);return on.persistence.runTransaction("Save bundle","readwrite",Cn=>on.Kr.saveBundleMetadata(Cn,sn))}(p.localStore,H),P._completeWith(Ze.progress),Promise.resolve(Ze.na)}catch(H){return Zi("SyncEngine",`Loading bundle failed with ${H}`),P._failWith(H),Promise.resolve(new Set)}var Jt}),function c(p,b,P){return l.apply(this,arguments)})(o,e,n).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield Xu(i),l,o)}))}(n,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Kv(i,e){return function e0(i,e){return i.asyncQueue.enqueue((0,d.Z)(function*(){return function(o,l){const c=Qt(o);return c.persistence.runTransaction("Get named query","readonly",p=>c.Kr.getNamedQuery(p,l))}(yield Zu(i),e)}))}(ei(i=Vr(i,Ar)),e).then(n=>n?new es(i,null,n.query):null)}(this._delegate,e).then(n=>n?new ts(this,n):null)}}class Ap extends Fh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vh(new Pa(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return aa.forKey(n,this.firestore,null)}}class Km{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Ap(e)}get(e){const n=tu(e);return this._delegate.get(n).then(o=>new Uh(this._firestore,new ol(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,n.converter)))}set(e,n,o){const l=tu(e);return o?(qm("Transaction.set",o),this._delegate.set(l,n,o)):this._delegate.set(l,n),this}update(e,n,o,...l){const c=tu(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,o,...l),this}delete(e){const n=tu(e);return this._delegate.delete(n),this}}class Zm{constructor(e){this._delegate=e}set(e,n,o){const l=tu(e);return o?(qm("WriteBatch.set",o),this._delegate.set(l,n,o)):this._delegate.set(l,n),this}update(e,n,o,...l){const c=tu(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,o,...l),this}delete(e){const n=tu(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class sl{constructor(e,n,o){this._firestore=e,this._userDataWriter=n,this._delegate=o}fromFirestore(e,n){const o=new Lh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jh(this._firestore,o),null!=n?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const o=sl.INSTANCES;let l=o.get(e);l||(l=new WeakMap,o.set(e,l));let c=l.get(n);return c||(c=new sl(e,new Ap(e),n),l.set(n,c)),c}}sl.INSTANCES=new WeakMap;class aa{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Ap(e)}static forPath(e,n,o){if(e.length%2!=0)throw new Bt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new aa(n,new Qi(n._delegate,o,new rn(e)))}static forKey(e,n,o){return new aa(n,new Qi(n._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new sc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new sc(this.firestore,nd(this._delegate,e))}catch(n){throw as(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,oe.m9)(e))instanceof Qi&&Yv(this._delegate,e)}set(e,n){n=qm("DocumentReference.set",n);try{return n?bp(this._delegate,e,n):bp(this._delegate,e)}catch(o){throw as(o,"setDoc()","DocumentReference.set()")}}update(e,n,...o){try{return 1===arguments.length?$m(this._delegate,e):$m(this._delegate,e,n,...o)}catch(l){throw as(l,"updateDoc()","DocumentReference.update()")}}delete(){return function dy(i){return rc(Vr(i.firestore,Ar),[new Mc(i._key,Ci.none())])}(this._delegate)}onSnapshot(...e){const n=Xm(e),o=Qm(e,l=>new Uh(this.firestore,new ol(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return jm(this._delegate,n,o)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function ly(i){i=Vr(i,Qi);const e=Vr(i.firestore,Ar),n=ei(e),o=new Jl(e);return function Rh(i,e){const n=new Ii;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(o=(0,d.Z)(function*(c,p,b){try{const P=yield function(X,ye){const Ze=Qt(X);return Ze.persistence.runTransaction("read document","readonly",gt=>Ze.localDocuments.getDocument(gt,ye))}(c,p);P.isFoundDocument()?b.resolve(P):P.isNoDocument()?b.resolve(null):b.reject(new Bt(Et.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(P){const H=Yc(P,`Failed to get document '${p} from cache`);b.reject(H)}}),function l(c,p,b){return o.apply(this,arguments)})(yield Zu(i),e,n);var o})),n.promise}(n,i._key).then(l=>new ol(e,o,i._key,l,new Tl(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function uy(i){i=Vr(i,Qi);const e=Vr(i.firestore,Ar);return Bv(ei(e),i._key,{source:"server"}).then(n=>vd(e,i,n))}(this._delegate):Vm(this._delegate),n.then(o=>new Uh(this.firestore,new ol(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new aa(this.firestore,this._delegate.withConverter(e?sl.getInstance(this.firestore,e):null))}}function as(i,e,n){return i.message=i.message.replace(e,n),i}function Xm(i){for(const e of i)if("object"==typeof e&&!Bh(e))return e;return{}}function Qm(i,e){var n,o;let l;return l=Bh(i[0])?i[0]:Bh(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:c=>{l.next&&l.next(e(c))},error:null===(n=l.error)||void 0===n?void 0:n.bind(l),complete:null===(o=l.complete)||void 0===o?void 0:o.bind(l)}}class Uh{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new aa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Lm(this._delegate,e._delegate)}}class jh extends Uh{data(e){const n=this._delegate.data(e);return function fc(i,e){i||mn()}(void 0!==n),n}}class ts{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Ap(e)}where(e,n,o){try{return new ts(this.firestore,Ql(this._delegate,function d0(i,e,n){const o=e,l=xm("where",i);return pd._create(l,o,n)}(e,n,o)))}catch(l){throw as(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new ts(this.firestore,Ql(this._delegate,function p0(i,e="asc"){const n=e,o=xm("orderBy",i);return Ip._create(o,n)}(e,n)))}catch(o){throw as(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ts(this.firestore,Ql(this._delegate,function g0(i){return Wv("limit",i),Dp._create("limit",i,"F")}(e)))}catch(n){throw as(n,"limit()","Query.limit()")}}limitToLast(e){try{return new ts(this.firestore,Ql(this._delegate,function ey(i){return Wv("limitToLast",i),Dp._create("limitToLast",i,"L")}(e)))}catch(n){throw as(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ts(this.firestore,Ql(this._delegate,function Nm(...i){return md._create("startAt",i,!0)}(...e)))}catch(n){throw as(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ts(this.firestore,Ql(this._delegate,function m0(...i){return md._create("startAfter",i,!1)}(...e)))}catch(n){throw as(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ts(this.firestore,Ql(this._delegate,function Cp(...i){return nc._create("endBefore",i,!1)}(...e)))}catch(n){throw as(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ts(this.firestore,Ql(this._delegate,function km(...i){return nc._create("endAt",i,!0)}(...e)))}catch(n){throw as(n,"endAt()","Query.endAt()")}}isEqual(e){return Cm(this._delegate,e._delegate)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function Bm(i){i=Vr(i,es);const e=Vr(i.firestore,Ar),n=ei(e),o=new Jl(e);return function XE(i,e){const n=new Ii;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(o=(0,d.Z)(function*(c,p,b){try{const P=yield Nf(c,p,!0),H=new Wu(p,P.ls),X=H.ca(P.documents),ye=H.applyChanges(X,!1);b.resolve(ye.snapshot)}catch(P){const H=Yc(P,`Failed to execute query '${p} against cache`);b.reject(H)}}),function l(c,p,b){return o.apply(this,arguments)})(yield Zu(i),e,n);var o})),n.promise}(n,i._query).then(l=>new wl(e,o,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function cy(i){i=Vr(i,es);const e=Vr(i.firestore,Ar),n=ei(e),o=new Jl(e);return $v(n,i._query,{source:"server"}).then(l=>new wl(e,o,i,l))}(this._delegate):wp(this._delegate),n.then(o=>new Rp(this.firestore,new wl(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const n=Xm(e),o=Qm(e,l=>new Rp(this.firestore,new wl(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return jm(this._delegate,n,o)}withConverter(e){return new ts(this.firestore,this._delegate.withConverter(e?sl.getInstance(this.firestore,e):null))}}class Sp{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new jh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Rp{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new ts(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new jh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Sp(this._firestore,n))}forEach(e,n){this._delegate.forEach(o=>{e.call(n,new jh(this._firestore,o))})}isEqual(e){return Lm(this._delegate,e._delegate)}}class sc extends ts{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new aa(this.firestore,e):null}doc(e){try{return new aa(this.firestore,void 0===e?Kl(this._delegate):Kl(this._delegate,e))}catch(n){throw as(n,"doc()","CollectionReference.doc()")}}add(e){return Um(this._delegate,e).then(n=>new aa(this.firestore,n))}isEqual(e){return Yv(this._delegate,e._delegate)}withConverter(e){return new sc(this.firestore,this._delegate.withConverter(e?sl.getInstance(this.firestore,e):null))}}function tu(i){return Vr(i,Qi)}class Pp{constructor(...e){this._delegate=new il(...e)}static documentId(){return new Pp(tr.keyField().canonicalString())}isEqual(e){return(e=(0,oe.m9)(e))instanceof il&&this._delegate._internalPath.isEqual(e._internalPath)}}class nu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function my(){return new Sm("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new nu(e)}static delete(){const e=function C0(){return new mp("deleteField")}();return e._methodName="FieldValue.delete",new nu(e)}static arrayUnion(...e){const n=function _y(...i){return new u0("arrayUnion",i)}(...e);return n._methodName="FieldValue.arrayUnion",new nu(n)}static arrayRemove(...e){const n=function yd(...i){return new Rm("arrayRemove",i)}(...e);return n._methodName="FieldValue.arrayRemove",new nu(n)}static increment(e){const n=function T0(i){return new Oh("increment",i)}(e);return n._methodName="FieldValue.increment",new nu(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const by={Firestore:Ym,GeoPoint:xh,Timestamp:hr,Blob:Vh,Transaction:Km,WriteBatch:Zm,DocumentReference:aa,DocumentSnapshot:Uh,Query:ts,QueryDocumentSnapshot:jh,QuerySnapshot:Rp,CollectionReference:sc,FieldPath:Pp,FieldValue:nu,setLogLevel:function S0(i){!function hc(i){Ms.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function Ry(i,e){return function R0(i,e=nt.z){return new re.y(n=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},n)}):o=i.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=o&&o()}})}(i,e)}function Jm(i,e){return Ry(i,e).pipe((0,xe.U)(n=>({payload:n,type:"query"})))}!function Sy(i){(function Ay(i,e){i.INTERNAL.registerComponent(new qe.wA("firestore-compat",n=>{const o=n.getProvider("app-compat").getImmediate(),l=n.getProvider("firestore").getImmediate();return e(o,l)},"PUBLIC").setServiceProps(Object.assign({},by)))})(i,(e,n)=>new Ym(e,n,new A0)),i.registerVersion("@firebase/firestore-compat","0.3.21")}(Ot.Z);class Py{constructor(e,n){(0,Y.Z)(this,"ref",void 0),(0,Y.Z)(this,"afs",void 0),this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const o=this.ref.collection(e),{ref:l,query:c}=ky(o,n);return new Ny(l,c,this.afs)}snapshotChanges(){return function P0(i,e){return Ry(i,e).pipe((0,St.O)(void 0),Je(),(0,xe.U)(n=>{const[o,l]=n;return l.exists?null!=o&&o.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(te.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,xe.U)(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return(0,ue.D)(this.ref.get(e)).pipe(te.iC)}}function Mp(i,e){return Jm(i,e).pipe((0,St.O)(void 0),Je(),(0,xe.U)(n=>{const[o,l]=n,c=l.payload.docChanges(),p=c.map(b=>({type:b.type,payload:b}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((b,P)=>{const H=c.find(ye=>ye.doc.ref.isEqual(b.ref)),X=null==o?void 0:o.payload.docs.find(ye=>ye.ref.isEqual(b.ref));H&&JSON.stringify(H.doc.metadata)===JSON.stringify(b.metadata)||!H&&X&&JSON.stringify(X.metadata)===JSON.stringify(b.metadata)||p.push({type:"modified",payload:{oldIndex:P,newIndex:P,type:"modified",doc:b}})}),p}))}function My(i,e,n){return Mp(i,n).pipe((0,mt.R)((o,l)=>function M0(i,e,n){return e.forEach(o=>{n.indexOf(o.type)>-1&&(i=function xy(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return e_(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=i.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return e_(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return e_(i,e.oldIndex,1)}return i}(i,o))}),i}(o,l.map(c=>c.payload),e),[]),(0,_t.x)(),(0,xe.U)(o=>o.map(l=>({type:l.type,payload:l}))))}function e_(i,e,n,...o){const l=i.slice();return l.splice(e,n,...o),l}function Oy(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Ny{constructor(e,n,o){(0,Y.Z)(this,"ref",void 0),(0,Y.Z)(this,"query",void 0),(0,Y.Z)(this,"afs",void 0),this.ref=e,this.query=n,this.afs=o}stateChanges(e){let n=Mp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,xe.U)(o=>o.filter(l=>e.indexOf(l.type)>-1)))),n.pipe((0,St.O)(void 0),Je(),(0,ze.h)(([o,l])=>l.length>0||!o),(0,xe.U)(([,o])=>o),te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,mt.R)((n,o)=>[...n,...o],[]))}snapshotChanges(e){const n=Oy(e);return My(this.query,n,this.afs.schedulers.outsideAngular).pipe(te.iC)}valueChanges(e={}){return Jm(this.query,this.afs.schedulers.outsideAngular).pipe((0,xe.U)(n=>n.payload.docs.map(o=>e.idField?{...o.data(),[e.idField]:o.id}:o.data())),te.iC)}get(e){return(0,ue.D)(this.query.get(e)).pipe(te.iC)}add(e){return this.ref.add(e)}doc(e){return new Py(this.ref.doc(e),this.afs)}}class x0{constructor(e,n){(0,Y.Z)(this,"query",void 0),(0,Y.Z)(this,"afs",void 0),this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?Mp(this.query,this.afs.schedulers.outsideAngular).pipe((0,xe.U)(n=>n.filter(o=>e.indexOf(o.type)>-1)),(0,ze.h)(n=>n.length>0),te.iC):Mp(this.query,this.afs.schedulers.outsideAngular).pipe(te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,mt.R)((n,o)=>[...n,...o],[]))}snapshotChanges(e){const n=Oy(e);return My(this.query,n,this.afs.schedulers.outsideAngular).pipe(te.iC)}valueChanges(e={}){return Jm(this.query,this.afs.schedulers.outsideAngular).pipe((0,xe.U)(o=>o.payload.docs.map(l=>e.idField?{[e.idField]:l.id,...l.data()}:l.data())),te.iC)}get(e){return(0,ue.D)(this.query.get(e)).pipe(te.iC)}}const O0=new h.OlP("angularfire2.enableFirestorePersistence"),N0=new h.OlP("angularfire2.firestore.persistenceSettings"),k0=new h.OlP("angularfire2.firestore.settings"),F0=new h.OlP("angularfire2.firestore.use-emulator");function ky(i,e=(n=>n)){return{query:e(i),ref:i}}let Fy=(()=>{var i;class e{constructor(o,l,c,p,b,P,H,X,ye,Ze,gt,Jt,sn,on,Cn,$n,Un){(0,Y.Z)(this,"schedulers",void 0),(0,Y.Z)(this,"firestore",void 0),(0,Y.Z)(this,"persistenceEnabled$",void 0),this.schedulers=H;const Pn=(0,ne.on)(o,P,l),Ir=ye;Ze&&at(Pn,P,gt,sn,on,Cn,Jt,$n),[this.firestore,this.persistenceEnabled$]=(0,ne.cc)(`${Pn.name}.firestore`,"AngularFirestore",Pn.name,()=>{const fr=P.runOutsideAngular(()=>Pn.firestore());if(p&&fr.settings(p),Ir&&fr.useEmulator(...Ir),c&&!(0,Ee.PM)(b)){const yo=()=>{try{return(0,ue.D)(fr.enablePersistence(X||void 0).then(()=>!0,()=>!1))}catch(bs){return typeof console<"u"&&console.warn(bs),(0,Oe.of)(!1)}};return[fr,P.runOutsideAngular(yo)]}return[fr,(0,Oe.of)(!1)]},[p,Ir,c])}collection(o,l){let c;c="string"==typeof o?this.firestore.collection(o):o;const{ref:p,query:b}=ky(c,l),P=this.schedulers.ngZone.run(()=>p);return new Ny(P,b,this)}collectionGroup(o,l){const c=l||(b=>b),p=this.firestore.collectionGroup(o);return new x0(c(p),this)}doc(o){let l;l="string"==typeof o?this.firestore.doc(o):o;const c=this.schedulers.ngZone.run(()=>l);return new Py(c,this)}createId(){return this.firestore.collection("_").doc().id}}return i=e,(0,Y.Z)(e,"\u0275fac",function(o){return new(o||i)(h.LFG(ne.Dh),h.LFG(ne.xv,8),h.LFG(O0,8),h.LFG(k0,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(te.HU),h.LFG(N0,8),h.LFG(F0,8),h.LFG(tt,8),h.LFG(lt,8),h.LFG(Qe,8),h.LFG(ut,8),h.LFG(pt,8),h.LFG(Ae,8),h.LFG(Te,8),h.LFG(te.Rf,8))}),(0,Y.Z)(e,"\u0275prov",h.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"})),e})();x(3182);const X0=(0,te.u3)(Um,!0),s_=(0,te.u3)(Kl,!0),oI=(0,te.u3)(Vm,!0),Gh=(0,te.u3)(hp,!0),zy=(0,te.u3)(bp,!0);var gI=x(4532);let Gy=(()=>{var i;class e{constructor(){this.auth=(0,h.f3M)(tt),this.firestore=(0,h.f3M)(Fy),this.utilsSvc=(0,h.f3M)(gI.F)}getAuth(){return(0,ee.o)()}signIn(o){return(0,ee.aa)((0,ee.o)(),o.email,o.password)}signUp(o){return(0,ee.a9)((0,ee.o)(),o.email,o.password)}updateUser(o){return(0,ee.aj)((0,ee.o)().currentUser,{displayName:o})}sendRecoveryEmail(o){return(0,ee.a4)((0,ee.o)(),o)}signOut(){(0,ee.o)().signOut(),localStorage.removeItem("user"),this.utilsSvc.routerLink("/login")}setDocument(o,l){return zy(s_(Gh(),o),l)}getDocument(o){return(0,d.Z)(function*(){return(yield oI(s_(Gh(),o))).data()})()}addDocument(o,l){return X0(nd(Gh(),o),l)}getSubjects(){return(0,d.Z)(function*(){return(yield wp(nd(Gh(),"asignaturas"))).docs.map(l=>l.data())})()}getAttendances(){return(0,d.Z)(function*(){return(yield wp(nd(Gh(),"asistencia"))).docs.map(l=>l.data())})()}}return(i=e).\u0275fac=function(o){return new(o||i)},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),e})()},4532:(Ht,Ke,x)=>{"use strict";x.d(Ke,{F:()=>Ee});var d=x(5861),h=x(5879),Y=x(9843),ae=x(2692);let Ee=(()=>{var te;class ne{constructor(){this.loadingCtrl=(0,h.f3M)(Y.HT),this.toastCtrl=(0,h.f3M)(Y.yF),this.router=(0,h.f3M)(ae.F0)}loading(){return this.loadingCtrl.create({spinner:"crescent",duration:5e3})}presentToast(Oe){var re=this;return(0,d.Z)(function*(){(yield re.toastCtrl.create(Oe)).present()})()}routerLink(Oe){return this.router.navigateByUrl(Oe)}saveInLocalStorage(Oe,re){return localStorage.setItem(Oe,JSON.stringify(re))}getFromLocalStorage(Oe){return JSON.parse(localStorage.getItem(Oe))}}return(te=ne).\u0275fac=function(Oe){return new(Oe||te)},te.\u0275prov=h.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),ne})()},2731:(Ht,Ke,x)=>{"use strict";var d=x(6593),h=x(5879),Y=x(2692),ae=x(5261),Ee=x(9843),te=x(6401),ne=x(547),$e=x(4532);let Oe=(()=>{var fe;class Xe{constructor(){this.firebaseSvc=(0,h.f3M)(ne.O),this.utilsSvc=(0,h.f3M)($e.F)}canActivate(ge,Le){return new Promise(Pe=>{this.firebaseSvc.getAuth().onAuthStateChanged(ze=>{ze?(this.utilsSvc.routerLink("tab/home"),Pe(!1)):Pe(!0)})})}}return(fe=Xe).\u0275fac=function(ge){return new(ge||fe)},fe.\u0275prov=h.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),Xe})(),re=(()=>{var fe;class Xe{constructor(){this.firebaseSvc=(0,h.f3M)(ne.O),this.utilsSvc=(0,h.f3M)($e.F)}canActivate(ge,Le){let Pe=localStorage.getItem("user");return new Promise(ze=>{this.firebaseSvc.getAuth().onAuthStateChanged(ke=>{ke?Pe&&ze(!0):(this.utilsSvc.routerLink("/login"),ze(!1))})})}}return(fe=Xe).\u0275fac=function(ge){return new(ge||fe)},fe.\u0275prov=h.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),Xe})();const ue=[{path:"home",loadChildren:()=>x.e(7992).then(x.bind(x,7992)).then(fe=>fe.HomePageModule),canActivate:[re]},{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadChildren:()=>x.e(6488).then(x.bind(x,6488)).then(fe=>fe.LoginPageModule),canActivate:[Oe]},{path:"register",loadChildren:()=>x.e(8727).then(x.bind(x,8727)).then(fe=>fe.RegisterPageModule)},{path:"recuperar-contra",loadChildren:()=>x.e(3839).then(x.bind(x,3839)).then(fe=>fe.RecuperarContraPageModule)},{path:"tab",loadChildren:()=>x.e(5626).then(x.bind(x,5626)).then(fe=>fe.TabPageModule),canActivate:[re]},{path:"gqr",loadChildren:()=>Promise.all([x.e(8592),x.e(7159)]).then(x.bind(x,7159)).then(fe=>fe.GqrPageModule),canActivate:[re]},{path:"editar-datos",loadChildren:()=>x.e(9741).then(x.bind(x,9741)).then(fe=>fe.EditarDatosPageModule),canActivate:[re]}];let De=(()=>{var fe;class Xe{}return(fe=Xe).\u0275fac=function(ge){return new(ge||fe)},fe.\u0275mod=h.oAB({type:fe}),fe.\u0275inj=h.cJS({imports:[Y.Bz.forRoot(ue,{preloadingStrategy:Y.wm}),Y.Bz]}),Xe})();var Ce=x(9862),we=x(7217);const xe_firebaseConfig={apiKey:"AIzaSyCyBpL7WKjYJKiqxhCp1EMSS-apvO4sa8E",authDomain:"registrapp-7b995.firebaseapp.com",projectId:"registrapp-7b995",storageBucket:"registrapp-7b995.appspot.com",messagingSenderId:"37608024661",appId:"1:37608024661:web:dc450890b34279ca1982dc",measurementId:"G-PCCRWJQFJ3"};var He=x(6712);let Fe=(()=>{var fe;class Xe{}return(fe=Xe).\u0275fac=function(ge){return new(ge||fe)},fe.\u0275mod=h.oAB({type:fe,bootstrap:[te.y]}),fe.\u0275inj=h.cJS({providers:[{provide:Y.wN,useClass:Ee.r4},te.D,He.E,ae.m],imports:[d.b2,Ee.Pc.forRoot(),De,Ce.JF,we.hO.initializeApp(xe_firebaseConfig)]}),Xe})();(0,h.G48)(),d.q6().bootstrapModule(Fe).catch(fe=>console.log(fe))},5619:(Ht,Ke,x)=>{"use strict";x.d(Ke,{X:()=>h});var d=x(8645);class h extends d.x{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const Ee=super._subscribe(ae);return!Ee.closed&&ae.next(this._value),Ee}getValue(){const{hasError:ae,thrownError:Ee,_value:te}=this;if(ae)throw Ee;return this._throwIfClosed(),te}next(ae){super.next(this._value=ae)}}},5592:(Ht,Ke,x)=>{"use strict";x.d(Ke,{y:()=>$e});var d=x(305),h=x(7394),Y=x(4850),ae=x(8407),Ee=x(2653),te=x(4674),ne=x(1441);let $e=(()=>{class De{constructor(we){we&&(this._subscribe=we)}lift(we){const xe=new De;return xe.source=this,xe.operator=we,xe}subscribe(we,xe,He){const Fe=function ue(De){return De&&De instanceof d.Lv||function re(De){return De&&(0,te.m)(De.next)&&(0,te.m)(De.error)&&(0,te.m)(De.complete)}(De)&&(0,h.Nn)(De)}(we)?we:new d.Hp(we,xe,He);return(0,ne.x)(()=>{const{operator:fe,source:Xe}=this;Fe.add(fe?fe.call(Fe,Xe):Xe?this._subscribe(Fe):this._trySubscribe(Fe))}),Fe}_trySubscribe(we){try{return this._subscribe(we)}catch(xe){we.error(xe)}}forEach(we,xe){return new(xe=Oe(xe))((He,Fe)=>{const fe=new d.Hp({next:Xe=>{try{we(Xe)}catch(it){Fe(it),fe.unsubscribe()}},error:Fe,complete:He});this.subscribe(fe)})}_subscribe(we){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(we)}[Y.L](){return this}pipe(...we){return(0,ae.U)(we)(this)}toPromise(we){return new(we=Oe(we))((xe,He)=>{let Fe;this.subscribe(fe=>Fe=fe,fe=>He(fe),()=>xe(Fe))})}}return De.create=Ce=>new De(Ce),De})();function Oe(De){var Ce;return null!==(Ce=null!=De?De:Ee.config.Promise)&&void 0!==Ce?Ce:Promise}},8645:(Ht,Ke,x)=>{"use strict";x.d(Ke,{x:()=>ne});var d=x(5592),h=x(7394);const ae=(0,x(2306).d)(Oe=>function(){Oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=x(9039),te=x(1441);let ne=(()=>{class Oe extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const De=new $e(this,this);return De.operator=ue,De}_throwIfClosed(){if(this.closed)throw new ae}next(ue){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const De of this.currentObservers)De.next(ue)}})}error(ue){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:De}=this;for(;De.length;)De.shift().error(ue)}})}complete(){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:De,isStopped:Ce,observers:we}=this;return De||Ce?h.Lc:(this.currentObservers=null,we.push(ue),new h.w0(()=>{this.currentObservers=null,(0,Ee.P)(we,ue)}))}_checkFinalizedStatuses(ue){const{hasError:De,thrownError:Ce,isStopped:we}=this;De?ue.error(Ce):we&&ue.complete()}asObservable(){const ue=new d.y;return ue.source=this,ue}}return Oe.create=(re,ue)=>new $e(re,ue),Oe})();class $e extends ne{constructor(re,ue){super(),this.destination=re,this.source=ue}next(re){var ue,De;null===(De=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===De||De.call(ue,re)}error(re){var ue,De;null===(De=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===De||De.call(ue,re)}complete(){var re,ue;null===(ue=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ue||ue.call(re)}_subscribe(re){var ue,De;return null!==(De=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(re))&&void 0!==De?De:h.Lc}}},305:(Ht,Ke,x)=>{"use strict";x.d(Ke,{Hp:()=>He,Lv:()=>De});var d=x(4674),h=x(7394),Y=x(2653),ae=x(3894),Ee=x(2420);const te=Oe("C",void 0,void 0);function Oe(ge,Le,Pe){return{kind:ge,value:Le,error:Pe}}var re=x(7599),ue=x(1441);class De extends h.w0{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,h.Nn)(Le)&&Le.add(this)):this.destination=it}static create(Le,Pe,ze){return new He(Le,Pe,ze)}next(Le){this.isStopped?Xe(function $e(ge){return Oe("N",ge,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?Xe(function ne(ge){return Oe("E",void 0,ge)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?Xe(te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ce=Function.prototype.bind;function we(ge,Le){return Ce.call(ge,Le)}class xe{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:Pe}=this;if(Pe.next)try{Pe.next(Le)}catch(ze){Fe(ze)}}error(Le){const{partialObserver:Pe}=this;if(Pe.error)try{Pe.error(Le)}catch(ze){Fe(ze)}else Fe(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(Pe){Fe(Pe)}}}class He extends De{constructor(Le,Pe,ze){let ke;if(super(),(0,d.m)(Le)||!Le)ke={next:null!=Le?Le:void 0,error:null!=Pe?Pe:void 0,complete:null!=ze?ze:void 0};else{let _e;this&&Y.config.useDeprecatedNextContext?(_e=Object.create(Le),_e.unsubscribe=()=>this.unsubscribe(),ke={next:Le.next&&we(Le.next,_e),error:Le.error&&we(Le.error,_e),complete:Le.complete&&we(Le.complete,_e)}):ke=Le}this.destination=new xe(ke)}}function Fe(ge){Y.config.useDeprecatedSynchronousErrorHandling?(0,ue.O)(ge):(0,ae.h)(ge)}function Xe(ge,Le){const{onStoppedNotification:Pe}=Y.config;Pe&&re.z.setTimeout(()=>Pe(ge,Le))}const it={closed:!0,next:Ee.Z,error:function fe(ge){throw ge},complete:Ee.Z}},7394:(Ht,Ke,x)=>{"use strict";x.d(Ke,{Lc:()=>te,w0:()=>Ee,Nn:()=>ne});var d=x(4674);const Y=(0,x(2306).d)(Oe=>function(ue){Oe(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((De,Ce)=>`${Ce+1}) ${De.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var ae=x(9039);class Ee{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const we of ue)we.remove(this);else ue.remove(this);const{initialTeardown:De}=this;if((0,d.m)(De))try{De()}catch(we){re=we instanceof Y?we.errors:[we]}const{_finalizers:Ce}=this;if(Ce){this._finalizers=null;for(const we of Ce)try{$e(we)}catch(xe){re=null!=re?re:[],xe instanceof Y?re=[...re,...xe.errors]:re.push(xe)}}if(re)throw new Y(re)}}add(re){var ue;if(re&&re!==this)if(this.closed)$e(re);else{if(re instanceof Ee){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(re)}}_hasParent(re){const{_parentage:ue}=this;return ue===re||Array.isArray(ue)&&ue.includes(re)}_addParent(re){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(re),ue):ue?[ue,re]:re}_removeParent(re){const{_parentage:ue}=this;ue===re?this._parentage=null:Array.isArray(ue)&&(0,ae.P)(ue,re)}remove(re){const{_finalizers:ue}=this;ue&&(0,ae.P)(ue,re),re instanceof Ee&&re._removeParent(this)}}Ee.EMPTY=(()=>{const Oe=new Ee;return Oe.closed=!0,Oe})();const te=Ee.EMPTY;function ne(Oe){return Oe instanceof Ee||Oe&&"closed"in Oe&&(0,d.m)(Oe.remove)&&(0,d.m)(Oe.add)&&(0,d.m)(Oe.unsubscribe)}function $e(Oe){(0,d.m)(Oe)?Oe():Oe.unsubscribe()}},2653:(Ht,Ke,x)=>{"use strict";x.d(Ke,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Ht,Ke,x)=>{"use strict";x.d(Ke,{a:()=>re});var d=x(5592),h=x(7453),Y=x(2459),ae=x(2737),Ee=x(7400),te=x(4564),ne=x(2714),$e=x(8251),Oe=x(7103);function re(...Ce){const we=(0,te.yG)(Ce),xe=(0,te.jO)(Ce),{args:He,keys:Fe}=(0,h.D)(Ce);if(0===He.length)return(0,Y.D)([],we);const fe=new d.y(function ue(Ce,we,xe=ae.y){return He=>{De(we,()=>{const{length:Fe}=Ce,fe=new Array(Fe);let Xe=Fe,it=Fe;for(let ge=0;ge<Fe;ge++)De(we,()=>{const Le=(0,Y.D)(Ce[ge],we);let Pe=!1;Le.subscribe((0,$e.x)(He,ze=>{fe[ge]=ze,Pe||(Pe=!0,it--),it||He.next(xe(fe.slice()))},()=>{--Xe||He.complete()}))},He)},He)}}(He,we,Fe?Xe=>(0,ne.n)(Fe,Xe):ae.y));return xe?fe.pipe((0,Ee.Z)(xe)):fe}function De(Ce,we,xe){Ce?(0,Oe.f)(xe,Ce,we):we()}},5211:(Ht,Ke,x)=>{"use strict";x.d(Ke,{z:()=>Ee});var d=x(7537),Y=x(4564),ae=x(2459);function Ee(...te){return function h(){return(0,d.J)(1)}()((0,ae.D)(te,(0,Y.yG)(te)))}},6232:(Ht,Ke,x)=>{"use strict";x.d(Ke,{E:()=>h});const h=new(x(5592).y)(Ee=>Ee.complete())},2459:(Ht,Ke,x)=>{"use strict";x.d(Ke,{D:()=>Le});var d=x(4829),h=x(3093),Y=x(5137),te=x(5592),$e=x(4971),Oe=x(4674),re=x(7103);function De(Pe,ze){if(!Pe)throw new Error("Iterable cannot be null");return new te.y(ke=>{(0,re.f)(ke,ze,()=>{const _e=Pe[Symbol.asyncIterator]();(0,re.f)(ke,ze,()=>{_e.next().then(lt=>{lt.done?ke.complete():ke.next(lt.value)})},0,!0)})})}var Ce=x(8382),we=x(4026),xe=x(4266),He=x(3664),Fe=x(5726),fe=x(9853),Xe=x(541);function Le(Pe,ze){return ze?function ge(Pe,ze){if(null!=Pe){if((0,Ce.c)(Pe))return function ae(Pe,ze){return(0,d.Xf)(Pe).pipe((0,Y.R)(ze),(0,h.Q)(ze))}(Pe,ze);if((0,xe.z)(Pe))return function ne(Pe,ze){return new te.y(ke=>{let _e=0;return ze.schedule(function(){_e===Pe.length?ke.complete():(ke.next(Pe[_e++]),ke.closed||this.schedule())})})}(Pe,ze);if((0,we.t)(Pe))return function Ee(Pe,ze){return(0,d.Xf)(Pe).pipe((0,Y.R)(ze),(0,h.Q)(ze))}(Pe,ze);if((0,Fe.D)(Pe))return De(Pe,ze);if((0,He.T)(Pe))return function ue(Pe,ze){return new te.y(ke=>{let _e;return(0,re.f)(ke,ze,()=>{_e=Pe[$e.h](),(0,re.f)(ke,ze,()=>{let lt,Qe;try{({value:lt,done:Qe}=_e.next())}catch(ut){return void ke.error(ut)}Qe?ke.complete():ke.next(lt)},0,!0)}),()=>(0,Oe.m)(null==_e?void 0:_e.return)&&_e.return()})}(Pe,ze);if((0,Xe.L)(Pe))return function it(Pe,ze){return De((0,Xe.Q)(Pe),ze)}(Pe,ze)}throw(0,fe.z)(Pe)}(Pe,ze):(0,d.Xf)(Pe)}},2438:(Ht,Ke,x)=>{"use strict";x.d(Ke,{R:()=>re});var d=x(4829),h=x(5592),Y=x(1631),ae=x(4266),Ee=x(4674),te=x(7400);const ne=["addListener","removeListener"],$e=["addEventListener","removeEventListener"],Oe=["on","off"];function re(xe,He,Fe,fe){if((0,Ee.m)(Fe)&&(fe=Fe,Fe=void 0),fe)return re(xe,He,Fe).pipe((0,te.Z)(fe));const[Xe,it]=function we(xe){return(0,Ee.m)(xe.addEventListener)&&(0,Ee.m)(xe.removeEventListener)}(xe)?$e.map(ge=>Le=>xe[ge](He,Le,Fe)):function De(xe){return(0,Ee.m)(xe.addListener)&&(0,Ee.m)(xe.removeListener)}(xe)?ne.map(ue(xe,He)):function Ce(xe){return(0,Ee.m)(xe.on)&&(0,Ee.m)(xe.off)}(xe)?Oe.map(ue(xe,He)):[];if(!Xe&&(0,ae.z)(xe))return(0,Y.z)(ge=>re(ge,He,Fe))((0,d.Xf)(xe));if(!Xe)throw new TypeError("Invalid event target");return new h.y(ge=>{const Le=(...Pe)=>ge.next(1<Pe.length?Pe:Pe[0]);return Xe(Le),()=>it(Le)})}function ue(xe,He){return Fe=>fe=>xe[Fe](He,fe)}},4829:(Ht,Ke,x)=>{"use strict";x.d(Ke,{Xf:()=>Ce});var d=x(7582),h=x(4266),Y=x(4026),ae=x(5592),Ee=x(8382),te=x(5726),ne=x(9853),$e=x(3664),Oe=x(541),re=x(4674),ue=x(3894),De=x(4850);function Ce(ge){if(ge instanceof ae.y)return ge;if(null!=ge){if((0,Ee.c)(ge))return function we(ge){return new ae.y(Le=>{const Pe=ge[De.L]();if((0,re.m)(Pe.subscribe))return Pe.subscribe(Le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ge);if((0,h.z)(ge))return function xe(ge){return new ae.y(Le=>{for(let Pe=0;Pe<ge.length&&!Le.closed;Pe++)Le.next(ge[Pe]);Le.complete()})}(ge);if((0,Y.t)(ge))return function He(ge){return new ae.y(Le=>{ge.then(Pe=>{Le.closed||(Le.next(Pe),Le.complete())},Pe=>Le.error(Pe)).then(null,ue.h)})}(ge);if((0,te.D)(ge))return fe(ge);if((0,$e.T)(ge))return function Fe(ge){return new ae.y(Le=>{for(const Pe of ge)if(Le.next(Pe),Le.closed)return;Le.complete()})}(ge);if((0,Oe.L)(ge))return function Xe(ge){return fe((0,Oe.Q)(ge))}(ge)}throw(0,ne.z)(ge)}function fe(ge){return new ae.y(Le=>{(function it(ge,Le){var Pe,ze,ke,_e;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Pe=(0,d.KL)(ge);!(ze=yield Pe.next()).done;)if(Le.next(ze.value),Le.closed)return}catch(lt){ke={error:lt}}finally{try{ze&&!ze.done&&(_e=Pe.return)&&(yield _e.call(Pe))}finally{if(ke)throw ke.error}}Le.complete()})})(ge,Le).catch(Pe=>Le.error(Pe))})}},3019:(Ht,Ke,x)=>{"use strict";x.d(Ke,{T:()=>te});var d=x(7537),h=x(4829),Y=x(6232),ae=x(4564),Ee=x(2459);function te(...ne){const $e=(0,ae.yG)(ne),Oe=(0,ae._6)(ne,1/0),re=ne;return re.length?1===re.length?(0,h.Xf)(re[0]):(0,d.J)(Oe)((0,Ee.D)(re,$e)):Y.E}},2096:(Ht,Ke,x)=>{"use strict";x.d(Ke,{of:()=>Y});var d=x(4564),h=x(2459);function Y(...ae){const Ee=(0,d.yG)(ae);return(0,h.D)(ae,Ee)}},8251:(Ht,Ke,x)=>{"use strict";x.d(Ke,{x:()=>h});var d=x(305);function h(ae,Ee,te,ne,$e){return new Y(ae,Ee,te,ne,$e)}class Y extends d.Lv{constructor(Ee,te,ne,$e,Oe,re){super(Ee),this.onFinalize=Oe,this.shouldUnsubscribe=re,this._next=te?function(ue){try{te(ue)}catch(De){Ee.error(De)}}:super._next,this._error=$e?function(ue){try{$e(ue)}catch(De){Ee.error(De)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(ue){Ee.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:te}=this;super.unsubscribe(),!te&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},6328:(Ht,Ke,x)=>{"use strict";x.d(Ke,{b:()=>Y});var d=x(1631),h=x(4674);function Y(ae,Ee){return(0,h.m)(Ee)?(0,d.z)(ae,Ee,1):(0,d.z)(ae,1)}},3572:(Ht,Ke,x)=>{"use strict";x.d(Ke,{d:()=>Y});var d=x(9360),h=x(8251);function Y(ae){return(0,d.e)((Ee,te)=>{let ne=!1;Ee.subscribe((0,h.x)(te,$e=>{ne=!0,te.next($e)},()=>{ne||te.next(ae),te.complete()}))})}},3997:(Ht,Ke,x)=>{"use strict";x.d(Ke,{x:()=>ae});var d=x(2737),h=x(9360),Y=x(8251);function ae(te,ne=d.y){return te=null!=te?te:Ee,(0,h.e)(($e,Oe)=>{let re,ue=!0;$e.subscribe((0,Y.x)(Oe,De=>{const Ce=ne(De);(ue||!te(re,Ce))&&(ue=!1,re=Ce,Oe.next(De))}))})}function Ee(te,ne){return te===ne}},2181:(Ht,Ke,x)=>{"use strict";x.d(Ke,{h:()=>Y});var d=x(9360),h=x(8251);function Y(ae,Ee){return(0,d.e)((te,ne)=>{let $e=0;te.subscribe((0,h.x)(ne,Oe=>ae.call(Ee,Oe,$e++)&&ne.next(Oe)))})}},4716:(Ht,Ke,x)=>{"use strict";x.d(Ke,{x:()=>h});var d=x(9360);function h(Y){return(0,d.e)((ae,Ee)=>{try{ae.subscribe(Ee)}finally{Ee.add(Y)}})}},1374:(Ht,Ke,x)=>{"use strict";x.d(Ke,{P:()=>ne});var d=x(6973),h=x(2181),Y=x(8180),ae=x(3572),Ee=x(3026),te=x(2737);function ne($e,Oe){const re=arguments.length>=2;return ue=>ue.pipe($e?(0,h.h)((De,Ce)=>$e(De,Ce,ue)):te.y,(0,Y.q)(1),re?(0,ae.d)(Oe):(0,Ee.T)(()=>new d.K))}},7398:(Ht,Ke,x)=>{"use strict";x.d(Ke,{U:()=>Y});var d=x(9360),h=x(8251);function Y(ae,Ee){return(0,d.e)((te,ne)=>{let $e=0;te.subscribe((0,h.x)(ne,Oe=>{ne.next(ae.call(Ee,Oe,$e++))}))})}},7537:(Ht,Ke,x)=>{"use strict";x.d(Ke,{J:()=>Y});var d=x(1631),h=x(2737);function Y(ae=1/0){return(0,d.z)(h.y,ae)}},1631:(Ht,Ke,x)=>{"use strict";x.d(Ke,{z:()=>$e});var d=x(7398),h=x(4829),Y=x(9360),ae=x(7103),Ee=x(8251),ne=x(4674);function $e(Oe,re,ue=1/0){return(0,ne.m)(re)?$e((De,Ce)=>(0,d.U)((we,xe)=>re(De,we,Ce,xe))((0,h.Xf)(Oe(De,Ce))),ue):("number"==typeof re&&(ue=re),(0,Y.e)((De,Ce)=>function te(Oe,re,ue,De,Ce,we,xe,He){const Fe=[];let fe=0,Xe=0,it=!1;const ge=()=>{it&&!Fe.length&&!fe&&re.complete()},Le=ze=>fe<De?Pe(ze):Fe.push(ze),Pe=ze=>{we&&re.next(ze),fe++;let ke=!1;(0,h.Xf)(ue(ze,Xe++)).subscribe((0,Ee.x)(re,_e=>{null==Ce||Ce(_e),we?Le(_e):re.next(_e)},()=>{ke=!0},void 0,()=>{if(ke)try{for(fe--;Fe.length&&fe<De;){const _e=Fe.shift();xe?(0,ae.f)(re,xe,()=>Pe(_e)):Pe(_e)}ge()}catch(_e){re.error(_e)}}))};return Oe.subscribe((0,Ee.x)(re,Le,()=>{it=!0,ge()})),()=>{null==He||He()}}(De,Ce,Oe,ue)))}},3093:(Ht,Ke,x)=>{"use strict";x.d(Ke,{Q:()=>ae});var d=x(7103),h=x(9360),Y=x(8251);function ae(Ee,te=0){return(0,h.e)((ne,$e)=>{ne.subscribe((0,Y.x)($e,Oe=>(0,d.f)($e,Ee,()=>$e.next(Oe),te),()=>(0,d.f)($e,Ee,()=>$e.complete(),te),Oe=>(0,d.f)($e,Ee,()=>$e.error(Oe),te)))})}},6699:(Ht,Ke,x)=>{"use strict";x.d(Ke,{R:()=>ae});var d=x(9360),h=x(8251);function ae(Ee,te){return(0,d.e)(function Y(Ee,te,ne,$e,Oe){return(re,ue)=>{let De=ne,Ce=te,we=0;re.subscribe((0,h.x)(ue,xe=>{const He=we++;Ce=De?Ee(Ce,xe,He):(De=!0,xe),$e&&ue.next(Ce)},Oe&&(()=>{De&&ue.next(Ce),ue.complete()})))}}(Ee,te,arguments.length>=2,!0))}},3020:(Ht,Ke,x)=>{"use strict";x.d(Ke,{B:()=>Ee});var d=x(4829),h=x(8645),Y=x(305),ae=x(9360);function Ee(ne={}){const{connector:$e=(()=>new h.x),resetOnError:Oe=!0,resetOnComplete:re=!0,resetOnRefCountZero:ue=!0}=ne;return De=>{let Ce,we,xe,He=0,Fe=!1,fe=!1;const Xe=()=>{null==we||we.unsubscribe(),we=void 0},it=()=>{Xe(),Ce=xe=void 0,Fe=fe=!1},ge=()=>{const Le=Ce;it(),null==Le||Le.unsubscribe()};return(0,ae.e)((Le,Pe)=>{He++,!fe&&!Fe&&Xe();const ze=xe=null!=xe?xe:$e();Pe.add(()=>{He--,0===He&&!fe&&!Fe&&(we=te(ge,ue))}),ze.subscribe(Pe),!Ce&&He>0&&(Ce=new Y.Hp({next:ke=>ze.next(ke),error:ke=>{fe=!0,Xe(),we=te(it,Oe,ke),ze.error(ke)},complete:()=>{Fe=!0,Xe(),we=te(it,re),ze.complete()}}),(0,d.Xf)(Le).subscribe(Ce))})(De)}}function te(ne,$e,...Oe){if(!0===$e)return void ne();if(!1===$e)return;const re=new Y.Hp({next:()=>{re.unsubscribe(),ne()}});return(0,d.Xf)($e(...Oe)).subscribe(re)}},7921:(Ht,Ke,x)=>{"use strict";x.d(Ke,{O:()=>ae});var d=x(5211),h=x(4564),Y=x(9360);function ae(...Ee){const te=(0,h.yG)(Ee);return(0,Y.e)((ne,$e)=>{(te?(0,d.z)(Ee,ne,te):(0,d.z)(Ee,ne)).subscribe($e)})}},5137:(Ht,Ke,x)=>{"use strict";x.d(Ke,{R:()=>h});var d=x(9360);function h(Y,ae=0){return(0,d.e)((Ee,te)=>{te.add(Y.schedule(()=>Ee.subscribe(te),ae))})}},4664:(Ht,Ke,x)=>{"use strict";x.d(Ke,{w:()=>ae});var d=x(4829),h=x(9360),Y=x(8251);function ae(Ee,te){return(0,h.e)((ne,$e)=>{let Oe=null,re=0,ue=!1;const De=()=>ue&&!Oe&&$e.complete();ne.subscribe((0,Y.x)($e,Ce=>{null==Oe||Oe.unsubscribe();let we=0;const xe=re++;(0,d.Xf)(Ee(Ce,xe)).subscribe(Oe=(0,Y.x)($e,He=>$e.next(te?te(Ce,He,xe,we++):He),()=>{Oe=null,De()}))},()=>{ue=!0,De()}))})}},8180:(Ht,Ke,x)=>{"use strict";x.d(Ke,{q:()=>ae});var d=x(6232),h=x(9360),Y=x(8251);function ae(Ee){return Ee<=0?()=>d.E:(0,h.e)((te,ne)=>{let $e=0;te.subscribe((0,Y.x)(ne,Oe=>{++$e<=Ee&&(ne.next(Oe),Ee<=$e&&ne.complete())}))})}},9397:(Ht,Ke,x)=>{"use strict";x.d(Ke,{b:()=>Ee});var d=x(4674),h=x(9360),Y=x(8251),ae=x(2737);function Ee(te,ne,$e){const Oe=(0,d.m)(te)||ne||$e?{next:te,error:ne,complete:$e}:te;return Oe?(0,h.e)((re,ue)=>{var De;null===(De=Oe.subscribe)||void 0===De||De.call(Oe);let Ce=!0;re.subscribe((0,Y.x)(ue,we=>{var xe;null===(xe=Oe.next)||void 0===xe||xe.call(Oe,we),ue.next(we)},()=>{var we;Ce=!1,null===(we=Oe.complete)||void 0===we||we.call(Oe),ue.complete()},we=>{var xe;Ce=!1,null===(xe=Oe.error)||void 0===xe||xe.call(Oe,we),ue.error(we)},()=>{var we,xe;Ce&&(null===(we=Oe.unsubscribe)||void 0===we||we.call(Oe)),null===(xe=Oe.finalize)||void 0===xe||xe.call(Oe)}))}):ae.y}},3026:(Ht,Ke,x)=>{"use strict";x.d(Ke,{T:()=>ae});var d=x(6973),h=x(9360),Y=x(8251);function ae(te=Ee){return(0,h.e)((ne,$e)=>{let Oe=!1;ne.subscribe((0,Y.x)($e,re=>{Oe=!0,$e.next(re)},()=>Oe?$e.complete():$e.error(te())))})}function Ee(){return new d.K}},1954:(Ht,Ke,x)=>{"use strict";x.d(Ke,{o:()=>Ee});var d=x(7394);class h extends d.w0{constructor(ne,$e){super()}schedule(ne,$e=0){return this}}const Y={setInterval(te,ne,...$e){const{delegate:Oe}=Y;return null!=Oe&&Oe.setInterval?Oe.setInterval(te,ne,...$e):setInterval(te,ne,...$e)},clearInterval(te){const{delegate:ne}=Y;return((null==ne?void 0:ne.clearInterval)||clearInterval)(te)},delegate:void 0};var ae=x(9039);class Ee extends h{constructor(ne,$e){super(ne,$e),this.scheduler=ne,this.work=$e,this.pending=!1}schedule(ne,$e=0){var Oe;if(this.closed)return this;this.state=ne;const re=this.id,ue=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(ue,re,$e)),this.pending=!0,this.delay=$e,this.id=null!==(Oe=this.id)&&void 0!==Oe?Oe:this.requestAsyncId(ue,this.id,$e),this}requestAsyncId(ne,$e,Oe=0){return Y.setInterval(ne.flush.bind(ne,this),Oe)}recycleAsyncId(ne,$e,Oe=0){if(null!=Oe&&this.delay===Oe&&!1===this.pending)return $e;null!=$e&&Y.clearInterval($e)}execute(ne,$e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Oe=this._execute(ne,$e);if(Oe)return Oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,$e){let re,Oe=!1;try{this.work(ne)}catch(ue){Oe=!0,re=ue||new Error("Scheduled action threw falsy error")}if(Oe)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:ne,scheduler:$e}=this,{actions:Oe}=$e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(Oe,this),null!=ne&&(this.id=this.recycleAsyncId($e,ne,null)),this.delay=null,super.unsubscribe()}}}},2631:(Ht,Ke,x)=>{"use strict";x.d(Ke,{v:()=>Y});var d=x(4552);class h{constructor(Ee,te=h.now){this.schedulerActionCtor=Ee,this.now=te}schedule(Ee,te=0,ne){return new this.schedulerActionCtor(this,Ee).schedule(ne,te)}}h.now=d.l.now;class Y extends h{constructor(Ee,te=h.now){super(Ee,te),this.actions=[],this._active=!1}flush(Ee){const{actions:te}=this;if(this._active)return void te.push(Ee);let ne;this._active=!0;do{if(ne=Ee.execute(Ee.state,Ee.delay))break}while(Ee=te.shift());if(this._active=!1,ne){for(;Ee=te.shift();)Ee.unsubscribe();throw ne}}}},6321:(Ht,Ke,x)=>{"use strict";x.d(Ke,{z:()=>Y});var d=x(1954);const Y=new(x(2631).v)(d.o)},4552:(Ht,Ke,x)=>{"use strict";x.d(Ke,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(Ht,Ke,x)=>{"use strict";x.d(Ke,{z:()=>d});const d={setTimeout(h,Y,...ae){const{delegate:Ee}=d;return null!=Ee&&Ee.setTimeout?Ee.setTimeout(h,Y,...ae):setTimeout(h,Y,...ae)},clearTimeout(h){const{delegate:Y}=d;return((null==Y?void 0:Y.clearTimeout)||clearTimeout)(h)},delegate:void 0}},4971:(Ht,Ke,x)=>{"use strict";x.d(Ke,{h:()=>h});const h=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Ht,Ke,x)=>{"use strict";x.d(Ke,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Ht,Ke,x)=>{"use strict";x.d(Ke,{K:()=>h});const h=(0,x(2306).d)(Y=>function(){Y(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(Ht,Ke,x)=>{"use strict";x.d(Ke,{_6:()=>te,jO:()=>ae,yG:()=>Ee});var d=x(4674);function Y(ne){return ne[ne.length-1]}function ae(ne){return(0,d.m)(Y(ne))?ne.pop():void 0}function Ee(ne){return function h(ne){return ne&&(0,d.m)(ne.schedule)}(Y(ne))?ne.pop():void 0}function te(ne,$e){return"number"==typeof Y(ne)?ne.pop():$e}},7453:(Ht,Ke,x)=>{"use strict";x.d(Ke,{D:()=>Ee});const{isArray:d}=Array,{getPrototypeOf:h,prototype:Y,keys:ae}=Object;function Ee(ne){if(1===ne.length){const $e=ne[0];if(d($e))return{args:$e,keys:null};if(function te(ne){return ne&&"object"==typeof ne&&h(ne)===Y}($e)){const Oe=ae($e);return{args:Oe.map(re=>$e[re]),keys:Oe}}}return{args:ne,keys:null}}},9039:(Ht,Ke,x)=>{"use strict";function d(h,Y){if(h){const ae=h.indexOf(Y);0<=ae&&h.splice(ae,1)}}x.d(Ke,{P:()=>d})},2306:(Ht,Ke,x)=>{"use strict";function d(h){const ae=h(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}x.d(Ke,{d:()=>d})},2714:(Ht,Ke,x)=>{"use strict";function d(h,Y){return h.reduce((ae,Ee,te)=>(ae[Ee]=Y[te],ae),{})}x.d(Ke,{n:()=>d})},1441:(Ht,Ke,x)=>{"use strict";x.d(Ke,{O:()=>ae,x:()=>Y});var d=x(2653);let h=null;function Y(Ee){if(d.config.useDeprecatedSynchronousErrorHandling){const te=!h;if(te&&(h={errorThrown:!1,error:null}),Ee(),te){const{errorThrown:ne,error:$e}=h;if(h=null,ne)throw $e}}else Ee()}function ae(Ee){d.config.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=Ee)}},7103:(Ht,Ke,x)=>{"use strict";function d(h,Y,ae,Ee=0,te=!1){const ne=Y.schedule(function(){ae(),te?h.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(h.add(ne),!te)return ne}x.d(Ke,{f:()=>d})},2737:(Ht,Ke,x)=>{"use strict";function d(h){return h}x.d(Ke,{y:()=>d})},4266:(Ht,Ke,x)=>{"use strict";x.d(Ke,{z:()=>d});const d=h=>h&&"number"==typeof h.length&&"function"!=typeof h},5726:(Ht,Ke,x)=>{"use strict";x.d(Ke,{D:()=>h});var d=x(4674);function h(Y){return Symbol.asyncIterator&&(0,d.m)(null==Y?void 0:Y[Symbol.asyncIterator])}},4674:(Ht,Ke,x)=>{"use strict";function d(h){return"function"==typeof h}x.d(Ke,{m:()=>d})},8382:(Ht,Ke,x)=>{"use strict";x.d(Ke,{c:()=>Y});var d=x(4850),h=x(4674);function Y(ae){return(0,h.m)(ae[d.L])}},3664:(Ht,Ke,x)=>{"use strict";x.d(Ke,{T:()=>Y});var d=x(4971),h=x(4674);function Y(ae){return(0,h.m)(null==ae?void 0:ae[d.h])}},4026:(Ht,Ke,x)=>{"use strict";x.d(Ke,{t:()=>h});var d=x(4674);function h(Y){return(0,d.m)(null==Y?void 0:Y.then)}},541:(Ht,Ke,x)=>{"use strict";x.d(Ke,{L:()=>ae,Q:()=>Y});var d=x(7582),h=x(4674);function Y(Ee){return(0,d.FC)(this,arguments,function*(){const ne=Ee.getReader();try{for(;;){const{value:$e,done:Oe}=yield(0,d.qq)(ne.read());if(Oe)return yield(0,d.qq)(void 0);yield yield(0,d.qq)($e)}}finally{ne.releaseLock()}})}function ae(Ee){return(0,h.m)(null==Ee?void 0:Ee.getReader)}},9360:(Ht,Ke,x)=>{"use strict";x.d(Ke,{A:()=>h,e:()=>Y});var d=x(4674);function h(ae){return(0,d.m)(null==ae?void 0:ae.lift)}function Y(ae){return Ee=>{if(h(Ee))return Ee.lift(function(te){try{return ae(te,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Ht,Ke,x)=>{"use strict";x.d(Ke,{Z:()=>ae});var d=x(7398);const{isArray:h}=Array;function ae(Ee){return(0,d.U)(te=>function Y(Ee,te){return h(te)?Ee(...te):Ee(te)}(Ee,te))}},2420:(Ht,Ke,x)=>{"use strict";function d(){}x.d(Ke,{Z:()=>d})},8407:(Ht,Ke,x)=>{"use strict";x.d(Ke,{U:()=>Y,z:()=>h});var d=x(2737);function h(...ae){return Y(ae)}function Y(ae){return 0===ae.length?d.y:1===ae.length?ae[0]:function(te){return ae.reduce((ne,$e)=>$e(ne),te)}}},3894:(Ht,Ke,x)=>{"use strict";x.d(Ke,{h:()=>Y});var d=x(2653),h=x(7599);function Y(ae){h.z.setTimeout(()=>{const{onUnhandledError:Ee}=d.config;if(!Ee)throw ae;Ee(ae)})}},9853:(Ht,Ke,x)=>{"use strict";function d(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(Ke,{z:()=>d})},863:(Ht,Ke,x)=>{var d={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[6304,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,9643,433],"./ion-datetime_3.entry.js":[7059,9643,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,8592,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,8592,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,8592,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function h(Y){if(!x.o(d,Y))return Promise.resolve().then(()=>{var te=new Error("Cannot find module '"+Y+"'");throw te.code="MODULE_NOT_FOUND",te});var ae=d[Y],Ee=ae[0];return Promise.all(ae.slice(1).map(x.e)).then(()=>x(Ee))}h.keys=()=>Object.keys(d),h.id=863,Ht.exports=h},6814:(Ht,Ke,x)=>{"use strict";x.d(Ke,{Do:()=>He,EM:()=>to,HT:()=>ae,JF:()=>Io,K0:()=>te,Mx:()=>or,O5:()=>ci,PM:()=>eo,S$:()=>Ce,V_:()=>$e,Ye:()=>Fe,b0:()=>xe,bD:()=>Hi,ez:()=>Nr,q:()=>Y,sg:()=>gr,tP:()=>Dt,uU:()=>Jr,w_:()=>Ee});var d=x(5879);let h=null;function Y(){return h}function ae(T){h||(h=T)}class Ee{}const te=new d.OlP("DocumentToken");let ne=(()=>{var T;class ${historyGo(F){throw new Error("Not implemented")}}return(T=$).\u0275fac=function(F){return new(F||T)},T.\u0275prov=d.Yz7({token:T,factory:function(){return(0,d.f3M)(Oe)},providedIn:"platform"}),$})();const $e=new d.OlP("Location Initialized");let Oe=(()=>{var T;class $ extends ne{constructor(){super(),this._doc=(0,d.f3M)(te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(F){const de=Y().getGlobalEventTarget(this._doc,"window");return de.addEventListener("popstate",F,!1),()=>de.removeEventListener("popstate",F)}onHashChange(F){const de=Y().getGlobalEventTarget(this._doc,"window");return de.addEventListener("hashchange",F,!1),()=>de.removeEventListener("hashchange",F)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(F){this._location.pathname=F}pushState(F,de,Be){this._history.pushState(F,de,Be)}replaceState(F,de,Be){this._history.replaceState(F,de,Be)}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return(T=$).\u0275fac=function(F){return new(F||T)},T.\u0275prov=d.Yz7({token:T,factory:function(){return new T},providedIn:"platform"}),$})();function re(T,$){if(0==T.length)return $;if(0==$.length)return T;let Ie=0;return T.endsWith("/")&&Ie++,$.startsWith("/")&&Ie++,2==Ie?T+$.substring(1):1==Ie?T+$:T+"/"+$}function ue(T){const $=T.match(/#|\?|$/),Ie=$&&$.index||T.length;return T.slice(0,Ie-("/"===T[Ie-1]?1:0))+T.slice(Ie)}function De(T){return T&&"?"!==T[0]?"?"+T:T}let Ce=(()=>{var T;class ${historyGo(F){throw new Error("Not implemented")}}return(T=$).\u0275fac=function(F){return new(F||T)},T.\u0275prov=d.Yz7({token:T,factory:function(){return(0,d.f3M)(xe)},providedIn:"root"}),$})();const we=new d.OlP("appBaseHref");let xe=(()=>{var T;class $ extends Ce{constructor(F,de){var Be,At,Wt;super(),this._platformLocation=F,this._removeListenerFns=[],this._baseHref=null!==(Be=null!==(At=null!=de?de:this._platformLocation.getBaseHrefFromDOM())&&void 0!==At?At:null===(Wt=(0,d.f3M)(te).location)||void 0===Wt?void 0:Wt.origin)&&void 0!==Be?Be:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return re(this._baseHref,F)}path(F=!1){const de=this._platformLocation.pathname+De(this._platformLocation.search),Be=this._platformLocation.hash;return Be&&F?`${de}${Be}`:de}pushState(F,de,Be,At){const Wt=this.prepareExternalUrl(Be+De(At));this._platformLocation.pushState(F,de,Wt)}replaceState(F,de,Be,At){const Wt=this.prepareExternalUrl(Be+De(At));this._platformLocation.replaceState(F,de,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){var de,Be;null===(de=(Be=this._platformLocation).historyGo)||void 0===de||de.call(Be,F)}}return(T=$).\u0275fac=function(F){return new(F||T)(d.LFG(ne),d.LFG(we,8))},T.\u0275prov=d.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),$})(),He=(()=>{var T;class $ extends Ce{constructor(F,de){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=de&&(this._baseHref=de)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let de=this._platformLocation.hash;return null==de&&(de="#"),de.length>0?de.substring(1):de}prepareExternalUrl(F){const de=re(this._baseHref,F);return de.length>0?"#"+de:de}pushState(F,de,Be,At){let Wt=this.prepareExternalUrl(Be+De(At));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.pushState(F,de,Wt)}replaceState(F,de,Be,At){let Wt=this.prepareExternalUrl(Be+De(At));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.replaceState(F,de,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){var de,Be;null===(de=(Be=this._platformLocation).historyGo)||void 0===de||de.call(Be,F)}}return(T=$).\u0275fac=function(F){return new(F||T)(d.LFG(ne),d.LFG(we,8))},T.\u0275prov=d.Yz7({token:T,factory:T.\u0275fac}),$})(),Fe=(()=>{var T;class ${constructor(F){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=F;const de=this._locationStrategy.getBaseHref();this._basePath=function ge(T){if(new RegExp("^(https?:)?//").test(T)){const[,Ie]=T.split(/\/\/[^\/]+/);return Ie}return T}(ue(it(de))),this._locationStrategy.onPopState(Be=>{this._subject.emit({url:this.path(!0),pop:!0,state:Be.state,type:Be.type})})}ngOnDestroy(){var F;null===(F=this._urlChangeSubscription)||void 0===F||F.unsubscribe(),this._urlChangeListeners=[]}path(F=!1){return this.normalize(this._locationStrategy.path(F))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(F,de=""){return this.path()==this.normalize(F+De(de))}normalize(F){return $.stripTrailingSlash(function Xe(T,$){if(!T||!$.startsWith(T))return $;const Ie=$.substring(T.length);return""===Ie||["/",";","?","#"].includes(Ie[0])?Ie:$}(this._basePath,it(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._locationStrategy.prepareExternalUrl(F)}go(F,de="",Be=null){this._locationStrategy.pushState(Be,"",F,de),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+De(de)),Be)}replaceState(F,de="",Be=null){this._locationStrategy.replaceState(Be,"",F,de),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+De(de)),Be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(F=0){var de,Be;null===(de=(Be=this._locationStrategy).historyGo)||void 0===de||de.call(Be,F)}onUrlChange(F){return this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(de=>{this._notifyUrlChangeListeners(de.url,de.state)})),()=>{const de=this._urlChangeListeners.indexOf(F);var Be;this._urlChangeListeners.splice(de,1),0===this._urlChangeListeners.length&&(null===(Be=this._urlChangeSubscription)||void 0===Be||Be.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(F="",de){this._urlChangeListeners.forEach(Be=>Be(F,de))}subscribe(F,de,Be){return this._subject.subscribe({next:F,error:de,complete:Be})}}return(T=$).normalizeQueryParams=De,T.joinWithSlash=re,T.stripTrailingSlash=ue,T.\u0275fac=function(F){return new(F||T)(d.LFG(Ce))},T.\u0275prov=d.Yz7({token:T,factory:function(){return function fe(){return new Fe((0,d.LFG)(Ce))}()},providedIn:"root"}),$})();function it(T){return T.replace(/\/index.html$/,"")}var ke=function(T){return T[T.Format=0]="Format",T[T.Standalone=1]="Standalone",T}(ke||{}),_e=function(T){return T[T.Narrow=0]="Narrow",T[T.Abbreviated=1]="Abbreviated",T[T.Wide=2]="Wide",T[T.Short=3]="Short",T}(_e||{}),lt=function(T){return T[T.Short=0]="Short",T[T.Medium=1]="Medium",T[T.Long=2]="Long",T[T.Full=3]="Full",T}(lt||{}),Qe=function(T){return T[T.Decimal=0]="Decimal",T[T.Group=1]="Group",T[T.List=2]="List",T[T.PercentSign=3]="PercentSign",T[T.PlusSign=4]="PlusSign",T[T.MinusSign=5]="MinusSign",T[T.Exponential=6]="Exponential",T[T.SuperscriptingExponent=7]="SuperscriptingExponent",T[T.PerMille=8]="PerMille",T[T.Infinity=9]="Infinity",T[T.NaN=10]="NaN",T[T.TimeSeparator=11]="TimeSeparator",T[T.CurrencyDecimal=12]="CurrencyDecimal",T[T.CurrencyGroup=13]="CurrencyGroup",T}(Qe||{});function oe(T,$){return vt((0,d.cg1)(T)[d.wAp.DateFormat],$)}function be(T,$){return vt((0,d.cg1)(T)[d.wAp.TimeFormat],$)}function Re(T,$){return vt((0,d.cg1)(T)[d.wAp.DateTimeFormat],$)}function qe(T,$){const Ie=(0,d.cg1)(T),F=Ie[d.wAp.NumberSymbols][$];if(typeof F>"u"){if($===Qe.CurrencyDecimal)return Ie[d.wAp.NumberSymbols][Qe.Decimal];if($===Qe.CurrencyGroup)return Ie[d.wAp.NumberSymbols][Qe.Group]}return F}function _t(T){if(!T[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${T[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vt(T,$){for(let Ie=$;Ie>-1;Ie--)if(typeof T[Ie]<"u")return T[Ie];throw new Error("Locale data API: locale data undefined")}function Zt(T){const[$,Ie]=T.split(":");return{hours:+$,minutes:+Ie}}const Tn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Sr={},Qn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var gn=function(T){return T[T.Short=0]="Short",T[T.ShortGMT=1]="ShortGMT",T[T.Long=2]="Long",T[T.Extended=3]="Extended",T}(gn||{}),wn=function(T){return T[T.FullYear=0]="FullYear",T[T.Month=1]="Month",T[T.Date=2]="Date",T[T.Hours=3]="Hours",T[T.Minutes=4]="Minutes",T[T.Seconds=5]="Seconds",T[T.FractionalSeconds=6]="FractionalSeconds",T[T.Day=7]="Day",T}(wn||{}),cn=function(T){return T[T.DayPeriods=0]="DayPeriods",T[T.Days=1]="Days",T[T.Months=2]="Months",T[T.Eras=3]="Eras",T}(cn||{});function Wn(T,$,Ie,F){let de=function K(T){if(z(T))return T;if("number"==typeof T&&!isNaN(T))return new Date(T);if("string"==typeof T){if(T=T.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(T)){const[de,Be=1,At=1]=T.split("-").map(Wt=>+Wt);return kn(de,Be-1,At)}const Ie=parseFloat(T);if(!isNaN(T-Ie))return new Date(Ie);let F;if(F=T.match(Tn))return function L(T){const $=new Date(0);let Ie=0,F=0;const de=T[8]?$.setUTCFullYear:$.setFullYear,Be=T[8]?$.setUTCHours:$.setHours;T[9]&&(Ie=Number(T[9]+T[10]),F=Number(T[9]+T[11])),de.call($,Number(T[1]),Number(T[2])-1,Number(T[3]));const At=Number(T[4]||0)-Ie,Wt=Number(T[5]||0)-F,Zn=Number(T[6]||0),mr=Math.floor(1e3*parseFloat("0."+(T[7]||0)));return Be.call($,At,Wt,Zn,mr),$}(F)}const $=new Date(T);if(!z($))throw new Error(`Unable to convert "${T}" into a date`);return $}(T);$=_r(Ie,$)||$;let Wt,At=[];for(;$;){if(Wt=Qn.exec($),!Wt){At.push($);break}{At=At.concat(Wt.slice(1));const ar=At.pop();if(!ar)break;$=ar}}let Zn=de.getTimezoneOffset();F&&(Zn=xr(F,Zn),de=function Ve(T,$,Ie){const F=Ie?-1:1,de=T.getTimezoneOffset();return function vr(T,$){return(T=new Date(T.getTime())).setMinutes(T.getMinutes()+$),T}(T,F*(xr($,de)-de))}(de,F,!0));let mr="";return At.forEach(ar=>{const zn=function ii(T){if(Mr[T])return Mr[T];let $;switch(T){case"G":case"GG":case"GGG":$=_n(cn.Eras,_e.Abbreviated);break;case"GGGG":$=_n(cn.Eras,_e.Wide);break;case"GGGGG":$=_n(cn.Eras,_e.Narrow);break;case"y":$=Nn(wn.FullYear,1,0,!1,!0);break;case"yy":$=Nn(wn.FullYear,2,0,!0,!0);break;case"yyy":$=Nn(wn.FullYear,3,0,!1,!0);break;case"yyyy":$=Nn(wn.FullYear,4,0,!1,!0);break;case"Y":$=Qr(1);break;case"YY":$=Qr(2,!0);break;case"YYY":$=Qr(3);break;case"YYYY":$=Qr(4);break;case"M":case"L":$=Nn(wn.Month,1,1);break;case"MM":case"LL":$=Nn(wn.Month,2,1);break;case"MMM":$=_n(cn.Months,_e.Abbreviated);break;case"MMMM":$=_n(cn.Months,_e.Wide);break;case"MMMMM":$=_n(cn.Months,_e.Narrow);break;case"LLL":$=_n(cn.Months,_e.Abbreviated,ke.Standalone);break;case"LLLL":$=_n(cn.Months,_e.Wide,ke.Standalone);break;case"LLLLL":$=_n(cn.Months,_e.Narrow,ke.Standalone);break;case"w":$=ri(1);break;case"ww":$=ri(2);break;case"W":$=ri(1,!0);break;case"d":$=Nn(wn.Date,1);break;case"dd":$=Nn(wn.Date,2);break;case"c":case"cc":$=Nn(wn.Day,1);break;case"ccc":$=_n(cn.Days,_e.Abbreviated,ke.Standalone);break;case"cccc":$=_n(cn.Days,_e.Wide,ke.Standalone);break;case"ccccc":$=_n(cn.Days,_e.Narrow,ke.Standalone);break;case"cccccc":$=_n(cn.Days,_e.Short,ke.Standalone);break;case"E":case"EE":case"EEE":$=_n(cn.Days,_e.Abbreviated);break;case"EEEE":$=_n(cn.Days,_e.Wide);break;case"EEEEE":$=_n(cn.Days,_e.Narrow);break;case"EEEEEE":$=_n(cn.Days,_e.Short);break;case"a":case"aa":case"aaa":$=_n(cn.DayPeriods,_e.Abbreviated);break;case"aaaa":$=_n(cn.DayPeriods,_e.Wide);break;case"aaaaa":$=_n(cn.DayPeriods,_e.Narrow);break;case"b":case"bb":case"bbb":$=_n(cn.DayPeriods,_e.Abbreviated,ke.Standalone,!0);break;case"bbbb":$=_n(cn.DayPeriods,_e.Wide,ke.Standalone,!0);break;case"bbbbb":$=_n(cn.DayPeriods,_e.Narrow,ke.Standalone,!0);break;case"B":case"BB":case"BBB":$=_n(cn.DayPeriods,_e.Abbreviated,ke.Format,!0);break;case"BBBB":$=_n(cn.DayPeriods,_e.Wide,ke.Format,!0);break;case"BBBBB":$=_n(cn.DayPeriods,_e.Narrow,ke.Format,!0);break;case"h":$=Nn(wn.Hours,1,-12);break;case"hh":$=Nn(wn.Hours,2,-12);break;case"H":$=Nn(wn.Hours,1);break;case"HH":$=Nn(wn.Hours,2);break;case"m":$=Nn(wn.Minutes,1);break;case"mm":$=Nn(wn.Minutes,2);break;case"s":$=Nn(wn.Seconds,1);break;case"ss":$=Nn(wn.Seconds,2);break;case"S":$=Nn(wn.FractionalSeconds,1);break;case"SS":$=Nn(wn.FractionalSeconds,2);break;case"SSS":$=Nn(wn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":$=ti(gn.Short);break;case"ZZZZZ":$=ti(gn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":$=ti(gn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":$=ti(gn.Long);break;default:return null}return Mr[T]=$,$}(ar);mr+=zn?zn(de,Ie,Zn):"''"===ar?"'":ar.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),mr}function kn(T,$,Ie){const F=new Date(0);return F.setFullYear(T,$,Ie),F.setHours(0,0,0),F}function _r(T,$){const Ie=function pt(T){return(0,d.cg1)(T)[d.wAp.LocaleId]}(T);if(Sr[Ie]=Sr[Ie]||{},Sr[Ie][$])return Sr[Ie][$];let F="";switch($){case"shortDate":F=oe(T,lt.Short);break;case"mediumDate":F=oe(T,lt.Medium);break;case"longDate":F=oe(T,lt.Long);break;case"fullDate":F=oe(T,lt.Full);break;case"shortTime":F=be(T,lt.Short);break;case"mediumTime":F=be(T,lt.Medium);break;case"longTime":F=be(T,lt.Long);break;case"fullTime":F=be(T,lt.Full);break;case"short":const de=_r(T,"shortTime"),Be=_r(T,"shortDate");F=en(Re(T,lt.Short),[de,Be]);break;case"medium":const At=_r(T,"mediumTime"),Wt=_r(T,"mediumDate");F=en(Re(T,lt.Medium),[At,Wt]);break;case"long":const Zn=_r(T,"longTime"),mr=_r(T,"longDate");F=en(Re(T,lt.Long),[Zn,mr]);break;case"full":const ar=_r(T,"fullTime"),zn=_r(T,"fullDate");F=en(Re(T,lt.Full),[ar,zn])}return F&&(Sr[Ie][$]=F),F}function en(T,$){return $&&(T=T.replace(/\{([^}]+)}/g,function(Ie,F){return null!=$&&F in $?$[F]:Ie})),T}function Xn(T,$,Ie="-",F,de){let Be="";(T<0||de&&T<=0)&&(de?T=1-T:(T=-T,Be=Ie));let At=String(T);for(;At.length<$;)At="0"+At;return F&&(At=At.slice(At.length-$)),Be+At}function Nn(T,$,Ie=0,F=!1,de=!1){return function(Be,At){let Wt=function Dr(T,$){switch(T){case wn.FullYear:return $.getFullYear();case wn.Month:return $.getMonth();case wn.Date:return $.getDate();case wn.Hours:return $.getHours();case wn.Minutes:return $.getMinutes();case wn.Seconds:return $.getSeconds();case wn.FractionalSeconds:return $.getMilliseconds();case wn.Day:return $.getDay();default:throw new Error(`Unknown DateType value "${T}".`)}}(T,Be);if((Ie>0||Wt>-Ie)&&(Wt+=Ie),T===wn.Hours)0===Wt&&-12===Ie&&(Wt=12);else if(T===wn.FractionalSeconds)return function Fr(T,$){return Xn(T,3).substring(0,$)}(Wt,$);const Zn=qe(At,Qe.MinusSign);return Xn(Wt,$,Zn,F,de)}}function _n(T,$,Ie=ke.Format,F=!1){return function(de,Be){return function ir(T,$,Ie,F,de,Be){switch(Ie){case cn.Months:return function at(T,$,Ie){const F=(0,d.cg1)(T),Be=vt([F[d.wAp.MonthsFormat],F[d.wAp.MonthsStandalone]],$);return vt(Be,Ie)}($,de,F)[T.getMonth()];case cn.Days:return function Te(T,$,Ie){const F=(0,d.cg1)(T),Be=vt([F[d.wAp.DaysFormat],F[d.wAp.DaysStandalone]],$);return vt(Be,Ie)}($,de,F)[T.getDay()];case cn.DayPeriods:const At=T.getHours(),Wt=T.getMinutes();if(Be){const mr=function Ot(T){const $=(0,d.cg1)(T);return _t($),($[d.wAp.ExtraData][2]||[]).map(F=>"string"==typeof F?Zt(F):[Zt(F[0]),Zt(F[1])])}($),ar=function qt(T,$,Ie){const F=(0,d.cg1)(T);_t(F);const Be=vt([F[d.wAp.ExtraData][0],F[d.wAp.ExtraData][1]],$)||[];return vt(Be,Ie)||[]}($,de,F),zn=mr.findIndex(ai=>{if(Array.isArray(ai)){const[kr,$i]=ai,hs=At>=kr.hours&&Wt>=kr.minutes,fo=At<$i.hours||At===$i.hours&&Wt<$i.minutes;if(kr.hours<$i.hours){if(hs&&fo)return!0}else if(hs||fo)return!0}else if(ai.hours===At&&ai.minutes===Wt)return!0;return!1});if(-1!==zn)return ar[zn]}return function Ae(T,$,Ie){const F=(0,d.cg1)(T),Be=vt([F[d.wAp.DayPeriodsFormat],F[d.wAp.DayPeriodsStandalone]],$);return vt(Be,Ie)}($,de,F)[At<12?0:1];case cn.Eras:return function tt(T,$){return vt((0,d.cg1)(T)[d.wAp.Eras],$)}($,F)[T.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Ie}`)}}(de,Be,T,$,Ie,F)}}function ti(T){return function($,Ie,F){const de=-1*F,Be=qe(Ie,Qe.MinusSign),At=de>0?Math.floor(de/60):Math.ceil(de/60);switch(T){case gn.Short:return(de>=0?"+":"")+Xn(At,2,Be)+Xn(Math.abs(de%60),2,Be);case gn.ShortGMT:return"GMT"+(de>=0?"+":"")+Xn(At,1,Be);case gn.Long:return"GMT"+(de>=0?"+":"")+Xn(At,2,Be)+":"+Xn(Math.abs(de%60),2,Be);case gn.Extended:return 0===F?"Z":(de>=0?"+":"")+Xn(At,2,Be)+":"+Xn(Math.abs(de%60),2,Be);default:throw new Error(`Unknown zone width "${T}"`)}}}const cr=0,ni=4;function Cr(T){return kn(T.getFullYear(),T.getMonth(),T.getDate()+(ni-T.getDay()))}function ri(T,$=!1){return function(Ie,F){let de;if($){const Be=new Date(Ie.getFullYear(),Ie.getMonth(),1).getDay()-1,At=Ie.getDate();de=1+Math.floor((At+Be)/7)}else{const Be=Cr(Ie),At=function Jn(T){const $=kn(T,cr,1).getDay();return kn(T,0,1+($<=ni?ni:ni+7)-$)}(Be.getFullYear()),Wt=Be.getTime()-At.getTime();de=1+Math.round(Wt/6048e5)}return Xn(de,T,qe(F,Qe.MinusSign))}}function Qr(T,$=!1){return function(Ie,F){return Xn(Cr(Ie).getFullYear(),T,qe(F,Qe.MinusSign),$)}}const Mr={};function xr(T,$){T=T.replace(/:/g,"");const Ie=Date.parse("Jan 01, 1970 00:00:00 "+T)/6e4;return isNaN(Ie)?$:Ie}function z(T){return T instanceof Date&&!isNaN(T.valueOf())}function or(T,$){$=encodeURIComponent($);for(const Ie of T.split(";")){const F=Ie.indexOf("="),[de,Be]=-1==F?[Ie,""]:[Ie.slice(0,F),Ie.slice(F+1)];if(de.trim()===$)return decodeURIComponent(Be)}return null}class Ti{constructor($,Ie,F,de){this.$implicit=$,this.ngForOf=Ie,this.index=F,this.count=de}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gr=(()=>{var T;class ${set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}constructor(F,de,Be){this._viewContainer=F,this._template=de,this._differs=Be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const de=this._viewContainer;F.forEachOperation((Be,At,Wt)=>{if(null==Be.previousIndex)de.createEmbeddedView(this._template,new Ti(Be.item,this._ngForOf,-1,-1),null===Wt?void 0:Wt);else if(null==Wt)de.remove(null===At?void 0:At);else if(null!==At){const Zn=de.get(At);de.move(Zn,Wt),sr(Zn,Be)}});for(let Be=0,At=de.length;Be<At;Be++){const Zn=de.get(Be).context;Zn.index=Be,Zn.count=At,Zn.ngForOf=this._ngForOf}F.forEachIdentityChange(Be=>{sr(de.get(Be.currentIndex),Be)})}static ngTemplateContextGuard(F,de){return!0}}return(T=$).\u0275fac=function(F){return new(F||T)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},T.\u0275dir=d.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),$})();function sr(T,$){T.context.$implicit=$.item}let ci=(()=>{var T;class ${constructor(F,de){this._viewContainer=F,this._context=new Ei,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=de}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){Ji("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){Ji("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,de){return!0}}return(T=$).\u0275fac=function(F){return new(F||T)(d.Y36(d.s_b),d.Y36(d.Rgc))},T.\u0275dir=d.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),$})();class Ei{constructor(){this.$implicit=null,this.ngIf=null}}function Ji(T,$){if($&&!$.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,d.AaK)($)}'.`)}let Dt=(()=>{var T;class ${constructor(F){this._viewContainerRef=F,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(F){if(F.ngTemplateOutlet||F.ngTemplateOutletInjector){const de=this._viewContainerRef;if(this._viewRef&&de.remove(de.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Be,ngTemplateOutletContext:At,ngTemplateOutletInjector:Wt}=this;this._viewRef=de.createEmbeddedView(Be,At,Wt?{injector:Wt}:void 0)}else this._viewRef=null}else this._viewRef&&F.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(T=$).\u0275fac=function(F){return new(F||T)(d.Y36(d.s_b))},T.\u0275dir=d.lG2({type:T,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),$})();const qr=new d.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),wr=new d.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Jr=(()=>{var T;class ${constructor(F,de,Be){this.locale=F,this.defaultTimezone=de,this.defaultOptions=Be}transform(F,de,Be,At){if(null==F||""===F||F!=F)return null;try{var Wt,Zn,mr,ar,zn;const ai=null!==(Wt=null!=de?de:null===(Zn=this.defaultOptions)||void 0===Zn?void 0:Zn.dateFormat)&&void 0!==Wt?Wt:"mediumDate",kr=null!==(mr=null!==(ar=null!=Be?Be:null===(zn=this.defaultOptions)||void 0===zn?void 0:zn.timezone)&&void 0!==ar?ar:this.defaultTimezone)&&void 0!==mr?mr:void 0;return Wn(F,ai,At||this.locale,kr)}catch(ai){throw function Rt(T,$){return new d.vHH(2100,!1)}()}}}return(T=$).\u0275fac=function(F){return new(F||T)(d.Y36(d.soG,16),d.Y36(qr,24),d.Y36(wr,24))},T.\u0275pipe=d.Yjl({name:"date",type:T,pure:!0,standalone:!0}),$})(),Nr=(()=>{var T;class ${}return(T=$).\u0275fac=function(F){return new(F||T)},T.\u0275mod=d.oAB({type:T}),T.\u0275inj=d.cJS({}),$})();const Hi="browser",_i="server";function eo(T){return T===_i}let to=(()=>{var T;class ${}return(T=$).\u0275prov=(0,d.Yz7)({token:T,providedIn:"root",factory:()=>new no((0,d.LFG)(te),window)}),$})();class no{constructor($,Ie){this.document=$,this.window=Ie,this.offset=()=>[0,0]}setOffset($){this.offset=Array.isArray($)?()=>$:$}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition($){this.supportsScrolling()&&this.window.scrollTo($[0],$[1])}scrollToAnchor($){if(!this.supportsScrolling())return;const Ie=function lo(T,$){const Ie=T.getElementById($)||T.getElementsByName($)[0];if(Ie)return Ie;if("function"==typeof T.createTreeWalker&&T.body&&"function"==typeof T.body.attachShadow){const F=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let de=F.currentNode;for(;de;){const Be=de.shadowRoot;if(Be){const At=Be.getElementById($)||Be.querySelector(`[name="${$}"]`);if(At)return At}de=F.nextNode()}}return null}(this.document,$);Ie&&(this.scrollToElement(Ie),Ie.focus())}setHistoryScrollRestoration($){this.supportsScrolling()&&(this.window.history.scrollRestoration=$)}scrollToElement($){const Ie=$.getBoundingClientRect(),F=Ie.left+this.window.pageXOffset,de=Ie.top+this.window.pageYOffset,Be=this.offset();this.window.scrollTo(F-Be[0],de-Be[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Io{}},9862:(Ht,Ke,x)=>{"use strict";x.d(Ke,{JF:()=>O,eN:()=>ee});var d=x(5879),h=x(2096),Y=x(2459),ae=x(5592),Ee=x(6328),te=x(2181),ne=x(7398),$e=x(4716),Oe=x(4664),re=x(6814);class ue{}class De{}class Ce{constructor(Me){this.normalizedNames=new Map,this.lazyUpdate=null,Me?"string"==typeof Me?this.lazyInit=()=>{this.headers=new Map,Me.split("\n").forEach(dt=>{const me=dt.indexOf(":");if(me>0){const Se=dt.slice(0,me),Ye=Se.toLowerCase(),Pt=dt.slice(me+1).trim();this.maybeSetNormalizedName(Se,Ye),this.headers.has(Ye)?this.headers.get(Ye).push(Pt):this.headers.set(Ye,[Pt])}})}:typeof Headers<"u"&&Me instanceof Headers?(this.headers=new Map,Me.forEach((dt,me)=>{this.setHeaderEntries(me,dt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Me).forEach(([dt,me])=>{this.setHeaderEntries(dt,me)})}:this.headers=new Map}has(Me){return this.init(),this.headers.has(Me.toLowerCase())}get(Me){this.init();const dt=this.headers.get(Me.toLowerCase());return dt&&dt.length>0?dt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Me){return this.init(),this.headers.get(Me.toLowerCase())||null}append(Me,dt){return this.clone({name:Me,value:dt,op:"a"})}set(Me,dt){return this.clone({name:Me,value:dt,op:"s"})}delete(Me,dt){return this.clone({name:Me,value:dt,op:"d"})}maybeSetNormalizedName(Me,dt){this.normalizedNames.has(dt)||this.normalizedNames.set(dt,Me)}init(){this.lazyInit&&(this.lazyInit instanceof Ce?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Me=>this.applyUpdate(Me)),this.lazyUpdate=null))}copyFrom(Me){Me.init(),Array.from(Me.headers.keys()).forEach(dt=>{this.headers.set(dt,Me.headers.get(dt)),this.normalizedNames.set(dt,Me.normalizedNames.get(dt))})}clone(Me){const dt=new Ce;return dt.lazyInit=this.lazyInit&&this.lazyInit instanceof Ce?this.lazyInit:this,dt.lazyUpdate=(this.lazyUpdate||[]).concat([Me]),dt}applyUpdate(Me){const dt=Me.name.toLowerCase();switch(Me.op){case"a":case"s":let me=Me.value;if("string"==typeof me&&(me=[me]),0===me.length)return;this.maybeSetNormalizedName(Me.name,dt);const Se=("a"===Me.op?this.headers.get(dt):void 0)||[];Se.push(...me),this.headers.set(dt,Se);break;case"d":const Ye=Me.value;if(Ye){let Pt=this.headers.get(dt);if(!Pt)return;Pt=Pt.filter(It=>-1===Ye.indexOf(It)),0===Pt.length?(this.headers.delete(dt),this.normalizedNames.delete(dt)):this.headers.set(dt,Pt)}else this.headers.delete(dt),this.normalizedNames.delete(dt)}}setHeaderEntries(Me,dt){const me=(Array.isArray(dt)?dt:[dt]).map(Ye=>Ye.toString()),Se=Me.toLowerCase();this.headers.set(Se,me),this.maybeSetNormalizedName(Me,Se)}forEach(Me){this.init(),Array.from(this.normalizedNames.keys()).forEach(dt=>Me(this.normalizedNames.get(dt),this.headers.get(dt)))}}class xe{encodeKey(Me){return Xe(Me)}encodeValue(Me){return Xe(Me)}decodeKey(Me){return decodeURIComponent(Me)}decodeValue(Me){return decodeURIComponent(Me)}}const Fe=/%(\d[a-f0-9])/gi,fe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Xe(je){return encodeURIComponent(je).replace(Fe,(Me,dt)=>{var me;return null!==(me=fe[dt])&&void 0!==me?me:Me})}function it(je){return`${je}`}class ge{constructor(Me={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Me.encoder||new xe,Me.fromString){if(Me.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function He(je,Me){const dt=new Map;return je.length>0&&je.replace(/^\?/,"").split("&").forEach(Se=>{const Ye=Se.indexOf("="),[Pt,It]=-1==Ye?[Me.decodeKey(Se),""]:[Me.decodeKey(Se.slice(0,Ye)),Me.decodeValue(Se.slice(Ye+1))],tn=dt.get(Pt)||[];tn.push(It),dt.set(Pt,tn)}),dt}(Me.fromString,this.encoder)}else Me.fromObject?(this.map=new Map,Object.keys(Me.fromObject).forEach(dt=>{const me=Me.fromObject[dt],Se=Array.isArray(me)?me.map(it):[it(me)];this.map.set(dt,Se)})):this.map=null}has(Me){return this.init(),this.map.has(Me)}get(Me){this.init();const dt=this.map.get(Me);return dt?dt[0]:null}getAll(Me){return this.init(),this.map.get(Me)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Me,dt){return this.clone({param:Me,value:dt,op:"a"})}appendAll(Me){const dt=[];return Object.keys(Me).forEach(me=>{const Se=Me[me];Array.isArray(Se)?Se.forEach(Ye=>{dt.push({param:me,value:Ye,op:"a"})}):dt.push({param:me,value:Se,op:"a"})}),this.clone(dt)}set(Me,dt){return this.clone({param:Me,value:dt,op:"s"})}delete(Me,dt){return this.clone({param:Me,value:dt,op:"d"})}toString(){return this.init(),this.keys().map(Me=>{const dt=this.encoder.encodeKey(Me);return this.map.get(Me).map(me=>dt+"="+this.encoder.encodeValue(me)).join("&")}).filter(Me=>""!==Me).join("&")}clone(Me){const dt=new ge({encoder:this.encoder});return dt.cloneFrom=this.cloneFrom||this,dt.updates=(this.updates||[]).concat(Me),dt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Me=>this.map.set(Me,this.cloneFrom.map.get(Me))),this.updates.forEach(Me=>{switch(Me.op){case"a":case"s":const dt=("a"===Me.op?this.map.get(Me.param):void 0)||[];dt.push(it(Me.value)),this.map.set(Me.param,dt);break;case"d":if(void 0===Me.value){this.map.delete(Me.param);break}{let me=this.map.get(Me.param)||[];const Se=me.indexOf(it(Me.value));-1!==Se&&me.splice(Se,1),me.length>0?this.map.set(Me.param,me):this.map.delete(Me.param)}}}),this.cloneFrom=this.updates=null)}}class Pe{constructor(){this.map=new Map}set(Me,dt){return this.map.set(Me,dt),this}get(Me){return this.map.has(Me)||this.map.set(Me,Me.defaultValue()),this.map.get(Me)}delete(Me){return this.map.delete(Me),this}has(Me){return this.map.has(Me)}keys(){return this.map.keys()}}function ke(je){return typeof ArrayBuffer<"u"&&je instanceof ArrayBuffer}function _e(je){return typeof Blob<"u"&&je instanceof Blob}function lt(je){return typeof FormData<"u"&&je instanceof FormData}class ut{constructor(Me,dt,me,Se){let Ye;if(this.url=dt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Me.toUpperCase(),function ze(je){switch(je){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Se?(this.body=void 0!==me?me:null,Ye=Se):Ye=me,Ye&&(this.reportProgress=!!Ye.reportProgress,this.withCredentials=!!Ye.withCredentials,Ye.responseType&&(this.responseType=Ye.responseType),Ye.headers&&(this.headers=Ye.headers),Ye.context&&(this.context=Ye.context),Ye.params&&(this.params=Ye.params)),this.headers||(this.headers=new Ce),this.context||(this.context=new Pe),this.params){const Pt=this.params.toString();if(0===Pt.length)this.urlWithParams=dt;else{const It=dt.indexOf("?");this.urlWithParams=dt+(-1===It?"?":It<dt.length-1?"&":"")+Pt}}else this.params=new ge,this.urlWithParams=dt}serializeBody(){return null===this.body?null:ke(this.body)||_e(this.body)||lt(this.body)||function Qe(je){return typeof URLSearchParams<"u"&&je instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ge?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lt(this.body)?null:_e(this.body)?this.body.type||null:ke(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ge?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Me={}){var dt;const me=Me.method||this.method,Se=Me.url||this.url,Ye=Me.responseType||this.responseType,Pt=void 0!==Me.body?Me.body:this.body,It=void 0!==Me.withCredentials?Me.withCredentials:this.withCredentials,tn=void 0!==Me.reportProgress?Me.reportProgress:this.reportProgress;let ln=Me.headers||this.headers,qn=Me.params||this.params;const er=null!==(dt=Me.context)&&void 0!==dt?dt:this.context;return void 0!==Me.setHeaders&&(ln=Object.keys(Me.setHeaders).reduce((Gn,or)=>Gn.set(or,Me.setHeaders[or]),ln)),Me.setParams&&(qn=Object.keys(Me.setParams).reduce((Gn,or)=>Gn.set(or,Me.setParams[or]),qn)),new ut(me,Se,Pt,{params:qn,headers:ln,context:er,reportProgress:tn,responseType:Ye,withCredentials:It})}}var pt=function(je){return je[je.Sent=0]="Sent",je[je.UploadProgress=1]="UploadProgress",je[je.ResponseHeader=2]="ResponseHeader",je[je.DownloadProgress=3]="DownloadProgress",je[je.Response=4]="Response",je[je.User=5]="User",je}(pt||{});class Ae{constructor(Me,dt=200,me="OK"){this.headers=Me.headers||new Ce,this.status=void 0!==Me.status?Me.status:dt,this.statusText=Me.statusText||me,this.url=Me.url||null,this.ok=this.status>=200&&this.status<300}}class Te extends Ae{constructor(Me={}){super(Me),this.type=pt.ResponseHeader}clone(Me={}){return new Te({headers:Me.headers||this.headers,status:void 0!==Me.status?Me.status:this.status,statusText:Me.statusText||this.statusText,url:Me.url||this.url||void 0})}}class at extends Ae{constructor(Me={}){super(Me),this.type=pt.Response,this.body=void 0!==Me.body?Me.body:null}clone(Me={}){return new at({body:void 0!==Me.body?Me.body:this.body,headers:Me.headers||this.headers,status:void 0!==Me.status?Me.status:this.status,statusText:Me.statusText||this.statusText,url:Me.url||this.url||void 0})}}class tt extends Ae{constructor(Me){super(Me,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Me.url||"(unknown url)"}`:`Http failure response for ${Me.url||"(unknown url)"}: ${Me.status} ${Me.statusText}`,this.error=Me.error||null}}function Ue(je,Me){return{body:Me,headers:je.headers,context:je.context,observe:je.observe,params:je.params,reportProgress:je.reportProgress,responseType:je.responseType,withCredentials:je.withCredentials}}let ee=(()=>{var je;class Me{constructor(me){this.handler=me}request(me,Se,Ye={}){let Pt;if(me instanceof ut)Pt=me;else{let ln,qn;ln=Ye.headers instanceof Ce?Ye.headers:new Ce(Ye.headers),Ye.params&&(qn=Ye.params instanceof ge?Ye.params:new ge({fromObject:Ye.params})),Pt=new ut(me,Se,void 0!==Ye.body?Ye.body:null,{headers:ln,context:Ye.context,params:qn,reportProgress:Ye.reportProgress,responseType:Ye.responseType||"json",withCredentials:Ye.withCredentials})}const It=(0,h.of)(Pt).pipe((0,Ee.b)(ln=>this.handler.handle(ln)));if(me instanceof ut||"events"===Ye.observe)return It;const tn=It.pipe((0,te.h)(ln=>ln instanceof at));switch(Ye.observe||"body"){case"body":switch(Pt.responseType){case"arraybuffer":return tn.pipe((0,ne.U)(ln=>{if(null!==ln.body&&!(ln.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ln.body}));case"blob":return tn.pipe((0,ne.U)(ln=>{if(null!==ln.body&&!(ln.body instanceof Blob))throw new Error("Response is not a Blob.");return ln.body}));case"text":return tn.pipe((0,ne.U)(ln=>{if(null!==ln.body&&"string"!=typeof ln.body)throw new Error("Response is not a string.");return ln.body}));default:return tn.pipe((0,ne.U)(ln=>ln.body))}case"response":return tn;default:throw new Error(`Unreachable: unhandled observe type ${Ye.observe}}`)}}delete(me,Se={}){return this.request("DELETE",me,Se)}get(me,Se={}){return this.request("GET",me,Se)}head(me,Se={}){return this.request("HEAD",me,Se)}jsonp(me,Se){return this.request("JSONP",me,{params:(new ge).append(Se,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(me,Se={}){return this.request("OPTIONS",me,Se)}patch(me,Se,Ye={}){return this.request("PATCH",me,Ue(Ye,Se))}post(me,Se,Ye={}){return this.request("POST",me,Ue(Ye,Se))}put(me,Se,Ye={}){return this.request("PUT",me,Ue(Ye,Se))}}return(je=Me).\u0275fac=function(me){return new(me||je)(d.LFG(ue))},je.\u0275prov=d.Yz7({token:je,factory:je.\u0275fac}),Me})();function zt(je,Me){return Me(je)}function Je(je,Me){return(dt,me)=>Me.intercept(dt,{handle:Se=>je(Se,me)})}const _t=new d.OlP(""),Ot=new d.OlP(""),qt=new d.OlP("");function an(){let je=null;return(Me,dt)=>{var me;null===je&&(je=(null!==(me=(0,d.f3M)(_t,{optional:!0}))&&void 0!==me?me:[]).reduceRight(Je,zt));const Se=(0,d.f3M)(d.HDt),Ye=Se.add();return je(Me,dt).pipe((0,$e.x)(()=>Se.remove(Ye)))}}let vt=(()=>{var je;class Me extends ue{constructor(me,Se){super(),this.backend=me,this.injector=Se,this.chain=null,this.pendingTasks=(0,d.f3M)(d.HDt)}handle(me){if(null===this.chain){const Ye=Array.from(new Set([...this.injector.get(Ot),...this.injector.get(qt,[])]));this.chain=Ye.reduceRight((Pt,It)=>function mt(je,Me,dt){return(me,Se)=>dt.runInContext(()=>Me(me,Ye=>je(Ye,Se)))}(Pt,It,this.injector),zt)}const Se=this.pendingTasks.add();return this.chain(me,Ye=>this.backend.handle(Ye)).pipe((0,$e.x)(()=>this.pendingTasks.remove(Se)))}}return(je=Me).\u0275fac=function(me){return new(me||je)(d.LFG(De),d.LFG(d.lqb))},je.\u0275prov=d.Yz7({token:je,factory:je.\u0275fac}),Me})();const kn=/^\)\]\}',?\n/;let en=(()=>{var je;class Me{constructor(me){this.xhrFactory=me}handle(me){if("JSONP"===me.method)throw new d.vHH(-2800,!1);const Se=this.xhrFactory;return(Se.\u0275loadImpl?(0,Y.D)(Se.\u0275loadImpl()):(0,h.of)(null)).pipe((0,Oe.w)(()=>new ae.y(Pt=>{const It=Se.build();if(It.open(me.method,me.urlWithParams),me.withCredentials&&(It.withCredentials=!0),me.headers.forEach((pr,Sn)=>It.setRequestHeader(pr,Sn.join(","))),me.headers.has("Accept")||It.setRequestHeader("Accept","application/json, text/plain, */*"),!me.headers.has("Content-Type")){const pr=me.detectContentTypeHeader();null!==pr&&It.setRequestHeader("Content-Type",pr)}if(me.responseType){const pr=me.responseType.toLowerCase();It.responseType="json"!==pr?pr:"text"}const tn=me.serializeBody();let ln=null;const qn=()=>{if(null!==ln)return ln;const pr=It.statusText||"OK",Sn=new Ce(It.getAllResponseHeaders()),mi=function _r(je){return"responseURL"in je&&je.responseURL?je.responseURL:/^X-Request-URL:/m.test(je.getAllResponseHeaders())?je.getResponseHeader("X-Request-URL"):null}(It)||me.url;return ln=new Te({headers:Sn,status:It.status,statusText:pr,url:mi}),ln},er=()=>{let{headers:pr,status:Sn,statusText:mi,url:Ti}=qn(),gr=null;204!==Sn&&(gr=typeof It.response>"u"?It.responseText:It.response),0===Sn&&(Sn=gr?200:0);let sr=Sn>=200&&Sn<300;if("json"===me.responseType&&"string"==typeof gr){const dr=gr;gr=gr.replace(kn,"");try{gr=""!==gr?JSON.parse(gr):null}catch(ci){gr=dr,sr&&(sr=!1,gr={error:ci,text:gr})}}sr?(Pt.next(new at({body:gr,headers:pr,status:Sn,statusText:mi,url:Ti||void 0})),Pt.complete()):Pt.error(new tt({error:gr,headers:pr,status:Sn,statusText:mi,url:Ti||void 0}))},Gn=pr=>{const{url:Sn}=qn(),mi=new tt({error:pr,status:It.status||0,statusText:It.statusText||"Unknown Error",url:Sn||void 0});Pt.error(mi)};let or=!1;const Tr=pr=>{or||(Pt.next(qn()),or=!0);let Sn={type:pt.DownloadProgress,loaded:pr.loaded};pr.lengthComputable&&(Sn.total=pr.total),"text"===me.responseType&&It.responseText&&(Sn.partialText=It.responseText),Pt.next(Sn)},jn=pr=>{let Sn={type:pt.UploadProgress,loaded:pr.loaded};pr.lengthComputable&&(Sn.total=pr.total),Pt.next(Sn)};return It.addEventListener("load",er),It.addEventListener("error",Gn),It.addEventListener("timeout",Gn),It.addEventListener("abort",Gn),me.reportProgress&&(It.addEventListener("progress",Tr),null!==tn&&It.upload&&It.upload.addEventListener("progress",jn)),It.send(tn),Pt.next({type:pt.Sent}),()=>{It.removeEventListener("error",Gn),It.removeEventListener("abort",Gn),It.removeEventListener("load",er),It.removeEventListener("timeout",Gn),me.reportProgress&&(It.removeEventListener("progress",Tr),null!==tn&&It.upload&&It.upload.removeEventListener("progress",jn)),It.readyState!==It.DONE&&It.abort()}})))}}return(je=Me).\u0275fac=function(me){return new(me||je)(d.LFG(re.JF))},je.\u0275prov=d.Yz7({token:je,factory:je.\u0275fac}),Me})();const Xn=new d.OlP("XSRF_ENABLED"),Nn=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),_n=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ir{}let ti=(()=>{var je;class Me{constructor(me,Se,Ye){this.doc=me,this.platform=Se,this.cookieName=Ye,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const me=this.doc.cookie||"";return me!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,re.Mx)(me,this.cookieName),this.lastCookieString=me),this.lastToken}}return(je=Me).\u0275fac=function(me){return new(me||je)(d.LFG(re.K0),d.LFG(d.Lbi),d.LFG(Nn))},je.\u0275prov=d.Yz7({token:je,factory:je.\u0275fac}),Me})();function cr(je,Me){const dt=je.url.toLowerCase();if(!(0,d.f3M)(Xn)||"GET"===je.method||"HEAD"===je.method||dt.startsWith("http://")||dt.startsWith("https://"))return Me(je);const me=(0,d.f3M)(ir).getToken(),Se=(0,d.f3M)(_n);return null!=me&&!je.headers.has(Se)&&(je=je.clone({headers:je.headers.set(Se,me)})),Me(je)}var Jn=function(je){return je[je.Interceptors=0]="Interceptors",je[je.LegacyInterceptors=1]="LegacyInterceptors",je[je.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",je[je.NoXsrfProtection=3]="NoXsrfProtection",je[je.JsonpSupport=4]="JsonpSupport",je[je.RequestsMadeViaParent=5]="RequestsMadeViaParent",je[je.Fetch=6]="Fetch",je}(Jn||{});function Cr(je,Me){return{\u0275kind:je,\u0275providers:Me}}function ri(...je){const Me=[ee,en,vt,{provide:ue,useExisting:vt},{provide:De,useExisting:en},{provide:Ot,useValue:cr,multi:!0},{provide:Xn,useValue:!0},{provide:ir,useClass:ti}];for(const dt of je)Me.push(...dt.\u0275providers);return(0,d.MR2)(Me)}const Mr=new d.OlP("LEGACY_INTERCEPTOR_FN");let O=(()=>{var je;class Me{}return(je=Me).\u0275fac=function(me){return new(me||je)},je.\u0275mod=d.oAB({type:je}),je.\u0275inj=d.cJS({providers:[ri(Cr(Jn.LegacyInterceptors,[{provide:Mr,useFactory:an},{provide:Ot,useExisting:Mr,multi:!0}]))]}),Me})()},5879:(Ht,Ke,x)=>{"use strict";x.d(Ke,{$8M:()=>pi,$WT:()=>Jr,$Z:()=>Tv,AFp:()=>Ng,ALo:()=>eC,AaK:()=>De,CHM:()=>ga,CRH:()=>mC,EJc:()=>zw,EiD:()=>Dg,EpF:()=>oy,F$t:()=>ly,F4k:()=>_0,FYo:()=>sv,FiY:()=>vu,G48:()=>bb,Gf:()=>pC,GfV:()=>lv,GkF:()=>_d,Gpc:()=>xe,HDt:()=>VC,Hsn:()=>uy,JOm:()=>lf,JVY:()=>B_,JZr:()=>it,Jzz:()=>xy,KtG:()=>Ms,L6k:()=>El,LAX:()=>pE,LFG:()=>ct,LMc:()=>nA,Lbi:()=>hh,Lck:()=>sn,MAs:()=>ey,MMx:()=>Ir,MR2:()=>Tf,NdJ:()=>Tl,Ojb:()=>bE,OlP:()=>Wr,Oqu:()=>ts,P3R:()=>sh,PXZ:()=>_b,Q6J:()=>md,QGY:()=>sy,Qsj:()=>av,R0b:()=>Ui,RDi:()=>uE,Rgc:()=>d_,SBq:()=>Uu,Sil:()=>qw,Suo:()=>gC,TTD:()=>ar,TgZ:()=>nc,Tol:()=>Wm,VuI:()=>eA,X6Q:()=>wb,XFs:()=>gn,Xpm:()=>Ft,Xq5:()=>nd,Xts:()=>Ja,Y36:()=>Wu,YKP:()=>Jt,YNc:()=>h0,Yjl:()=>Ai,Yz7:()=>_t,Z0I:()=>vt,ZZ4:()=>BI,_Bn:()=>Ze,_UZ:()=>km,_c5:()=>jb,_uU:()=>Xm,aQg:()=>$I,c2e:()=>LC,cJS:()=>qt,cg1:()=>$y,dDg:()=>fb,dqk:()=>en,eBb:()=>$_,eFA:()=>YC,eJc:()=>CI,ekj:()=>Ey,eoX:()=>zC,f3M:()=>kt,g9A:()=>Z_,h0i:()=>gt,hGG:()=>Hb,hij:()=>Sp,iGM:()=>fC,ifc:()=>Ye,ip1:()=>FC,jDz:()=>yo,kL8:()=>U0,lG2:()=>di,lqb:()=>Fs,lri:()=>jC,mCW:()=>rh,n5z:()=>go,oAB:()=>nr,oxw:()=>Vm,pB0:()=>U_,q3G:()=>Cl,q4F:()=>uv,qFp:()=>rA,qLn:()=>ql,qOj:()=>cp,qZA:()=>Cp,qzn:()=>Pu,rWj:()=>HC,rg0:()=>de,sBO:()=>Ab,s_b:()=>Ky,soG:()=>Xy,tb:()=>OI,tp0:()=>qa,uIk:()=>fp,vHH:()=>ge,vpe:()=>sa,wAp:()=>lc,xi3:()=>tC,xp6:()=>tm,z2F:()=>$p,z3N:()=>Is,zSh:()=>Pg,zs3:()=>ps});var d=x(8645),h=x(7394),Y=x(5592),ae=x(3019),Ee=x(5619),te=x(2096),ne=x(3020),$e=x(4664),Oe=x(3997);function re(t){for(let r in t)if(t[r]===re)return r;throw Error("Could not find renamed property on target object.")}function ue(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function De(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(De).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ce(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const we=re({__forward_ref__:re});function xe(t){return t.__forward_ref__=xe,t.toString=function(){return De(this())},t}function He(t){return Fe(t)?t():t}function Fe(t){return"function"==typeof t&&t.hasOwnProperty(we)&&t.__forward_ref__===xe}function fe(t){return t&&!!t.\u0275providers}const it="https://g.co/ng/security#xss";class ge extends Error{constructor(r,s){super(function Le(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function Pe(t){return"string"==typeof t?t:null==t?"":String(t)}function Qe(t,r){throw new ge(-201,!1)}function St(t,r){null==t&&function Ct(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function _t(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function an(t){return Zt(t,On)||Zt(t,Sr)}function vt(t){return null!==an(t)}function Zt(t,r){return t.hasOwnProperty(r)?t[r]:null}function bt(t){return t&&(t.hasOwnProperty(Tn)||t.hasOwnProperty(Qn))?t[Tn]:null}const On=re({\u0275prov:re}),Tn=re({\u0275inj:re}),Sr=re({ngInjectableDef:re}),Qn=re({ngInjectorDef:re});var gn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(gn||{});let wn;function Wn(t){const r=wn;return wn=t,r}function kn(t,r,s){const a=an(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&gn.Optional?null:void 0!==r?r:void Qe(De(t))}const en=globalThis,Mr={},ii="__NG_DI_FLAG__",xr="ngTempTokenPath",Ve=/\n/gm,L="__source";let z;function se(t){const r=z;return z=t,r}function We(t,r=gn.Default){if(void 0===z)throw new ge(-203,!1);return null===z?kn(t,void 0,r):z.get(t,r&gn.Optional?null:void 0,r)}function ct(t,r=gn.Default){return(function cn(){return wn}()||We)(He(t),r)}function kt(t,r=gn.Default){return ct(t,yn(r))}function yn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function fn(t){const r=[];for(let s=0;s<t.length;s++){const a=He(t[s]);if(Array.isArray(a)){if(0===a.length)throw new ge(900,!1);let u,f=gn.Default;for(let _=0;_<a.length;_++){const D=a[_],S=je(D);"number"==typeof S?-1===S?u=D.token:f|=S:u=D}r.push(ct(u,f))}else r.push(ct(a))}return r}function Ln(t,r){return t[ii]=r,t.prototype[ii]=r,t}function je(t){return t[ii]}function me(t){return{toString:t}.toString()}var Se=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Se||{}),Ye=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ye||{});const Pt={},It=[],tn=re({\u0275cmp:re}),ln=re({\u0275dir:re}),qn=re({\u0275pipe:re}),er=re({\u0275mod:re}),Gn=re({\u0275fac:re}),or=re({__NG_ELEMENT_ID__:re}),Tr=re({__NG_ENV_ID__:re});function jn(t,r,s){let a=t.length;for(;;){const u=t.indexOf(r,s);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const f=r.length;if(u+f===a||t.charCodeAt(u+f)<=32)return u}s=u+1}}function pr(t,r,s){let a=0;for(;a<s.length;){const u=s[a];if("number"==typeof u){if(0!==u)break;a++;const f=s[a++],_=s[a++],D=s[a++];t.setAttribute(r,_,D,f)}else{const f=u,_=s[++a];mi(f)?t.setProperty(r,f,_):t.setAttribute(r,f,_),a++}}return a}function Sn(t){return 3===t||4===t||6===t}function mi(t){return 64===t.charCodeAt(0)}function Ti(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const u=r[a];"number"==typeof u?s=u:0===s||gr(t,s,u,null,-1===s||2===s?r[++a]:null)}}return t}function gr(t,r,s,a,u){let f=0,_=t.length;if(-1===r)_=-1;else for(;f<t.length;){const D=t[f++];if("number"==typeof D){if(D===r){_=-1;break}if(D>r){_=f-1;break}}}for(;f<t.length;){const D=t[f];if("number"==typeof D)break;if(D===s){if(null===a)return void(null!==u&&(t[f+1]=u));if(a===t[f+1])return void(t[f+2]=u)}f++,null!==a&&f++,null!==u&&f++}-1!==_&&(t.splice(_,0,r),f=_+1),t.splice(f++,0,s),null!==a&&t.splice(f++,0,a),null!==u&&t.splice(f++,0,u)}const sr="ng-template";function dr(t,r,s){let a=0,u=!0;for(;a<t.length;){let f=t[a++];if("string"==typeof f&&u){const _=t[a++];if(s&&"class"===f&&-1!==jn(_.toLowerCase(),r,0))return!0}else{if(1===f){for(;a<t.length&&"string"==typeof(f=t[a++]);)if(f.toLowerCase()===r)return!0;return!1}"number"==typeof f&&(u=!1)}}return!1}function ci(t){return 4===t.type&&t.value!==sr}function Ei(t,r,s){return r===(4!==t.type||s?t.value:sr)}function Ji(t,r,s){let a=4;const u=t.attrs||[],f=function ve(t){for(let r=0;r<t.length;r++)if(Sn(t[r]))return r;return t.length}(u);let _=!1;for(let D=0;D<r.length;D++){const S=r[D];if("number"!=typeof S){if(!_)if(4&a){if(a=2|1&a,""!==S&&!Ei(t,S,s)||""===S&&1===r.length){if($r(a))return!1;_=!0}}else{const B=8&a?S:r[++D];if(8&a&&null!==t.attrs){if(!dr(t.attrs,B,s)){if($r(a))return!1;_=!0}continue}const ce=wi(8&a?"class":S,u,ci(t),s);if(-1===ce){if($r(a))return!1;_=!0;continue}if(""!==B){let Ge;Ge=ce>f?"":u[ce+1].toLowerCase();const rt=8&a?Ge:null;if(rt&&-1!==jn(rt,B,0)||2&a&&B!==Ge){if($r(a))return!1;_=!0}}}}else{if(!_&&!$r(a)&&!$r(S))return!1;if(_&&$r(S))continue;_=!1,a=S|1&a}}return $r(a)||_}function $r(t){return 0==(1&t)}function wi(t,r,s,a){if(null===r)return-1;let u=0;if(a||!s){let f=!1;for(;u<r.length;){const _=r[u];if(_===t)return u;if(3===_||6===_)f=!0;else{if(1===_||2===_){let D=r[++u];for(;"string"==typeof D;)D=r[++u];continue}if(4===_)break;if(0===_){u+=4;continue}}u+=f?1:2}return-1}return function Ne(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function J(t,r,s=!1){for(let a=0;a<r.length;a++)if(Ji(t,r[a],s))return!0;return!1}function ht(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let u=0;u<t.length;u++)if(t[u]!==a[u])continue e;return!0}}return!1}function ot(t,r){return t?":not("+r.trim()+")":r}function Dt(t){let r=t[0],s=1,a=2,u="",f=!1;for(;s<t.length;){let _=t[s];if("string"==typeof _)if(2&a){const D=t[++s];u+="["+_+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?u+="."+_:4&a&&(u+=" "+_);else""!==u&&!$r(_)&&(r+=ot(f,u),u=""),a=_,f=f||!$r(a);s++}return""!==u&&(r+=ot(f,u)),r}function Ft(t){return me(()=>{var r;const s=ns(t),a={...s,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Se.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(r=t.signals)&&void 0!==r&&r,data:t.data||{},encapsulation:t.encapsulation||Ye.Emulated,styles:t.styles||It,_:null,schemas:t.schemas||null,tView:null,id:""};xo(a);const u=t.dependencies;return a.directiveDefs=Li(u,!1),a.pipeDefs=Li(u,!0),a.id=function gs(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of s)r=Math.imul(31,r)+u.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(a),a})}function In(t){return Vn(t)||qr(t)}function Mn(t){return null!==t}function nr(t){return me(()=>({type:t.type,bootstrap:t.bootstrap||It,declarations:t.declarations||It,imports:t.imports||It,exports:t.exports||It,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Hr(t,r){if(null==t)return Pt;const s={};for(const a in t)if(t.hasOwnProperty(a)){let u=t[a],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),s[u]=a,r&&(r[u]=f)}return s}function di(t){return me(()=>{const r=ns(t);return xo(r),r})}function Ai(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Vn(t){return t[tn]||null}function qr(t){return t[ln]||null}function wr(t){return t[qn]||null}function Jr(t){const r=Vn(t)||qr(t)||wr(t);return null!==r&&r.standalone}function ji(t,r){const s=t[er]||null;if(!s&&!0===r)throw new Error(`Type ${De(t)} does not have '\u0275mod' property.`);return s}function ns(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Pt,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||It,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hr(t.inputs,r),outputs:Hr(t.outputs)}}function xo(t){var r;null===(r=t.features)||void 0===r||r.forEach(s=>s(t))}function Li(t,r){if(!t)return null;const s=r?wr:In;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(Mn)}const br=0,un=1,vn=2,Or=3,ui=4,Oi=5,Yr=6,Ni=7,Nr=8,Hi=9,_i=10,xn=11,Eo=12,bo=13,eo=14,Ur=15,Ao=16,rs=17,to=18,no=19,lo=20,No=21,Io=22,zi=23,ls=24,Hn=25,Gi=1,Wi=2,hi=7,is=9,oi=11;function Si(t){return Array.isArray(t)&&"object"==typeof t[Gi]}function si(t){return Array.isArray(t)&&!0===t[Gi]}function Vi(t){return 0!=(4&t.flags)}function uo(t){return t.componentOffset>-1}function Ri(t){return 1==(1&t.flags)}function Bi(t){return!!t.template}function Rr(t){return 0!=(512&t[vn])}function Yi(t,r){return t.hasOwnProperty(Gn)?t[Gn]:null}let Pi=null,As=!1;function ki(t){const r=Pi;return Pi=t,r}const Yo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Bs(t){if(!ds(t)||t.dirty){if(!t.producerMustRecompute(t)&&!fi(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function da(t){var r;t.dirty=!0,function Oa(t){if(void 0===t.liveConsumerNode)return;const r=As;As=!0;try{for(const s of t.liveConsumerNode)s.dirty||da(s)}finally{As=r}}(t),null===(r=t.consumerMarkedDirty)||void 0===r||r.call(t,t)}function Ko(t){return t&&(t.nextProducerIndex=0),ki(t)}function ha(t,r){if(ki(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ds(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)ul(t.producerNode[s],t.producerIndexOfThis[s]);for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fi(t){Ss(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(Bs(s),a!==s.version))return!0}return!1}function Sl(t){if(Ss(t),ds(t))for(let r=0;r<t.producerNode.length;r++)ul(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ul(t,r){if(function Rl(t){var r,s;null!==(r=t.liveConsumerNode)&&void 0!==r||(t.liveConsumerNode=[]),null!==(s=t.liveConsumerIndexOfThis)&&void 0!==s||(t.liveConsumerIndexOfThis=[])}(t),Ss(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)ul(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],u=t.liveConsumerNode[r];Ss(u),u.producerIndexOfThis[a]=r}}function ds(t){var r,s;return t.consumerIsAlwaysLive||(null!==(r=null==t||null===(s=t.liveConsumerNode)||void 0===s?void 0:s.length)&&void 0!==r?r:0)>0}function Ss(t){var r,s,a;null!==(r=t.producerNode)&&void 0!==r||(t.producerNode=[]),null!==(s=t.producerIndexOfThis)&&void 0!==s||(t.producerIndexOfThis=[]),null!==(a=t.producerLastReadVersion)&&void 0!==a||(t.producerLastReadVersion=[])}let hl=null;function de(t){const r=ki(null);try{return t()}finally{ki(r)}}const At=()=>{},Wt={...Yo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:At};class mr{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function ar(){return zn}function zn(t){return t.type.prototype.ngOnChanges&&(t.setInput=kr),ai}function ai(){const t=hs(this),r=null==t?void 0:t.current;if(r){const s=t.previous;if(s===Pt)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function kr(t,r,s,a){const u=this.declaredInputs[s],f=hs(t)||function fo(t,r){return t[$i]=r}(t,{previous:Pt,current:null}),_=f.current||(f.current={}),D=f.previous,S=D[u];_[u]=new mr(S&&S.currentValue,r,D===Pt),t[a]=r}ar.ngInherit=!0;const $i="__ngSimpleChanges__";function hs(t){return t[$i]||null}const ro=function(t,r,s){};function Kn(t){for(;Array.isArray(t);)t=t[br];return t}function jr(t,r){return Kn(r[t])}function io(t,r){return Kn(r[t.index])}function Zo(t,r){return t.data[r]}function Hs(t,r){return t[r]}function So(t,r){const s=r[t];return Si(s)?s:s[br]}function po(t,r){return null==r?null:t[r]}function $o(t){t[rs]=0}function Ki(t){1024&t[vn]||(t[vn]|=1024,zs(t,1))}function Xo(t){1024&t[vn]&&(t[vn]&=-1025,zs(t,-1))}function zs(t,r){let s=t[Or];if(null===s)return;s[Oi]+=r;let a=s;for(s=s[Or];null!==s&&(1===r&&1===a[Oi]||-1===r&&0===a[Oi]);)s[Oi]+=r,a=s,s=s[Or]}const Yn={lFrame:Kr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Cd(){return Yn.bindingsEnabled}function Ws(){return null!==Yn.skipHydrationRootTNode}function Ut(){return Yn.lFrame.lView}function Fn(){return Yn.lFrame.tView}function ga(t){return Yn.lFrame.contextLView=t,t[Nr]}function Ms(t){return Yn.lFrame.contextLView=null,t}function Mi(){let t=hc();for(;null!==t&&64===t.type;)t=t.parent;return t}function hc(){return Yn.lFrame.currentTNode}function zr(t,r){const s=Yn.lFrame;s.currentTNode=t,s.isParent=r}function Zi(){return Yn.lFrame.isParent}function Ys(){Yn.lFrame.isParent=!1}function Ii(){return Yn.lFrame.bindingIndex++}function xs(t){const r=Yn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function M(t,r){const s=Yn.lFrame;s.bindingIndex=s.bindingRootIndex=t,N(r)}function N(t){Yn.lFrame.currentDirectiveIndex=t}function pe(){return Yn.lFrame.currentQueryIndex}function st(t){Yn.lFrame.currentQueryIndex=t}function Yt(t){const r=t[un];return 2===r.type?r.declTNode:1===r.type?t[Yr]:null}function yt(t,r,s){if(s&gn.SkipSelf){let u=r,f=t;for(;!(u=u.parent,null!==u||s&gn.Host||(u=Yt(f),null===u||(f=f[eo],10&u.type))););if(null===u)return!1;r=u,t=f}const a=Yn.lFrame=Rn();return a.currentTNode=r,a.lView=t,!0}function xt(t){const r=Rn(),s=t[un];Yn.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Rn(){const t=Yn.lFrame,r=null===t?null:t.child;return null===r?Kr(t):r}function Kr(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function hr(){const t=Yn.lFrame;return Yn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const nn=hr;function xi(){const t=hr();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function tr(){return Yn.lFrame.selectedIndex}function rn(t){Yn.lFrame.selectedIndex=t}function Zr(){const t=Yn.lFrame;return Zo(t.tView,t.selectedIndex)}let va=!0;function au(){return va}function Os(t){va=t}function Va(t,r){for(let B=r.directiveStart,W=r.directiveEnd;B<W;B++){const Ge=t.data[B].type.prototype,{ngAfterContentInit:rt,ngAfterContentChecked:Mt,ngAfterViewInit:Kt,ngAfterViewChecked:dn,ngOnDestroy:An}=Ge;var s,a,u,f,_,D,S;rt&&(null!==(s=t.contentHooks)&&void 0!==s?s:t.contentHooks=[]).push(-B,rt),Mt&&((null!==(a=t.contentHooks)&&void 0!==a?a:t.contentHooks=[]).push(B,Mt),(null!==(u=t.contentCheckHooks)&&void 0!==u?u:t.contentCheckHooks=[]).push(B,Mt)),Kt&&(null!==(f=t.viewHooks)&&void 0!==f?f:t.viewHooks=[]).push(-B,Kt),dn&&((null!==(_=t.viewHooks)&&void 0!==_?_:t.viewHooks=[]).push(B,dn),(null!==(D=t.viewCheckHooks)&&void 0!==D?D:t.viewCheckHooks=[]).push(B,dn)),null!=An&&(null!==(S=t.destroyHooks)&&void 0!==S?S:t.destroyHooks=[]).push(B,An)}}function lu(t,r,s){Zs(t,r,3,s)}function ml(t,r,s,a){(3&t[vn])===s&&Zs(t,r,s,a)}function Ks(t,r){let s=t[vn];(3&s)===r&&(s&=8191,s+=1,t[vn]=s)}function Zs(t,r,s,a){const f=null!=a?a:-1,_=r.length-1;let D=0;for(let S=void 0!==a?65535&t[rs]:0;S<_;S++)if("number"==typeof r[S+1]){if(D=r[S],null!=a&&D>=a)break}else r[S]<0&&(t[rs]+=65536),(D<f||-1==f)&&(pc(t,s,r,S),t[rs]=(4294901760&t[rs])+S+2),S++}function ft(t,r){ro(4,t,r);const s=ki(null);try{r.call(t)}finally{ki(s),ro(5,t,r)}}function pc(t,r,s,a){const u=s[a]<0,f=s[a+1],D=t[u?-s[a]:s[a]];u?t[vn]>>13<t[rs]>>16&&(3&t[vn])===r&&(t[vn]+=8192,ft(D,f)):ft(D,f)}const jo=-1;class uu{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Ro(t){return t!==jo}function Ns(t){return 32767&t}function Xs(t,r){let s=function cu(t){return t>>16}(t),a=r;for(;s>0;)a=a[eo],s--;return a}let Co=!0;function mc(t){const r=Co;return Co=t,r}const fs=255,du=5;let _c=0;const vs={};function hu(t,r){const s=Qh(t,r);if(-1!==s)return s;const a=r[un];a.firstCreatePass&&(t.injectorIndex=r.length,Ad(a.data,t),Ad(r,null),Ad(a.blueprint,null));const u=kl(t,r),f=t.injectorIndex;if(Ro(u)){const _=Ns(u),D=Xs(u,r),S=D[un].data;for(let B=0;B<8;B++)r[f+B]=D[_+B]|S[_+B]}return r[f+8]=u,f}function Ad(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Qh(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function kl(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,u=r;for(;null!==u;){if(a=Md(u),null===a)return jo;if(s++,u=u[eo],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return jo}function Sd(t,r,s){!function Xh(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(or)&&(a=s[or]),null==a&&(a=s[or]=_c++);const u=a&fs;r.data[t+(u>>du)]|=1<<u}(t,r,s)}function vc(t,r,s){if(s&gn.Optional||void 0!==t)return t;Qe()}function Jh(t,r,s,a){if(s&gn.Optional&&void 0===a&&(a=null),!(s&(gn.Self|gn.Host))){const u=t[Hi],f=Wn(void 0);try{return u?u.get(r,a,s&gn.Optional):kn(r,a,s&gn.Optional)}finally{Wn(f)}}return vc(a,0,s)}function ef(t,r,s,a=gn.Default,u){if(null!==t){if(2048&r[vn]&&!(a&gn.Self)){const _=function Qs(t,r,s,a,u){let f=t,_=r;for(;null!==f&&null!==_&&2048&_[vn]&&!(512&_[vn]);){const D=yc(f,_,s,a|gn.Self,vs);if(D!==vs)return D;let S=f.parent;if(!S){const B=_[lo];if(B){const W=B.get(s,vs,a);if(W!==vs)return W}S=Md(_),_=_[eo]}f=S}return u}(t,r,s,a,vs);if(_!==vs)return _}const f=yc(t,r,s,a,vs);if(f!==vs)return f}return Jh(r,s,a,u)}function yc(t,r,s,a,u){const f=function Rd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(or)?t[or]:void 0;return"number"==typeof r?r>=0?r&fs:Dc:r}(s);if("function"==typeof f){if(!yt(r,t,a))return a&gn.Host?vc(u,0,a):Jh(r,s,a,u);try{let _;if(_=f(a),null!=_||a&gn.Optional)return _;Qe()}finally{nn()}}else if("number"==typeof f){let _=null,D=Qh(t,r),S=jo,B=a&gn.Host?r[Ur][Yr]:null;for((-1===D||a&gn.SkipSelf)&&(S=-1===D?kl(t,r):r[D+8],S!==jo&&Ic(a,!1)?(_=r[un],D=Ns(S),r=Xs(S,r)):D=-1);-1!==D;){const W=r[un];if(Ec(f,D,W.data)){const ce=zp(D,r,s,_,a,B);if(ce!==vs)return ce}S=r[D+8],S!==jo&&Ic(a,r[un].data[D+8]===B)&&Ec(f,D,r)?(_=W,D=Ns(S),r=Xs(S,r)):D=-1}}return u}function zp(t,r,s,a,u,f){const _=r[un],D=_.data[t+8],W=Fl(D,_,s,null==a?uo(D)&&Co:a!=_&&0!=(3&D.type),u&gn.Host&&f===D);return null!==W?ya(r,_,W,D):vs}function Fl(t,r,s,a,u){const f=t.providerIndexes,_=r.data,D=1048575&f,S=t.directiveStart,W=f>>20,Ge=u?D+W:t.directiveEnd;for(let rt=a?D:D+W;rt<Ge;rt++){const Mt=_[rt];if(rt<S&&s===Mt||rt>=S&&Mt.type===s)return rt}if(u){const rt=_[S];if(rt&&Bi(rt)&&rt.type===s)return S}return null}function ya(t,r,s,a){let u=t[s];const f=r.data;if(function _l(t){return t instanceof uu}(u)){const _=u;_.resolving&&function ke(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new ge(-200,`Circular dependency in DI detected for ${t}${s}`)}(function ze(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Pe(t)}(f[s]));const D=mc(_.canSeeViewProviders);_.resolving=!0;const B=_.injectImpl?Wn(_.injectImpl):null;yt(t,a,gn.Default);try{u=t[s]=_.factory(void 0,f,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Uo(t,r,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:f}=r.type.prototype;if(a){var _,D;const ce=zn(r);(null!==(_=s.preOrderHooks)&&void 0!==_?_:s.preOrderHooks=[]).push(t,ce),(null!==(D=s.preOrderCheckHooks)&&void 0!==D?D:s.preOrderCheckHooks=[]).push(t,ce)}var S,B,W;u&&(null!==(S=s.preOrderHooks)&&void 0!==S?S:s.preOrderHooks=[]).push(0-t,u),f&&((null!==(B=s.preOrderHooks)&&void 0!==B?B:s.preOrderHooks=[]).push(t,f),(null!==(W=s.preOrderCheckHooks)&&void 0!==W?W:s.preOrderCheckHooks=[]).push(t,f))}(s,f[s],r)}finally{null!==B&&Wn(B),mc(D),_.resolving=!1,nn()}}return u}function Ec(t,r,s){return!!(s[r+(t>>du)]&1<<t)}function Ic(t,r){return!(t&gn.Self||t&gn.Host&&r)}class Ho{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return ef(this._tNode,this._lView,r,yn(a),s)}}function Dc(){return new Ho(Mi(),Ut())}function go(t){return me(()=>{const r=t.prototype.constructor,s=r[Gn]||fu(r),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const f=u[Gn]||fu(u);if(f&&f!==s)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function fu(t){return Fe(t)?()=>{const r=fu(He(t));return r&&r()}:Yi(t)}function Md(t){const r=t[un],s=r.type;return 2===s?r.declTNode:1===s?t[Yr]:null}function pi(t){return function Hp(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const f=s[u];if(Sn(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(f===r)return s[u+1];u+=2}}}return null}(Mi(),t)}const Fi="__parameters__";function mo(t,r,s){return me(()=>{const a=function Ia(t){return function(...s){if(t){const a=t(...s);for(const u in a)this[u]=a[u]}}}(r);function u(...f){if(this instanceof u)return a.apply(this,f),this;const _=new u(...f);return D.annotation=_,D;function D(S,B,W){const ce=S.hasOwnProperty(Fi)?S[Fi]:Object.defineProperty(S,Fi,{value:[]})[Fi];for(;ce.length<=W;)ce.push(null);return(ce[W]=ce[W]||[]).push(_),S}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function Js(t,r){t.forEach(s=>Array.isArray(s)?Js(s,r):r(s))}function Ca(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function pu(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ea(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function _o(t,r,s){let a=za(t,r);return a>=0?t[1|a]=s:(a=~a,function Ta(t,r,s,a){let u=t.length;if(u==r)t.push(s,a);else if(1===u)t.push(a,t[0]),t[0]=s;else{for(u--,t.push(t[u-1],t[u]);u>r;)t[u]=t[u-2],u--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function Tc(t,r){const s=za(t,r);if(s>=0)return t[1|s]}function za(t,r){return function Ga(t,r,s){let a=0,u=t.length>>s;for(;u!==a;){const f=a+(u-a>>1),_=t[f<<s];if(r===_)return f<<s;_>r?u=f:a=f+1}return~(u<<s)}(t,r,1)}const vu=Ln(mo("Optional"),8),qa=Ln(mo("SkipSelf"),4);function af(t){return 128==(128&t.flags)}var lf=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(lf||{});const Es=/^>|^->|<!--|-->|--!>|<!-$/g,E_=/(<|>)/g,Gd="\u200b$1\u200b";const ia=new Map;let I_=0;const cf="__ngContext__";function Po(t,r){Si(r)?(t[cf]=r[no],function iE(t){ia.set(t[no],t)}(r)):t[cf]=r}let wu;function eg(t,r){return wu(t,r)}function Ci(t){const r=t[Or];return si(r)?r[Or]:r}function tg(t){return Rc(t[Eo])}function S_(t){return Rc(t[ui])}function Rc(t){for(;null!==t&&!si(t);)t=t[ui];return t}function Pc(t,r,s,a,u){if(null!=a){let f,_=!1;si(a)?f=a:Si(a)&&(_=!0,a=a[br]);const D=Kn(a);0===t&&null!==s?null==u?x_(r,s,D):Ul(r,s,D,u||null,!0):1===t&&null!==s?Ul(r,s,D,u||null,!0):2===t?function vf(t,r,s){const a=jl(t,r);a&&function O_(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,D,_):3===t&&r.destroyNode(D),null!=f&&function aE(t,r,s,a,u){const f=s[hi];f!==Kn(s)&&Pc(r,t,a,f,u);for(let D=oi;D<s.length;D++){const S=s[D];Au(S[un],S,t,r,a,f)}}(r,t,f,s,u)}}function wa(t,r){return t.createComment(function Xp(t){return t.replace(Es,r=>r.replace(E_,Gd))}(r))}function Kd(t,r,s){return t.createElement(r,s)}function ff(t,r){const s=t[is],a=s.indexOf(r);Xo(r),s.splice(a,1)}function pf(t,r){if(t.length<=oi)return;const s=oi+r,a=t[s];if(a){const u=a[Ao];null!==u&&u!==t&&ff(u,a),r>0&&(t[s-1][ui]=a[ui]);const f=pu(t,oi+r);!function R_(t,r){Au(t,r,r[xn],2,null,null),r[br]=null,r[Yr]=null}(a[un],a);const _=f[to];null!==_&&_.detachView(f[un]),a[Or]=null,a[ui]=null,a[vn]&=-129}return a}function og(t,r){if(!(256&r[vn])){const s=r[xn];r[zi]&&Sl(r[zi]),r[ls]&&Sl(r[ls]),s.destroyNode&&Au(t,r,s,3,null,null),function ng(t){let r=t[Eo];if(!r)return ao(t[un],t);for(;r;){let s=null;if(Si(r))s=r[Eo];else{const a=r[oi];a&&(s=a)}if(!s){for(;r&&!r[ui]&&r!==t;)Si(r)&&ao(r[un],r),r=r[Or];null===r&&(r=t),Si(r)&&ao(r[un],r),s=r&&r[ui]}r=s}}(r)}}function ao(t,r){if(!(256&r[vn])){r[vn]&=-129,r[vn]|=256,function M_(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const u=r[s[a]];if(!(u instanceof uu)){const f=s[a+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const D=u[f[_]],S=f[_+1];ro(4,D,S);try{S.call(D)}finally{ro(5,D,S)}}else{ro(4,u,f);try{f.call(u)}finally{ro(5,u,f)}}}}}(t,r),function Xr(t,r){const s=t.cleanup,a=r[Ni];if(null!==s)for(let f=0;f<s.length-1;f+=2)if("string"==typeof s[f]){const _=s[f+3];_>=0?a[_]():a[-_].unsubscribe(),f+=2}else s[f].call(a[s[f+1]]);null!==a&&(r[Ni]=null);const u=r[No];if(null!==u){r[No]=null;for(let f=0;f<u.length;f++)(0,u[f])()}}(t,r),1===r[un].type&&r[xn].destroy();const s=r[Ao];if(null!==s&&si(r[Or])){s!==r[Or]&&ff(s,r);const a=r[to];null!==a&&a.detachView(t)}!function Er(t){ia.delete(t[no])}(r)}}function gf(t,r,s){return function Zd(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[br];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:f}=t.data[a.directiveStart+u];if(f===Ye.None||f===Ye.Emulated)return null}return io(a,s)}}(t,r.parent,s)}function Ul(t,r,s,a,u){t.insertBefore(r,s,a,u)}function x_(t,r,s){t.appendChild(r,s)}function sg(t,r,s,a,u){null!==a?Ul(t,r,s,a,u):x_(t,r,s)}function jl(t,r){return t.parentNode(r)}function xc(t,r,s){return ag(t,r,s)}let mf,ks,gg,Fc,ag=function Qd(t,r,s){return 40&t.type?io(t,s):null};function _f(t,r,s,a){const u=gf(t,a,r),f=r[xn],D=xc(a.parent||r[Yr],a,r);if(null!=u)if(Array.isArray(s))for(let S=0;S<s.length;S++)sg(f,u,s[S],D,!1);else sg(f,u,s,D,!1);void 0!==mf&&mf(f,a,r,s,u)}function Oc(t,r){if(null!==r){const s=r.type;if(3&s)return io(r,t);if(4&s)return cg(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return Oc(t,a);{const u=t[r.index];return si(u)?cg(-1,u):Kn(u)}}if(32&s)return eg(r,t)()||Kn(t[r.index]);{const a=ug(t,r);return null!==a?Array.isArray(a)?a[0]:Oc(Ci(t[Ur]),a):Oc(t,r.next)}}return null}function ug(t,r){return null!==r?t[Ur][Yr].projection[r.projection]:null}function cg(t,r){const s=oi+t+1;if(s<r.length){const a=r[s],u=a[un].firstChild;if(null!==u)return Oc(a,u)}return r[hi]}function dg(t,r,s,a,u,f,_){for(;null!=s;){const D=a[s.index],S=s.type;if(_&&0===r&&(D&&Po(Kn(D),a),s.flags|=2),32!=(32&s.flags))if(8&S)dg(t,r,s.child,a,u,f,!1),Pc(r,t,u,D,f);else if(32&S){const B=eg(s,a);let W;for(;W=B();)Pc(r,t,u,W,f);Pc(r,t,u,D,f)}else 16&S?hg(t,r,a,s,u,f):Pc(r,t,u,D,f);s=_?s.projectionNext:s.next}}function Au(t,r,s,a,u,f){dg(s,a,t.firstChild,r,u,f,!1)}function hg(t,r,s,a,u,f){const _=s[Ur],S=_[Yr].projection[a.projection];if(Array.isArray(S))for(let B=0;B<S.length;B++)Pc(r,t,u,S[B],f);else{let B=S;const W=_[Or];af(a)&&(B.flags|=128),dg(t,r,B,W,u,f,!0)}}function pg(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function kc(t,r,s){const{mergedAttrs:a,classes:u,styles:f}=s;null!==a&&pr(t,r,a),null!==u&&pg(t,r,u),null!==f&&function fg(t,r,s){t.setAttribute(r,"style",s)}(t,r,f)}function Su(t){var r;return(null===(r=function Jd(){if(void 0===ks&&(ks=null,en.trustedTypes))try{ks=en.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ks}())||void 0===r?void 0:r.createHTML(t))||t}function uE(t){gg=t}function vg(t){var r;return(null===(r=function mg(){if(void 0===Fc&&(Fc=null,en.trustedTypes))try{Fc=en.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Fc}())||void 0===r?void 0:r.createScriptURL(t))||t}class Ru{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${it})`}}class V_ extends Ru{getTypeName(){return"HTML"}}class cE extends Ru{getTypeName(){return"Style"}}class dE extends Ru{getTypeName(){return"Script"}}class hE extends Ru{getTypeName(){return"URL"}}class Hl extends Ru{getTypeName(){return"ResourceURL"}}function Is(t){return t instanceof Ru?t.changingThisBreaksApplicationSecurity:t}function Pu(t,r){const s=function fE(t){return t instanceof Ru&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${it})`)}return s===r}function B_(t){return new V_(t)}function El(t){return new cE(t)}function $_(t){return new dE(t)}function pE(t){return new hE(t)}function U_(t){return new Hl(t)}class Mu{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Su(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class xu{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=Su(r),s}}const nh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rh(t){return(t=String(t)).match(nh)?t:"unsafe:"+t}function ba(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function Nu(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const yg=ba("area,br,col,hr,img,wbr"),Eg=ba("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),j_=ba("rp,rt"),ku=Nu(yg,Nu(Eg,ba("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nu(j_,ba("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Nu(j_,Eg)),Il=ba("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),H_=Nu(Il,ba("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ba("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vE=ba("script,style,template");class yE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let u=this.checkClobberedElement(s,s.nextSibling);if(u){s=u;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!ku.hasOwnProperty(s))return this.sanitizedSomething=!0,!vE.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let u=0;u<a.length;u++){const f=a.item(u),_=f.name,D=_.toLowerCase();if(!H_.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let S=f.value;Il[D]&&(S=rh(S)),this.buf.push(" ",_,'="',Dl(S),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();ku.hasOwnProperty(s)&&!yg.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Dl(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const ih=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fu=/([^\#-~ |!])/g;function Dl(t){return t.replace(/&/g,"&amp;").replace(ih,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Fu,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let oh;function Dg(t,r){let s=null;try{oh=oh||function th(t){const r=new xu(t);return function Ou(){try{return!!(new window.DOMParser).parseFromString(Su(""),"text/html")}catch{return!1}}()?new Mu(r):r}(t);let a=r?String(r):"";s=oh.getInertBodyElement(a);let u=5,f=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=f,f=s.innerHTML,s=oh.getInertBodyElement(a)}while(a!==f);return Su((new yE).sanitizeChildren(Ef(s)||s))}finally{if(s){const a=Ef(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Ef(t){return"content"in t&&function EE(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Cl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Cl||{});function If(t){const r=Qa();return r?r.sanitize(Cl.URL,t)||"":Pu(t,"URL")?Is(t):rh(Pe(t))}function Df(t){const r=Qa();if(r)return vg(r.sanitize(Cl.RESOURCE_URL,t)||"");if(Pu(t,"ResourceURL"))return vg(Is(t));throw new ge(904,!1)}function sh(t,r,s){return function Tg(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Df:If}(r,s)(t)}function Qa(){const t=Ut();return t&&t[_i].sanitizer}class Wr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=_t({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ja=new Wr("ENVIRONMENT_INITIALIZER"),wg=new Wr("INJECTOR",-1),bg=new Wr("INJECTOR_DEF_TYPES");class zo{get(r,s=Mr){if(s===Mr){const a=new Error(`NullInjectorError: No provider for ${De(r)}!`);throw a.name="NullInjectorError",a}return s}}function Tf(t){return{\u0275providers:t}}function wf(...t){return{\u0275providers:ah(0,t),\u0275fromNgModule:!0}}function ah(t,...r){const s=[],a=new Set;let u;const f=_=>{s.push(_)};return Js(r,_=>{const D=_;Aa(D,f,[],a)&&(u||(u=[]),u.push(D))}),void 0!==u&&Ag(u,f),s}function Ag(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:u}=t[s];bf(u,f=>{r(f,a)})}}function Aa(t,r,s,a){if(!(t=He(t)))return!1;let u=null,f=bt(t);const _=!f&&Vn(t);if(f||_){if(_&&!_.standalone)return!1;u=t}else{const S=t.ngModule;if(f=bt(S),!f)return!1;u=S}const D=a.has(u);if(_){if(D)return!1;if(a.add(u),_.dependencies){const S="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const B of S)Aa(B,r,s,a)}}else{if(!f)return!1;{if(null!=f.imports&&!D){let B;a.add(u);try{Js(f.imports,W=>{Aa(W,r,s,a)&&(B||(B=[]),B.push(W))})}finally{}void 0!==B&&Ag(B,r)}if(!D){const B=Yi(u)||(()=>new u);r({provide:u,useFactory:B,deps:It},u),r({provide:bg,useValue:u,multi:!0},u),r({provide:Ja,useValue:()=>ct(u),multi:!0},u)}const S=f.providers;if(null!=S&&!D){const B=t;bf(S,W=>{r(W,B)})}}}return u!==t&&void 0!==t.providers}function bf(t,r){for(let s of t)fe(s)&&(s=s.\u0275providers),Array.isArray(s)?bf(s,r):r(s)}const Lu=re({provide:String,useValue:re});function Sg(t){return null!==t&&"object"==typeof t&&Lu in t}function Ds(t){return"function"==typeof t}const Pg=new Wr("Set Injector scope."),uh={},CE={};let Af;function Sf(){return void 0===Af&&(Af=new zo),Af}class Fs{}class ch extends Fs{get destroyed(){return this._destroyed}constructor(r,s,a,u){super(),this.parent=s,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Og(r,_=>this.processProvider(_)),this.records.set(wg,oa(void 0,this)),u.has("environment")&&this.records.set(Fs,oa(void 0,this));const f=this.records.get(Pg);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(bg.multi,It,gn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=se(this),a=Wn(void 0);try{return r()}finally{se(s),Wn(a)}}get(r,s=Mr,a=gn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Tr))return r[Tr](this);a=yn(a);const f=se(this),_=Wn(void 0);try{if(!(a&gn.SkipSelf)){let S=this.records.get(r);if(void 0===S){const B=function K_(t){return"function"==typeof t||"object"==typeof t&&t instanceof Wr}(r)&&an(r);S=B&&this.injectableDefInScope(B)?oa(Mg(r),uh):null,this.records.set(r,S)}if(null!=S)return this.hydrate(r,S)}return(a&gn.Self?Sf():this.parent).get(r,s=a&gn.Optional&&s===Mr?null:s)}catch(D){if("NullInjectorError"===D.name){if((D[xr]=D[xr]||[]).unshift(De(r)),f)throw D;return function Me(t,r,s,a){const u=t[xr];throw r[L]&&u.unshift(r[L]),t.message=function dt(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=De(r);if(Array.isArray(r))u=r.map(De).join(" -> ");else if("object"==typeof r){let f=[];for(let _ in r)if(r.hasOwnProperty(_)){let D=r[_];f.push(_+":"+("string"==typeof D?JSON.stringify(D):De(D)))}u=`{${f.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${t.replace(Ve,"\n  ")}`}("\n"+t.message,u,s,a),t.ngTokenPath=u,t[xr]=null,t}(D,r,"R3InjectorError",this.source)}throw D}finally{Wn(_),se(f)}}resolveInjectorInitializers(){const r=se(this),s=Wn(void 0);try{const u=this.get(Ja.multi,It,gn.Self);for(const f of u)f()}finally{se(r),Wn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(De(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(r){let s=Ds(r=He(r))?r:He(r&&r.provide);const a=function TE(t){return Sg(t)?oa(void 0,t.useValue):oa(xg(t),uh)}(r);if(Ds(r)||!0!==r.multi)this.records.get(s);else{let u=this.records.get(s);u||(u=oa(void 0,uh,!0),u.factory=()=>fn(u.multi),this.records.set(s,u)),s=r,u.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===uh&&(s.value=CE,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Y_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=He(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Mg(t){const r=an(t),s=null!==r?r.factory:Yi(t);if(null!==s)return s;if(t instanceof Wr)throw new ge(204,!1);if(t instanceof Function)return function q_(t){const r=t.length;if(r>0)throw ea(r,"?"),new ge(204,!1);const s=function Xt(t){return t&&(t[On]||t[Sr])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new ge(204,!1)}function xg(t,r,s){let a;if(Ds(t)){const u=He(t);return Yi(u)||Mg(u)}if(Sg(t))a=()=>He(t.useValue);else if(function Rg(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...fn(t.deps||[]));else if(function Vu(t){return!(!t||!t.useExisting)}(t))a=()=>ct(He(t.useExisting));else{const u=He(t&&(t.useClass||t.provide));if(!function dh(t){return!!t.deps}(t))return Yi(u)||Mg(u);a=()=>new u(...fn(t.deps))}return a}function oa(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Og(t,r){for(const s of t)Array.isArray(s)?Og(s,r):s&&fe(s)?Og(s.\u0275providers,r):r(s)}const Ng=new Wr("AppId",{providedIn:"root",factory:()=>wE}),wE="ng",Z_=new Wr("Platform Initializer"),hh=new Wr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bE=new Wr("CSP nonce",{providedIn:"root",factory:()=>{var t;return(null===(t=function Xa(){if(void 0!==gg)return gg;if(typeof document<"u")return document;throw new ge(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let Q_=(t,r,s)=>null;function Of(t,r,s=!1){return Q_(t,r,s)}class Lg{}class Vg{}class mh{resolveComponentFactory(r){throw function iv(t){const r=Error(`No component factory found for ${De(t)}.`);return r.ngComponent=t,r}(r)}}let $u=(()=>{class r{}return r.NULL=new mh,r})();function $g(){return Wl(Mi(),Ut())}function Wl(t,r){return new Uu(io(t,r))}let Uu=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=$g,r})();function ov(t){return t instanceof Uu?t.nativeElement:t}class sv{}let av=(()=>{class r{constructor(){this.destroyNode=null}}return r.__NG_ELEMENT_ID__=()=>function Vf(){const t=Ut(),s=So(Mi().index,t);return(Si(s)?s:t)[xn]}(),r})(),Ug=(()=>{var t;class r{}return(t=r).\u0275prov=_t({token:t,providedIn:"root",factory:()=>null}),r})();class lv{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const uv=new lv("16.2.4"),Go={};function hv(t,r=null,s=null,a){const u=fv(t,r,s,a);return u.resolveInjectorInitializers(),u}function fv(t,r=null,s=null,a,u=new Set){const f=[s||It,wf(t)];return a=a||("object"==typeof t?void 0:De(t)),new ch(f,r||Sf(),a||null,u)}let ps=(()=>{var t;class r{static create(a,u){if(Array.isArray(a))return hv({name:""},u,a,"");{var f;const _=null!==(f=a.name)&&void 0!==f?f:"";return hv({name:_},a.parent,a.providers,_)}}}return(t=r).THROW_IF_NOT_FOUND=Mr,t.NULL=new zo,t.\u0275prov=_t({token:t,providedIn:"any",factory:()=>ct(wg)}),t.__NG_ELEMENT_ID__=-1,r})();function ju(t){return r=>{setTimeout(t,void 0,r)}}const sa=class $f extends d.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let u=r,f=s||(()=>null),_=a;if(r&&"object"==typeof r){var D,S,B;const ce=r;u=null===(D=ce.next)||void 0===D?void 0:D.bind(ce),f=null===(S=ce.error)||void 0===S?void 0:S.bind(ce),_=null===(B=ce.complete)||void 0===B?void 0:B.bind(ce)}this.__isAsync&&(f=ju(f),u&&(u=ju(u)),_&&(_=ju(_)));const W=super.subscribe({next:u,error:f,complete:_});return r instanceof h.w0&&r.add(W),W}};function zg(...t){}class Ui{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sa(!1),this.onMicrotaskEmpty=new sa(!1),this.onStable=new sa(!1),this.onError=new sa(!1),typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Gg(){const t="function"==typeof en.requestAnimationFrame;let r=en[t?"requestAnimationFrame":"setTimeout"],s=en[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function xE(t){const r=()=>{!function qg(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(en,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Eh(t),t.isCheckStableRunning=!0,Wg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Eh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,f,_,D)=>{if(function Gc(t){var r;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(r=t[0].data)||void 0===r?void 0:r.__ignore_ng_zone__)}(D))return s.invokeTask(u,f,_,D);try{return _v(t),s.invokeTask(u,f,_,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||t.shouldCoalesceRunChangeDetection)&&r(),Uf(t)}},onInvoke:(s,a,u,f,_,D,S)=>{try{return _v(t),s.invoke(u,f,_,D,S)}finally{t.shouldCoalesceRunChangeDetection&&r(),Uf(t)}},onHasTask:(s,a,u,f)=>{s.hasTask(u,f),a===u&&("microTask"==f.change?(t._hasPendingMicrotasks=f.microTask,Eh(t),Wg(t)):"macroTask"==f.change&&(t.hasPendingMacrotasks=f.macroTask))},onHandleError:(s,a,u,f)=>(s.handleError(u,f),t.runOutsideAngular(()=>t.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ui.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(Ui.isInAngularZone())throw new ge(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,u){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+u,r,mv,zg,zg);try{return f.runTask(_,s,a)}finally{f.cancelTask(_)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const mv={};function Wg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Eh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function _v(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Uf(t){t._nesting--,Wg(t)}class jf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sa,this.onMicrotaskEmpty=new sa,this.onStable=new sa,this.onError=new sa}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,u){return r.apply(s,a)}}const Hf=new Wr("",{providedIn:"root",factory:Yg});function Yg(){const t=kt(Ui);let r=!0;const s=new Y.y(u=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{u.next(r),u.complete()})}),a=new Y.y(u=>{let f;t.runOutsideAngular(()=>{f=t.onStable.subscribe(()=>{Ui.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,u.next(!0))})})});const _=t.onUnstable.subscribe(()=>{Ui.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{u.next(!1)}))});return()=>{f.unsubscribe(),_.unsubscribe()}});return(0,ae.T)(s,a.pipe((0,ne.B)()))}function tl(t){return t instanceof Function?t():t}let Xg=(()=>{var t;class r{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new ge(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const a of this.callbacks)a.invoke()}finally{this.runningCallbacks=!1;for(const a of this.deferredCallbacks)this.callbacks.add(a);this.deferredCallbacks.clear()}}register(a){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(a)}unregister(a){this.callbacks.delete(a),this.deferredCallbacks.delete(a)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=r).\u0275prov=_t({token:t,providedIn:"root",factory:()=>new t}),r})();function zu(t){for(;t;){t[vn]|=64;const r=Ci(t);if(Rr(t)&&!r)return t;t=r}return null}function Gf(t){return t.ngOriginalError}class ql{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Gf(r);for(;s&&Gf(s);)s=Gf(s);return s||null}}const Gu=new Wr("",{providedIn:"root",factory:()=>!1});let Dh=null;function Kf(t,r){var s;return null!==(s=t[r])&&void 0!==s?s:Cv()}function Zf(t,r){var s;const a=Cv();null!==(s=a.producerNode)&&void 0!==s&&s.length&&(t[r]=Dh,a.lView=t,Dh=em())}const FE={...Yo,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{zu(t.lView)},lView:null};function em(){return Object.create(FE)}function Cv(){var t;return null!==(t=Dh)&&void 0!==t||(Dh=em()),Dh}const ur={};function tm(t){nm(Fn(),Ut(),tr()+t,!1)}function nm(t,r,s,a){if(!a)if(3==(3&r[vn])){const f=t.preOrderCheckHooks;null!==f&&lu(r,f,s)}else{const f=t.preOrderHooks;null!==f&&ml(r,f,0,s)}rn(s)}function Wu(t,r=gn.Default){const s=Ut();return null===s?ct(t,r):ef(Mi(),s,He(t),r)}function Tv(){throw new Error("invalid")}function Xf(t,r,s,a,u,f,_,D,S,B,W){const ce=r.blueprint.slice();return ce[br]=u,ce[vn]=140|a,(null!==B||t&&2048&t[vn])&&(ce[vn]|=2048),$o(ce),ce[Or]=ce[eo]=t,ce[Nr]=s,ce[_i]=_||t&&t[_i],ce[xn]=D||t&&t[xn],ce[Hi]=S||t&&t[Hi]||null,ce[Yr]=f,ce[no]=function Wd(){return I_++}(),ce[Io]=W,ce[lo]=B,ce[Ur]=2==r.type?t[Ur]:ce,ce}function Zc(t,r,s,a,u){let f=t.data[r];if(null===f)f=function Ch(t,r,s,a,u){const f=hc(),_=Zi(),S=t.data[r]=function am(t,r,s,a,u,f){let _=r?r.injectorIndex:-1,D=0;return Ws()&&(D|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,s,r,a,u);return null===t.firstChild&&(t.firstChild=S),null!==f&&(_?null==f.child&&null!==S.parent&&(f.child=S):null===f.next&&(f.next=S,S.prev=f)),S}(t,r,s,a,u),function I(){return Yn.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=s,f.value=a,f.attrs=u;const _=function Vt(){const t=Yn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return zr(f,!0),f}function qu(t,r,s,a){if(0===s)return-1;const u=r.length;for(let f=0;f<s;f++)r.push(a),t.blueprint.push(a),t.data.push(null);return u}function Qf(t,r,s,a,u){const f=Kf(r,zi),_=tr(),D=2&a;try{rn(-1),D&&r.length>Hn&&nm(t,r,Hn,!1),ro(D?2:0,u);const B=D?f:null,W=Ko(B);try{null!==B&&(B.dirty=!1),s(a,u)}finally{ha(B,W)}}finally{D&&null===r[zi]&&Zf(r,zi),rn(_),ro(D?3:1,u)}}function rm(t,r,s){if(Vi(r)){const a=ki(null);try{const f=r.directiveEnd;for(let _=r.directiveStart;_<f;_++){const D=t.data[_];D.contentQueries&&D.contentQueries(1,s[_],_)}}finally{ki(a)}}}function Th(t,r,s){Cd()&&(function hm(t,r,s,a){const u=s.directiveStart,f=s.directiveEnd;uo(s)&&function _m(t,r,s){const a=io(r,t),u=Jf(s);let _=16;s.signals?_=4096:s.onPush&&(_=64);const D=Xc(t,Xf(t,u,null,_,a,r,null,t[_i].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=D}(r,s,t.data[u+s.componentOffset]),t.firstCreatePass||hu(s,r),Po(a,r);const _=s.initialInputs;for(let D=u;D<f;D++){const S=t.data[D],B=ya(r,t,D,s);Po(B,r),null!==_&&Rv(0,D-u,B,S,0,_),Bi(S)&&(So(s.index,r)[Nr]=ya(r,t,D,s))}}(t,r,s,io(s,r)),64==(64&s.flags)&&Sv(t,r,s))}function im(t,r,s=io){const a=r.localNames;if(null!==a){let u=r.index+1;for(let f=0;f<a.length;f+=2){const _=a[f+1],D=-1===_?s(r,t):t[_];t[u++]=D}}}function Jf(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=ep(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function ep(t,r,s,a,u,f,_,D,S,B,W){const ce=Hn+a,Ge=ce+u,rt=function om(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:ur);return s}(ce,Ge),Mt="function"==typeof B?B():B;return rt[un]={type:t,blueprint:rt,template:s,queries:null,viewQuery:D,declTNode:r,data:rt.slice().fill(null,ce),bindingStartIndex:ce,expandoStartIndex:Ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:S,consts:Mt,incompleteFirstPass:!1,ssrId:W}}let tp=t=>null;function bv(t,r,s,a){for(let u in t)if(t.hasOwnProperty(u)){s=null===s?{}:s;const f=t[u];null===a?np(s,r,u,f):a.hasOwnProperty(u)&&np(s,r,a[u],f)}return s}function np(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function wh(t,r,s,a){if(Cd()){const u=null===a?null:{"":-1},f=function fm(t,r){const s=t.directiveRegistry;let a=null,u=null;if(s)for(let _=0;_<s.length;_++){const D=s[_];if(J(r,D.selectors,!1))if(a||(a=[]),Bi(D))if(null!==D.findHostDirectiveDefs){const S=[];u=u||new Map,D.findHostDirectiveDefs(D,S,u),a.unshift(...S,D),pm(t,r,S.length)}else a.unshift(D),pm(t,r,0);else{var f;u=u||new Map,null===(f=D.findHostDirectiveDefs)||void 0===f||f.call(D,D,a,u),a.push(D)}}return null===a?null:[a,u]}(t,s);let _,D;null===f?_=D=null:[_,D]=f,null!==_&&nl(t,r,s,_,u,D),u&&function gm(t,r,s){if(r){const a=t.localNames=[];for(let u=0;u<r.length;u+=2){const f=s[r[u+1]];if(null==f)throw new ge(-301,!1);a.push(r[u],f)}}}(s,a,u)}s.mergedAttrs=Ti(s.mergedAttrs,s.attrs)}function nl(t,r,s,a,u,f){for(let ce=0;ce<a.length;ce++)Sd(hu(s,r),t,a[ce].type);!function mm(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let ce=0;ce<a.length;ce++){const Ge=a[ce];Ge.providersResolver&&Ge.providersResolver(Ge)}let _=!1,D=!1,S=qu(t,r,a.length,null);for(let ce=0;ce<a.length;ce++){const Ge=a[ce];s.mergedAttrs=Ti(s.mergedAttrs,Ge.hostAttrs),zE(t,s,r,S,Ge),HE(S,Ge,u),null!==Ge.contentQueries&&(s.flags|=4),(null!==Ge.hostBindings||null!==Ge.hostAttrs||0!==Ge.hostVars)&&(s.flags|=64);const rt=Ge.type.prototype;var B,W;!_&&(rt.ngOnChanges||rt.ngOnInit||rt.ngDoCheck)&&((null!==(B=t.preOrderHooks)&&void 0!==B?B:t.preOrderHooks=[]).push(s.index),_=!0),D||!rt.ngOnChanges&&!rt.ngDoCheck||((null!==(W=t.preOrderCheckHooks)&&void 0!==W?W:t.preOrderCheckHooks=[]).push(s.index),D=!0),S++}!function lm(t,r,s){const u=r.directiveEnd,f=t.data,_=r.attrs,D=[];let S=null,B=null;for(let W=r.directiveStart;W<u;W++){const ce=f[W],Ge=s?s.get(ce):null,Mt=Ge?Ge.outputs:null;S=bv(ce.inputs,W,S,Ge?Ge.inputs:null),B=bv(ce.outputs,W,B,Mt);const Kt=null===S||null===_||ci(r)?null:GE(S,W,_);D.push(Kt)}null!==S&&(S.hasOwnProperty("class")&&(r.flags|=8),S.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=D,r.inputs=S,r.outputs=B}(t,s,f)}function Sv(t,r,s){const a=s.directiveStart,u=s.directiveEnd,f=s.index,_=function C(){return Yn.lFrame.currentDirectiveIndex}();try{rn(f);for(let D=a;D<u;D++){const S=t.data[D],B=r[D];N(D),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&jE(S,B)}}finally{rn(-1),N(_)}}function jE(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function pm(t,r,s){var a;r.componentOffset=s,(null!==(a=t.components)&&void 0!==a?a:t.components=[]).push(r.index)}function HE(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;Bi(r)&&(s[""]=t)}}function zE(t,r,s,a,u){t.data[a]=u;const f=u.factory||(u.factory=Yi(u.type)),_=new uu(f,Bi(u),Wu);t.blueprint[a]=_,s[a]=_,function dm(t,r,s,a,u){const f=u.hostBindings;if(f){let _=t.hostBindingOpCodes;null===_&&(_=t.hostBindingOpCodes=[]);const D=~r.index;(function UE(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(_)!=D&&_.push(D),_.push(s,a,f)}}(t,r,a,qu(t,s,u.hostVars,ur),u)}function Sa(t,r,s,a,u,f){const _=io(t,r);!function bh(t,r,s,a,u,f,_){if(null==f)t.removeAttribute(r,u,s);else{const D=null==_?Pe(f):_(f,a||"",u);t.setAttribute(r,u,D,s)}}(r[xn],_,f,t.value,s,a,u)}function Rv(t,r,s,a,u,f){const _=f[r];if(null!==_)for(let D=0;D<_.length;)Pv(a,s,_[D++],_[D++],_[D++])}function Pv(t,r,s,a,u){const f=ki(null);try{const _=t.inputTransforms;null!==_&&_.hasOwnProperty(a)&&(u=_[a].call(r,u)),null!==t.setInput?t.setInput(r,u,s,a):r[a]=u}finally{ki(f)}}function GE(t,r,s){let a=null,u=0;for(;u<s.length;){const f=s[u];if(0!==f)if(5!==f){if("number"==typeof f)break;if(t.hasOwnProperty(f)){null===a&&(a=[]);const _=t[f];for(let D=0;D<_.length;D+=2)if(_[D]===r){a.push(f,_[D+1],s[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function rp(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function Mv(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const f=s[a+1];if(-1!==f){const _=t.data[f];st(s[a]),_.contentQueries(2,r[f],f)}}}function Xc(t,r){return t[Eo]?t[bo][ui]=r:t[Eo]=r,t[bo]=r,r}function Ah(t,r,s){st(0);const a=ki(null);try{r(t,s)}finally{ki(a)}}function Ov(t){return t[Ni]||(t[Ni]=[])}function Qc(t){return t.cleanup||(t.cleanup=[])}function ip(t,r){const s=t[Hi],a=s?s.get(ql,null):null;a&&a.handleError(r)}function op(t,r,s,a,u){for(let f=0;f<s.length;){const _=s[f++],D=s[f++];Pv(t.data[_],r[_],a,D,u)}}function kv(t,r){const s=So(r,t),a=s[un];!function sp(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const u=s[br];null!==u&&null===s[Io]&&(s[Io]=Of(u,s[Hi])),vm(a,s,s[Nr])}function vm(t,r,s){xt(r);try{const a=t.viewQuery;null!==a&&Ah(1,a,s);const u=t.template;null!==u&&Qf(t,r,u,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Mv(t,r),t.staticViewQueries&&Ah(2,t.viewQuery,s);const f=t.components;null!==f&&function WE(t,r){for(let s=0;s<r.length;s++)kv(t,r[s])}(r,f)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[vn]&=-5,xi()}}let Fv=(()=>{var t;class r{constructor(){this.all=new Set,this.queue=new Map}create(a,u,f){const _=typeof Zone>"u"?null:Zone.current,D=function Be(t,r,s){const a=Object.create(Wt);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const u=_=>{a.cleanupFn=_};return a.ref={notify:()=>da(a),run:()=>{if(a.dirty=!1,a.hasRun&&!fi(a))return;a.hasRun=!0;const _=Ko(a);try{a.cleanupFn(),a.cleanupFn=At,a.fn(u)}finally{ha(a,_)}},cleanup:()=>a.cleanupFn()},a.ref}(a,W=>{this.all.has(W)&&this.queue.set(W,_)},f);let S;this.all.add(D),D.notify();const B=()=>{var W;D.cleanup(),null===(W=S)||void 0===W||W(),this.all.delete(D),this.queue.delete(D)};return S=null==u?void 0:u.onDestroy(B),{destroy:B}}flush(){if(0!==this.queue.size)for(const[a,u]of this.queue)this.queue.delete(a),u?u.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=r).\u0275prov=_t({token:t,providedIn:"root",factory:()=>new t}),r})();function Yu(t,r,s){let a=s?t.styles:null,u=s?t.classes:null,f=0;if(null!==r)for(let _=0;_<r.length;_++){const D=r[_];"number"==typeof D?f=D:1==f?u=Ce(u,D):2==f&&(a=Ce(a,D+": "+r[++_]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=u:t.classesWithoutHost=u}function Ku(t,r,s,a,u=!1){for(;null!==s;){const f=r[s.index];null!==f&&a.push(Kn(f)),si(f)&&ap(f,a);const _=s.type;if(8&_)Ku(t,r,s.child,a);else if(32&_){const D=eg(s,r);let S;for(;S=D();)a.push(S)}else if(16&_){const D=ug(r,s);if(Array.isArray(D))a.push(...D);else{const S=Ci(r[Ur]);Ku(S[un],S,D,a,!0)}}s=u?s.projectionNext:s.next}return a}function ap(t,r){for(let s=oi;s<t.length;s++){const a=t[s],u=a[un].firstChild;null!==u&&Ku(a[un],a,u,r)}t[hi]!==t[br]&&r.push(t[hi])}function Jc(t,r,s,a=!0){const u=r[_i],f=u.rendererFactory,_=u.afterRenderEventManager;var S;null===(S=f.begin)||void 0===S||S.call(f),null==_||_.begin();try{lp(t,r,t.template,s)}catch(ce){throw a&&ip(r,ce),ce}finally{var B,W;null===(B=f.end)||void 0===B||B.call(f),null===(W=u.effectManager)||void 0===W||W.flush(),null==_||_.end()}}function lp(t,r,s,a){var u;const f=r[vn];if(256!=(256&f)){null===(u=r[_i].effectManager)||void 0===u||u.flush(),xt(r);try{$o(r),function Bt(t){return Yn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Qf(t,r,s,2,a);const D=3==(3&f);if(D){const W=t.preOrderCheckHooks;null!==W&&lu(r,W,null)}else{const W=t.preOrderHooks;null!==W&&ml(r,W,0,null),Ks(r,0)}if(function Em(t){for(let r=tg(t);null!==r;r=S_(r)){if(!r[Wi])continue;const s=r[is];for(let a=0;a<s.length;a++){Ki(s[a])}}}(r),Sh(r,2),null!==t.contentQueries&&Mv(t,r),D){const W=t.contentCheckHooks;null!==W&&lu(r,W)}else{const W=t.contentHooks;null!==W&&ml(r,W,1),Ks(r,1)}!function LE(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=Kf(r,ls);try{for(let u=0;u<s.length;u++){const f=s[u];if(f<0)rn(~f);else{const _=f,D=s[++u],S=s[++u];M(D,_),a.dirty=!1;const B=Ko(a);try{S(2,r[_])}finally{ha(a,B)}}}}finally{null===r[ls]&&Zf(r,ls),rn(-1)}}(t,r);const S=t.components;null!==S&&Im(r,S,0);const B=t.viewQuery;if(null!==B&&Ah(2,B,a),D){const W=t.viewCheckHooks;null!==W&&lu(r,W)}else{const W=t.viewHooks;null!==W&&ml(r,W,2),Ks(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[vn]&=-73,Xo(r)}finally{xi()}}}function Sh(t,r){for(let s=tg(t);null!==s;s=S_(s))for(let a=oi;a<s.length;a++)Zu(s[a],r)}function Lv(t,r,s){Zu(So(r,t),s)}function Zu(t,r){if(!function cc(t){return 128==(128&t[vn])}(t))return;const s=t[un],a=t[vn];if(80&a&&0===r||1024&a||2===r)lp(s,t,s.template,t[Nr]);else if(t[Oi]>0){Sh(t,1);const u=s.components;null!==u&&Im(t,u,1)}}function Im(t,r,s){for(let a=0;a<r.length;a++)Lv(t,r[a],s)}class Xu{get rootNodes(){const r=this._lView,s=r[un];return Ku(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nr]}set context(r){this._lView[Nr]=r}get destroyed(){return 256==(256&this._lView[vn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Or];if(si(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(pf(r,a),pu(s,a))}this._attachedToViewContainer=!1}og(this._lView[un],this._lView)}onDestroy(r){!function Fa(t,r){if(256==(256&t[vn]))throw new ge(911,!1);null===t[No]&&(t[No]=[]),t[No].push(r)}(this._lView,r)}markForCheck(){zu(this._cdRefInjectingView||this._lView)}detach(){this._lView[vn]&=-129}reattach(){this._lView[vn]|=128}detectChanges(){Jc(this._lView[un],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mc(t,r){Au(t,r,r[xn],2,null,null)}(this._lView[un],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=r}}class Vv extends Xu{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Jc(r[un],r,r[Nr],!1)}checkNoChanges(){}get context(){return null}}class Qu extends $u{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Vn(r);return new Rh(s,this.ngModule)}}function up(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class ZE{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=yn(a);const u=this.injector.get(r,Go,a);return u!==Go||s===Go?u:this.parentInjector.get(r,s,a)}}class Rh extends Vg{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=up(r.inputs);if(null!==s)for(const u of a)s.hasOwnProperty(u.propName)&&(u.transform=s[u.propName]);return a}get outputs(){return up(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Lt(t){return t.map(Dt).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,u){var f;let _=(u=u||this.ngModule)instanceof Fs?u:null===(f=u)||void 0===f?void 0:f.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const D=_?new ZE(r,_):r,S=D.get(sv,null);if(null===S)throw new ge(407,!1);const Ge={rendererFactory:S,sanitizer:D.get(Ug,null),effectManager:D.get(Fv,null),afterRenderEventManager:D.get(Xg,null)},rt=S.createRenderer(null,this.componentDef),Mt=this.componentDef.selectors[0][0]||"div",Kt=a?function wv(t,r,s,a){const f=a.get(Gu,!1)||s===Ye.ShadowDom,_=t.selectRootElement(r,f);return function VE(t){tp(t)}(_),_}(rt,a,this.componentDef.encapsulation,D):Kd(rt,Mt,function KE(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Mt)),$t=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let rr=null;null!==Kt&&(rr=Of(Kt,D,!0));const Br=ep(0,null,null,1,0,null,null,null,null,null,null),li=Xf(null,Br,null,$t,null,null,Ge,rt,D,null,rr);let al,p_;xt(li);try{const Dd=this.componentDef;let Up,jI=null;Dd.findHostDirectiveDefs?(Up=[],jI=new Map,Dd.findHostDirectiveDefs(Dd,Up,jI),Up.push(Dd)):Up=[Dd];const iA=function XE(t,r){const s=t[un],a=Hn;return t[a]=r,Zc(s,a,2,"#host",null)}(li,Kt),oA=function $v(t,r,s,a,u,f,_){const D=u[un];!function QE(t,r,s,a){for(const u of t)r.mergedAttrs=Ti(r.mergedAttrs,u.hostAttrs);null!==r.mergedAttrs&&(Yu(r,r.mergedAttrs,!0),null!==s&&kc(a,s,r))}(a,t,r,_);let S=null;null!==r&&(S=Of(r,u[Hi]));const B=f.rendererFactory.createRenderer(r,s);let W=16;s.signals?W=4096:s.onPush&&(W=64);const ce=Xf(u,Jf(s),null,W,u[t.index],t,f,B,null,null,S);return D.firstCreatePass&&pm(D,t,a.length-1),Xc(u,ce),u[t.index]=ce}(iA,Kt,Dd,Up,li,Ge,rt);p_=Zo(Br,Hn),Kt&&function e0(t,r,s,a){if(a)pr(t,s,["ng-version",uv.full]);else{const{attrs:u,classes:f}=function Rt(t){const r=[],s=[];let a=1,u=2;for(;a<t.length;){let f=t[a];if("string"==typeof f)2===u?""!==f&&r.push(f,t[++a]):8===u&&s.push(f);else{if(!$r(u))break;u=f}a++}return{attrs:r,classes:s}}(r.selectors[0]);u&&pr(t,s,u),f&&f.length>0&&pg(t,s,f.join(" "))}}(rt,Dd,Kt,a),void 0!==s&&function t0(t,r,s){const a=t.projection=[];for(let u=0;u<r.length;u++){const f=s[u];a.push(null!=f?Array.from(f):null)}}(p_,this.ngContentSelectors,s),al=function JE(t,r,s,a,u,f){const _=Mi(),D=u[un],S=io(_,u);nl(D,u,_,s,null,a);for(let W=0;W<s.length;W++)Po(ya(u,D,_.directiveStart+W,_),u);Sv(D,u,_),S&&Po(S,u);const B=ya(u,D,_.directiveStart+_.componentOffset,_);if(t[Nr]=u[Nr]=B,null!==f)for(const W of f)W(B,r);return rm(D,_,t),B}(oA,Dd,Up,jI,li,[n0]),vm(Br,li,null)}finally{xi()}return new Bv(this.componentType,al,Wl(p_,li),li,p_)}}class Bv extends Lg{constructor(r,s,a,u,f){super(),this.location=a,this._rootLView=u,this._tNode=f,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Vv(u),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[r])){var f;if(null!==(f=this.previousInputValues)&&void 0!==f||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const _=this._rootLView;op(_[un],_,u,r,s),this.previousInputValues.set(r,s),zu(So(this._tNode.index,_))}}get injector(){return new Ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function n0(){const t=Mi();Va(Ut()[un],t)}function cp(t){let r=function Uv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let u;if(Bi(t))u=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ge(903,!1);u=r.\u0275dir}if(u){if(s){a.push(u);const _=t;_.inputs=ed(t.inputs),_.inputTransforms=ed(t.inputTransforms),_.declaredInputs=ed(t.declaredInputs),_.outputs=ed(t.outputs);const D=u.hostBindings;D&&Gv(t,D);const S=u.viewQuery,B=u.contentQueries;if(S&&Hv(t,S),B&&zv(t,B),ue(t.inputs,u.inputs),ue(t.declaredInputs,u.declaredInputs),ue(t.outputs,u.outputs),null!==u.inputTransforms&&(null===_.inputTransforms&&(_.inputTransforms={}),ue(_.inputTransforms,u.inputTransforms)),Bi(u)&&u.data.animation){const W=t.data;W.animation=(W.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let _=0;_<f.length;_++){const D=f[_];D&&D.ngInherit&&D(t),D===cp&&(s=!1)}}r=Object.getPrototypeOf(r)}!function jv(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=r+=u.hostVars,u.hostAttrs=Ti(u.hostAttrs,s=Ti(s,u.hostAttrs))}}(a)}function ed(t){return t===Pt?{}:t===It?[]:t}function Hv(t,r){const s=t.viewQuery;t.viewQuery=s?(a,u)=>{r(a,u),s(a,u)}:r}function zv(t,r){const s=t.contentQueries;t.contentQueries=s?(a,u,f)=>{r(a,u,f),s(a,u,f)}:r}function Gv(t,r){const s=t.hostBindings;t.hostBindings=s?(a,u)=>{r(a,u),s(a,u)}:r}function nd(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const u=r[a];Array.isArray(u)&&u[2]&&(s[a]=u[2])}t.inputTransforms=s}function Kl(t){return!!Tm(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Tm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ar(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function fp(t,r,s,a){const u=Ut();return Ar(u,Ii(),r)&&(Fn(),Sa(Zr(),u,t,r,s,a)),fp}function od(t,r,s,a){return Ar(t,Ii(),s)?r+Pe(s)+a:ur}function h0(t,r,s,a,u,f,_,D){const S=Ut(),B=Fn(),W=t+Hn,ce=B.firstCreatePass?function gd(t,r,s,a,u,f,_,D,S){const B=r.consts,W=Zc(r,t,4,_||null,po(B,D));wh(r,s,W,po(B,S)),Va(r,W);const ce=W.tView=ep(2,W,a,u,f,r.directiveRegistry,r.pipeRegistry,null,r.schemas,B,null);return null!==r.queries&&(r.queries.template(r,W),ce.queries=r.queries.embeddedTView(W)),W}(W,B,S,r,s,a,u,f,_):B.data[W];zr(ce,!1);const Ge=f0(B,S,ce,t);au()&&_f(B,S,Ge,ce),Po(Ge,S),Xc(S,S[W]=rp(Ge,S,Ge,ce)),Ri(ce)&&Th(B,S,ce),null!=_&&im(S,ce,D)}let f0=function Ip(t,r,s,a){return Os(!0),r[xn].createComment("")};function ey(t){return Hs(function mn(){return Yn.lFrame.contextLView}(),Hn+t)}function md(t,r,s){const a=Ut();return Ar(a,Ii(),r)&&function Wo(t,r,s,a,u,f,_,D){const S=io(r,s);let W,B=r.inputs;!D&&null!=B&&(W=B[a])?(op(t,s,W,a,u),uo(r)&&function Av(t,r){const s=So(r,t);16&s[vn]||(s[vn]|=64)}(s,r.index)):3&r.type&&(a=function um(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=_?_(u,r.value||"",a):u,f.setProperty(S,a,u))}(Fn(),Zr(),a,t,r,a[xn],s,!1),md}function Nm(t,r,s,a,u){const _=u?"class":"style";op(t,s,r.inputs[_],_,a)}function nc(t,r,s,a){const u=Ut(),f=Fn(),_=Hn+t,D=u[xn],S=f.firstCreatePass?function m0(t,r,s,a,u,f){const _=r.consts,S=Zc(r,t,2,a,po(_,u));return wh(r,s,S,po(_,f)),null!==S.attrs&&Yu(S,S.attrs,!1),null!==S.mergedAttrs&&Yu(S,S.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,S),S}(_,f,u,r,s,a):f.data[_],B=Fm(f,u,S,D,r,t);u[_]=B;const W=Ri(S);return zr(S,!0),kc(D,B,S),32!=(32&S.flags)&&au()&&_f(f,u,B,S),0===function Ol(){return Yn.lFrame.elementDepthCount}()&&Po(B,u),function dc(){Yn.lFrame.elementDepthCount++}(),W&&(Th(f,u,S),rm(f,S,u)),null!==a&&im(u,S),nc}function Cp(){let t=Mi();Zi()?Ys():(t=t.parent,zr(t,!1));const r=t;(function pl(t){return Yn.skipHydrationRootTNode===t})(r)&&function qs(){Yn.skipHydrationRootTNode=null}(),function ou(){Yn.lFrame.elementDepthCount--}();const s=Fn();return s.firstCreatePass&&(Va(s,t),Vi(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function gc(t){return 0!=(8&t.flags)}(r)&&Nm(s,r,Ut(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function wd(t){return 0!=(16&t.flags)}(r)&&Nm(s,r,Ut(),r.stylesWithoutHost,!1),Cp}function km(t,r,s,a){return nc(t,r,s,a),Cp(),km}let Fm=(t,r,s,a,u,f)=>(Os(!0),Kd(a,u,function Kh(){return Yn.lFrame.currentNamespace}()));function Tp(t,r,s){const a=Ut(),u=Fn(),f=t+Hn,_=u.firstCreatePass?function ry(t,r,s,a,u){const f=r.consts,_=po(f,a),D=Zc(r,t,8,"ng-container",_);return null!==_&&Yu(D,_,!0),wh(r,s,D,po(f,u)),null!==r.queries&&r.queries.elementStart(r,D),D}(f,u,a,r,s):u.data[f];zr(_,!0);const D=iy(u,a,_,t);return a[f]=D,au()&&_f(u,a,D,_),Po(D,a),Ri(_)&&(Th(u,a,_),rm(u,_,a)),null!=s&&im(a,_),Tp}function Fh(){let t=Mi();const r=Fn();return Zi()?Ys():(t=t.parent,zr(t,!1)),r.firstCreatePass&&(Va(r,t),Vi(t)&&r.queries.elementEnd(t)),Fh}function _d(t,r,s){return Tp(t,r,s),Fh(),_d}let iy=(t,r,s,a)=>(Os(!0),wa(r[xn],""));function oy(){return Ut()}function sy(t){return!!t&&"function"==typeof t.then}function _0(t){return!!t&&"function"==typeof t.subscribe}function Tl(t,r,s,a){const u=Ut(),f=Fn(),_=Mi();return function wl(t,r,s,a,u,f,_){const D=Ri(a),B=t.firstCreatePass&&Qc(t),W=r[Nr],ce=Ov(r);let Ge=!0;if(3&a.type||_){const Kt=io(a,r),dn=_?_(Kt):Kt,An=ce.length,$t=_?Br=>_(Kn(Br[a.index])):a.index;let rr=null;if(!_&&D&&(rr=function Lh(t,r,s,a){const u=t.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const _=u[f];if(_===s&&u[f+1]===a){const D=r[Ni],S=u[f+2];return D.length>S?D[S]:null}"string"==typeof _&&(f+=2)}return null}(t,r,u,a.index)),null!==rr)(rr.__ngLastListenerFn__||rr).__ngNextListenerFn__=f,rr.__ngLastListenerFn__=f,Ge=!1;else{f=Lm(a,r,W,f,!1);const Br=s.listen(dn,u,f);ce.push(f,Br),B&&B.push(u,$t,An,An+1)}}else f=Lm(a,r,W,f,!1);const rt=a.outputs;let Mt;if(Ge&&null!==rt&&(Mt=rt[u])){const Kt=Mt.length;if(Kt)for(let dn=0;dn<Kt;dn+=2){const li=r[Mt[dn]][Mt[dn+1]].subscribe(f),al=ce.length;ce.push(f,li),B&&B.push(u,a.index,al,-(al+1))}}}(f,u,u[xn],_,t,r,a),Tl}function ay(t,r,s,a){try{return ro(6,r,s),!1!==s(a)}catch(u){return ip(t,u),!1}finally{ro(7,r,s)}}function Lm(t,r,s,a,u){return function f(_){if(_===Function)return a;zu(t.componentOffset>-1?So(t.index,r):r);let S=ay(r,s,a,_),B=f.__ngNextListenerFn__;for(;B;)S=ay(r,s,B,_)&&S,B=B.__ngNextListenerFn__;return u&&!1===S&&_.preventDefault(),S}}function Vm(t=1){return function lr(t){return(Yn.lFrame.contextLView=function gl(t,r){for(;t>0;)r=r[eo],t--;return r}(t,Yn.lFrame.contextLView))[Nr]}(t)}function Jl(t,r){let s=null;const a=function q(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(t);for(let u=0;u<r.length;u++){const f=r[u];if("*"!==f){if(null===a?J(t,f,!0):ht(a,f))return u}else s=u}return s}function ly(t){const r=Ut()[Ur][Yr];if(!r.projection){const a=r.projection=ea(t?t.length:1,null),u=a.slice();let f=r.child;for(;null!==f;){const _=t?Jl(f,t):0;null!==_&&(u[_]?u[_].projectionNext=f:a[_]=f,u[_]=f),f=f.next}}}function uy(t,r=0,s){const a=Ut(),u=Fn(),f=Zc(u,Hn+t,16,null,s||null);null===f.projection&&(f.projection=r),Ys(),(!a[Io]||Ws())&&32!=(32&f.flags)&&function Nc(t,r,s){hg(r[xn],0,r,s,gf(t,s,r),xc(s.parent||r[Yr],s,r))}(u,a,f)}function vd(t,r){return t<<17|r<<2}function ic(t){return t>>17&32767}function Hm(t){return 2|t}function oc(t){return(131068&t)>>2}function zm(t,r){return-131069&t|r<<2}function fy(t){return 1|t}function py(t,r,s,a,u){const f=t[s+1],_=null===r;let D=a?ic(f):oc(f),S=!1;for(;0!==D&&(!1===S||_);){const W=t[D+1];nD(t[D],r)&&(S=!0,t[D+1]=a?fy(W):Hm(W)),D=a?ic(W):oc(W)}S&&(t[s+1]=a?Hm(f):fy(f))}function nD(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&za(t,r)>=0}const Mo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Gm(t){return t.substring(Mo.key,Mo.keyEnd)}function eu(t){return t.substring(Mo.value,Mo.valueEnd)}function gy(t,r){const s=Mo.textEnd;return s===r?-1:(r=Mo.keyEnd=function T0(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,Mo.key=r,s),yd(t,r,s))}function my(t,r){const s=Mo.textEnd;let a=Mo.key=yd(t,r,s);return s===a?-1:(a=Mo.keyEnd=function rD(t,r,s){let a;for(;r<s&&(45===(a=t.charCodeAt(r))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)r++;return r}(t,a,s),a=w0(t,a,s),a=Mo.value=yd(t,a,s),a=Mo.valueEnd=function vy(t,r,s){let a=-1,u=-1,f=-1,_=r,D=_;for(;_<s;){const S=t.charCodeAt(_++);if(59===S)return D;34===S||39===S?D=_=yy(t,S,_,s):r===_-4&&85===f&&82===u&&76===a&&40===S?D=_=yy(t,41,_,s):S>32&&(D=_),f=u,u=a,a=-33&S}return D}(t,a,s),w0(t,a,s))}function _y(t){Mo.key=0,Mo.keyEnd=0,Mo.value=0,Mo.valueEnd=0,Mo.textEnd=t.length}function yd(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function w0(t,r,s,a){return(r=yd(t,r,s))<s&&r++,r}function yy(t,r,s,a){let u=-1,f=s;for(;f<a;){const _=t.charCodeAt(f++);if(_==r&&92!==u)return f;u=92==_&&92===u?0:_}throw new Error}function Ey(t,r){return function Ls(t,r,s,a){const u=Ut(),f=Fn(),_=xs(2);f.firstUpdatePass&&Cy(f,t,_,a),r!==ur&&Ar(u,_,r)&&Km(f,f.data[tr()],u,u[xn],t,u[_+1]=function aa(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=De(Is(t)))),t}(r,s),a,_)}(t,r,null,!0),Ey}function Iy(t,r){for(let s=function C0(t){return _y(t),my(t,yd(t,0,Mo.textEnd))}(r);s>=0;s=my(r,s))Ym(t,Gm(r),eu(r))}function Wm(t){Ts(Ap,Al,t,!0)}function Al(t,r){for(let s=function D0(t){return _y(t),gy(t,yd(t,0,Mo.textEnd))}(r);s>=0;s=gy(r,s))_o(t,Gm(r),!0)}function Ts(t,r,s,a){const u=Fn(),f=xs(2);u.firstUpdatePass&&Cy(u,null,f,a);const _=Ut();if(s!==ur&&Ar(_,f,s)){const D=u.data[tr()];if(as(D,a)&&!Dy(u,f)){let S=a?D.classesWithoutHost:D.stylesWithoutHost;null!==S&&(s=Ce(S,s||"")),Nm(u,D,_,s,a)}else!function S0(t,r,s,a,u,f,_,D){u===ur&&(u=It);let S=0,B=0,W=0<u.length?u[0]:null,ce=0<f.length?f[0]:null;for(;null!==W||null!==ce;){const Ge=S<u.length?u[S+1]:void 0,rt=B<f.length?f[B+1]:void 0;let Kt,Mt=null;W===ce?(S+=2,B+=2,Ge!==rt&&(Mt=ce,Kt=rt)):null===ce||null!==W&&W<ce?(S+=2,Mt=W):(B+=2,Mt=ce,Kt=rt),null!==Mt&&Km(t,r,s,a,Mt,Kt,_,D),W=S<u.length?u[S]:null,ce=B<f.length?f[B]:null}}(u,D,_,_[xn],_[f+1],_[f+1]=function A0(t,r,s){if(null==s||""===s)return It;const a=[],u=Is(s);if(Array.isArray(u))for(let f=0;f<u.length;f++)t(a,u[f],!0);else if("object"==typeof u)for(const f in u)u.hasOwnProperty(f)&&t(a,f,u[f]);else"string"==typeof u&&r(a,u);return a}(t,r,s),a,f)}}function Dy(t,r){return r>=t.expandoStartIndex}function Cy(t,r,s,a){const u=t.data;if(null===u[s+1]){const f=u[tr()],_=Dy(t,s);as(f,a)&&null===r&&!_&&(r=!1),r=function qm(t,r,s,a){const u=function Z(t){const r=Yn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let f=a?r.residualClasses:r.residualStyles;if(null===u)0===(a?r.classBindings:r.styleBindings)&&(s=$h(s=Bh(null,t,r,s,a),r.attrs,a),f=null);else{const _=r.directiveStylingLast;if(-1===_||t[_]!==u)if(s=Bh(u,t,r,s,a),null===f){let S=function Ty(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==oc(a))return t[ic(a)]}(t,r,a);void 0!==S&&Array.isArray(S)&&(S=Bh(null,t,r,S[1],a),S=$h(S,r.attrs,a),function wy(t,r,s,a){t[ic(s?r.classBindings:r.styleBindings)]=a}(t,r,a,S))}else f=function Vh(t,r,s){let a;const u=r.directiveEnd;for(let f=1+r.directiveStylingLast;f<u;f++)a=$h(a,t[f].hostAttrs,s);return $h(a,r.attrs,s)}(t,r,a)}return void 0!==f&&(a?r.residualClasses=f:r.residualStyles=f),s}(u,f,r,a),function E0(t,r,s,a,u,f){let _=f?r.classBindings:r.styleBindings,D=ic(_),S=oc(_);t[a]=s;let W,B=!1;if(Array.isArray(s)?(W=s[1],(null===W||za(s,W)>0)&&(B=!0)):W=s,u)if(0!==S){const Ge=ic(t[D+1]);t[a+1]=vd(Ge,D),0!==Ge&&(t[Ge+1]=zm(t[Ge+1],a)),t[D+1]=function y0(t,r){return 131071&t|r<<17}(t[D+1],a)}else t[a+1]=vd(D,0),0!==D&&(t[D+1]=zm(t[D+1],a)),D=a;else t[a+1]=vd(S,0),0===D?D=a:t[S+1]=zm(t[S+1],a),S=a;B&&(t[a+1]=Hm(t[a+1])),py(t,W,a,!0),py(t,W,a,!1),function I0(t,r,s,a,u){const f=u?t.residualClasses:t.residualStyles;null!=f&&"string"==typeof r&&za(f,r)>=0&&(s[a+1]=fy(s[a+1]))}(r,W,t,a,f),_=vd(D,S),f?r.classBindings=_:r.styleBindings=_}(u,f,r,s,_,a)}}function Bh(t,r,s,a,u){let f=null;const _=s.directiveEnd;let D=s.directiveStylingLast;for(-1===D?D=s.directiveStart:D++;D<_&&(f=r[D],a=$h(a,f.hostAttrs,u),f!==t);)D++;return null!==t&&(s.directiveStylingLast=D),a}function $h(t,r,s){const a=s?1:2;let u=-1;if(null!==r)for(let f=0;f<r.length;f++){const _=r[f];"number"==typeof _?u=_:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),_o(t,_,!!s||r[++f]))}return void 0===t?null:t}function Ym(t,r,s){_o(t,r,Is(s))}function Ap(t,r,s){const a=String(r);""!==a&&!a.includes(" ")&&_o(t,a,s)}function Km(t,r,s,a,u,f,_,D){if(!(3&r.type))return;const S=t.data,B=S[D+1],W=function tD(t){return 1==(1&t)}(B)?Zm(S,r,s,u,oc(B),_):void 0;sl(W)||(sl(f)||function v0(t){return 2==(2&t)}(B)&&(f=Zm(S,null,s,u,D,_)),function vo(t,r,s,a,u){if(r)u?t.addClass(s,a):t.removeClass(s,a);else{let f=-1===a.indexOf("-")?void 0:lf.DashCase;null==u?t.removeStyle(s,a,f):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),f|=lf.Important),t.setStyle(s,a,u,f))}}(a,_,jr(tr(),s),u,f))}function Zm(t,r,s,a,u,f){const _=null===r;let D;for(;u>0;){const S=t[u],B=Array.isArray(S),W=B?S[1]:S,ce=null===W;let Ge=s[u+1];Ge===ur&&(Ge=ce?It:void 0);let rt=ce?Tc(Ge,a):W===a?Ge:void 0;if(B&&!sl(rt)&&(rt=Tc(S,a)),sl(rt)&&(D=rt,_))return D;const Mt=t[u+1];u=_?ic(Mt):oc(Mt)}if(null!==r){let S=f?r.residualClasses:r.residualStyles;null!=S&&(D=Tc(S,a))}return D}function sl(t){return void 0!==t}function as(t,r){return 0!=(t.flags&(r?8:16))}function Xm(t,r=""){const s=Ut(),a=Fn(),u=t+Hn,f=a.firstCreatePass?Zc(a,u,1,r,null):a.data[u],_=Qm(a,s,f,r,t);s[u]=_,au()&&_f(a,s,_,f),zr(f,!1)}let Qm=(t,r,s,a,u)=>(Os(!0),function Yd(t,r){return t.createText(r)}(r[xn],a));function ts(t){return Sp("",t,""),ts}function Sp(t,r,s){const a=Ut(),u=od(a,t,r,s);return u!==ur&&function Cs(t,r,s){const a=jr(r,t);!function bu(t,r,s){t.setValue(r,s)}(t[xn],a,s)}(a,tr(),u),Sp}function xy(t,r,s){!function bl(t){Ts(Ym,Iy,t,!1)}(od(Ut(),t,r,s))}const ac=void 0;var oD=["en",[["a","p"],["AM","PM"],ac],[["AM","PM"],ac,ac],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ac,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ac,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ac,"{1} 'at' {0}",ac],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function iD(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let zh={};function $y(t){const r=function H0(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=j0(r);if(s)return s;const a=r.split("-")[0];if(s=j0(a),s)return s;if("en"===a)return oD;throw new ge(701,!1)}function U0(t){return $y(t)[lc.PluralCase]}function j0(t){return t in zh||(zh[t]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[t]),zh[t]}var lc=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(lc||{});const Ed="en-US";let G0=Ed;function l(t,r,s,a,u){if(t=He(t),Array.isArray(t))for(let f=0;f<t.length;f++)l(t[f],r,s,a,u);else{const f=Fn(),_=Ut(),D=Mi();let S=Ds(t)?t:He(t.provide);const B=xg(t),W=1048575&D.providerIndexes,ce=D.directiveStart,Ge=D.providerIndexes>>20;if(Ds(t)||!t.multi){const rt=new uu(B,u,Wu),Mt=b(S,r,u?W:W+Ge,ce);-1===Mt?(Sd(hu(D,_),f,S),c(f,t,r.length),r.push(S),D.directiveStart++,D.directiveEnd++,u&&(D.providerIndexes+=1048576),s.push(rt),_.push(rt)):(s[Mt]=rt,_[Mt]=rt)}else{const rt=b(S,r,W+Ge,ce),Mt=b(S,r,W,W+Ge),dn=Mt>=0&&s[Mt];if(u&&!dn||!u&&!(rt>=0&&s[rt])){Sd(hu(D,_),f,S);const An=function ye(t,r,s,a,u){const f=new uu(t,s,Wu);return f.multi=[],f.index=r,f.componentProviders=0,p(f,u,a&&!s),f}(u?H:P,s.length,u,a,B);!u&&dn&&(s[Mt].providerFactory=An),c(f,t,r.length,0),r.push(S),D.directiveStart++,D.directiveEnd++,u&&(D.providerIndexes+=1048576),s.push(An),_.push(An)}else c(f,t,rt>-1?rt:Mt,p(s[u?Mt:rt],B,!u&&a));!u&&a&&dn&&s[Mt].componentProviders++}}}function c(t,r,s,a){const u=Ds(r),f=function W_(t){return!!t.useClass}(r);if(u||f){const S=(f?He(r.useClass):r).prototype.ngOnDestroy;if(S){const B=t.destroyHooks||(t.destroyHooks=[]);if(!u&&r.multi){const W=B.indexOf(s);-1===W?B.push(s,[a,S]):B[W+1].push(a,S)}else B.push(s,S)}}}function p(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function b(t,r,s,a){for(let u=s;u<a;u++)if(r[u]===t)return u;return-1}function P(t,r,s,a){return X(this.multi,[])}function H(t,r,s,a){const u=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,D=ya(s,s[un],this.providerFactory.index,a);f=D.slice(0,_),X(u,f);for(let S=_;S<D.length;S++)f.push(D[S])}else f=[],X(u,f);return f}function X(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function Ze(t,r=[]){return s=>{s.providersResolver=(a,u)=>function o(t,r,s){const a=Fn();if(a.firstCreatePass){const u=Bi(t);l(s,a.data,a.blueprint,u,!0),l(r,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,r)}}class gt{}class Jt{}function sn(t,r){return new Cn(t,null!=r?r:null,[])}class Cn extends gt{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qu(this);const u=ji(r);this._bootstrapComponents=tl(u.bootstrap),this._r3Injector=fv(r,s,[{provide:gt,useValue:this},{provide:$u,useValue:this.componentFactoryResolver},...a],De(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class $n extends Jt{constructor(r){super(),this.moduleType=r}create(r){return new Cn(this.moduleType,r,[])}}class Pn extends gt{constructor(r){super(),this.componentFactoryResolver=new Qu(this),this.instance=null;const s=new ch([...r.providers,{provide:gt,useValue:this},{provide:$u,useValue:this.componentFactoryResolver}],r.parent||Sf(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Ir(t,r,s=null){return new Pn({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let fr=(()=>{var t;class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const u=ah(0,a.type),f=u.length>0?Ir([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,f)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=r).\u0275prov=_t({token:t,providedIn:"environment",factory:()=>new t(ct(Fs))}),r})();function yo(t){t.getStandaloneInjector=r=>r.get(fr).getOrCreateStandaloneInjector(t)}function ZD(t,r,s,a,u,f,_){const D=r+s;return function rd(t,r,s,a){const u=Ar(t,r,s);return Ar(t,r+1,a)||u}(t,D,u,f)?function rl(t,r,s){return t[r]=s}(t,D+2,_?a.call(_,u,f):a(u,f)):function u_(t,r){const s=t[r];return s===ur?void 0:s}(t,D+2)}function eC(t,r){const s=Fn();let a;const u=t+Hn;var f;s.firstCreatePass?(a=function KT(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[u]=a,a.onDestroy&&(null!==(f=s.destroyHooks)&&void 0!==f?f:s.destroyHooks=[]).push(u,a.onDestroy)):a=s.data[u];const _=a.factory||(a.factory=Yi(a.type)),S=Wn(Wu);try{const B=mc(!1),W=_();return mc(B),function g0(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,Ut(),u,W),W}finally{Wn(S)}}function tC(t,r,s,a){const u=t+Hn,f=Ut(),_=Hs(f,u);return function c_(t,r){return t[un].data[r].pure}(f,u)?ZD(f,function Qt(){const t=Yn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}(),r,_.transform,s,a,_):_.transform(s,a)}function ew(){return this._results[Symbol.iterator]()}class mI{get changes(){return this._changes||(this._changes=new sa)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=mI.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=ew)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const u=function Xi(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Ha(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],f=r[a];if(s&&(u=s(u),f=s(f)),f!==u)return!1}return!0}(a._results,u,s))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nw(t,r,s,a=!0){const u=r[un];if(function rg(t,r,s,a){const u=oi+a,f=s.length;a>0&&(s[u-1][ui]=r),a<f-oi?(r[ui]=s[u],Ca(s,oi+a,r)):(s.push(r),r[ui]=null),r[Or]=s;const _=r[Ao];null!==_&&s!==_&&function ig(t,r){const s=t[is];r[Ur]!==r[Or][Or][Ur]&&(t[Wi]=!0),null===s?t[is]=[r]:s.push(r)}(_,r);const D=r[to];null!==D&&D.insertView(t),r[vn]|=128}(u,r,t,s),a){const f=cg(s,t),_=r[xn],D=jl(_,t[hi]);null!==D&&function P_(t,r,s,a,u,f){a[br]=u,a[Yr]=r,Au(t,a,s,1,u,f)}(u,t[Yr],_,r,D,f)}}let d_=(()=>{class r{}return r.__NG_ELEMENT_ID__=ow,r})();const rw=d_,iw=class extends rw{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const u=function tw(t,r,s,a){var u,f;const _=r.tView,B=Xf(t,_,s,4096&t[vn]?4096:16,null,r,null,null,null,null!==(u=null==a?void 0:a.injector)&&void 0!==u?u:null,null!==(f=null==a?void 0:a.hydrationInfo)&&void 0!==f?f:null);B[Ao]=t[r.index];const ce=t[to];return null!==ce&&(B[to]=ce.createEmbeddedView(_)),vm(_,B,s),B}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new Xu(u)}};function ow(){return qy(Mi(),Ut())}function qy(t,r){return 4&t.type?new iw(r,t,Wl(t,r)):null}let Ky=(()=>{class r{}return r.__NG_ELEMENT_ID__=dw,r})();function dw(){return lC(Mi(),Ut())}const hw=Ky,sC=class extends hw{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Wl(this._hostTNode,this._hostLView)}get injector(){return new Ho(this._hostTNode,this._hostLView)}get parentInjector(){const r=kl(this._hostTNode,this._hostLView);if(Ro(r)){const s=Xs(r,this._hostLView),a=Ns(r);return new Ho(s[un].data[a+8],s)}return new Ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=aC(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-oi}createEmbeddedView(r,s,a){let u,f;"number"==typeof a?u=a:null!=a&&(u=a.index,f=a.injector);const D=r.createEmbeddedViewImpl(s||{},f,null);return this.insertImpl(D,u,false),D}createComponent(r,s,a,u,f){var _,S;const B=r&&!function ja(t){return"function"==typeof t}(r);let W;if(B)W=s;else{const $t=s||{};W=$t.index,a=$t.injector,u=$t.projectableNodes,f=$t.environmentInjector||$t.ngModuleRef}const ce=B?r:new Rh(Vn(r)),Ge=a||this.parentInjector;if(!f&&null==ce.ngModule){const rr=(B?Ge:this.parentInjector).get(Fs,null);rr&&(f=rr)}const rt=Vn(null!==(_=ce.componentType)&&void 0!==_?_:{}),Mt=(null==rt?void 0:rt.id,null),Kt=null!==(S=null==Mt?void 0:Mt.firstChild)&&void 0!==S?S:null,dn=ce.create(Ge,u,Kt,f),An=!!Mt&&!af(this._hostTNode);return this.insertImpl(dn.hostView,W,An),dn}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const u=r._lView;if(function xl(t){return si(t[Or])}(u)){const S=this.indexOf(r);if(-1!==S)this.detach(S);else{const B=u[Or],W=new sC(B,B[Yr],B[Or]);W.detach(W.indexOf(r))}}const _=this._adjustIndex(s),D=this._lContainer;return nw(D,u,_,!a),r.attachToViewContainerRef(),Ca(_I(D),_,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=aC(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=pf(this._lContainer,s);a&&(pu(_I(this._lContainer),s),og(a[un],a))}detach(r){const s=this._adjustIndex(r,-1),a=pf(this._lContainer,s);return a&&null!=pu(_I(this._lContainer),s)?new Xu(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function aC(t){return t[8]}function _I(t){return t[8]||(t[8]=[])}function lC(t,r){let s;const a=r[t.index];return si(a)?s=a:(s=rp(a,r,null,t),r[t.index]=s,Xc(r,s)),uC(s,r,t,a),new sC(s,t,r)}let uC=function cC(t,r,s,a){if(t[hi])return;let u;u=8&s.type?Kn(a):function fw(t,r){const s=t[xn],a=s.createComment(""),u=io(r,t);return Ul(s,jl(s,u),a,function Xd(t,r){return t.nextSibling(r)}(s,u),!1),a}(r,s),t[hi]=u};class vI{constructor(r){this.queryList=r,this.matches=null}clone(){return new vI(this.queryList)}setDirty(){this.queryList.setDirty()}}class yI{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,u=[];for(let f=0;f<a;f++){const _=s.getByIndex(f);u.push(this.queries[_.indexInDeclarationView].clone())}return new yI(u)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==yC(r,s).matches&&this.queries[s].setDirty()}}class dC{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class EI{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const u=null!==s?s.length:0,f=this.getByIndex(a).embeddedTView(r,u);f&&(f.indexInDeclarationView=a,null!==s?s.push(f):s=[f])}return null!==s?new EI(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class II{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new II(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const f=a[u];this.matchTNodeWithReadOption(r,s,mw(s,f)),this.matchTNodeWithReadOption(r,s,Fl(s,r,f,!1,!1))}else a===d_?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Fl(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===Uu||u===Ky||u===d_&&4&s.type)this.addMatch(s.index,-2);else{const f=Fl(s,r,u,!1,!1);null!==f&&this.addMatch(s.index,f)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function mw(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function vw(t,r,s,a){return-1===s?function _w(t,r){return 11&t.type?Wl(t,r):4&t.type?qy(t,r):null}(r,t):-2===s?function yw(t,r,s){return s===Uu?Wl(r,t):s===d_?qy(r,t):s===Ky?lC(r,t):void 0}(t,r,a):ya(t,t[un],s,r)}function hC(t,r,s,a){const u=r[to].queries[a];if(null===u.matches){const f=t.data,_=s.matches,D=[];for(let S=0;S<_.length;S+=2){const B=_[S];D.push(B<0?null:vw(r,f[B],_[S+1],s.metadata.read))}u.matches=D}return u.matches}function DI(t,r,s,a){const u=t.queries.getByIndex(s),f=u.matches;if(null!==f){const _=hC(t,r,u,s);for(let D=0;D<f.length;D+=2){const S=f[D];if(S>0)a.push(_[D/2]);else{const B=f[D+1],W=r[-S];for(let ce=oi;ce<W.length;ce++){const Ge=W[ce];Ge[Ao]===Ge[Or]&&DI(Ge[un],Ge,B,a)}if(null!==W[is]){const ce=W[is];for(let Ge=0;Ge<ce.length;Ge++){const rt=ce[Ge];DI(rt[un],rt,B,a)}}}}}return a}function fC(t){const r=Ut(),s=Fn(),a=pe();st(a+1);const u=yC(s,a);if(t.dirty&&function fl(t){return 4==(4&t[vn])}(r)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const f=u.crossesNgTemplate?DI(s,r,a,[]):hC(s,r,u,a);t.reset(f,ov),t.notifyOnChanges()}return!0}return!1}function pC(t,r,s){const a=Fn();a.firstCreatePass&&(vC(a,new dC(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),_C(a,Ut(),r)}function gC(t,r,s,a){const u=Fn();if(u.firstCreatePass){const f=Mi();vC(u,new dC(r,s,a),f.index),function Iw(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(u,t),2==(2&s)&&(u.staticContentQueries=!0)}_C(u,Ut(),s)}function mC(){return function Ew(t,r){return t[to].queries[r].queryList}(Ut(),pe())}function _C(t,r,s){const a=new mI(4==(4&s));(function $E(t,r,s,a){const u=Ov(r);u.push(s),t.firstCreatePass&&Qc(t).push(a,u.length-1)})(t,r,a,a.destroy),null===r[to]&&(r[to]=new yI),r[to].queries.push(new vI(a))}function vC(t,r,s){null===t.queries&&(t.queries=new EI),t.queries.track(new II(r,s))}function yC(t,r){return t.queries.getByIndex(r)}function CI(t){return!!ji(t)}const FC=new Wr("Application Initializer");let SI=(()=>{var t;class r{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f}),this.appInits=null!==(a=kt(FC,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const f of this.appInits){const _=f();if(sy(_))a.push(_);else if(_0(_)){const D=new Promise((S,B)=>{_.subscribe({complete:S,error:B})});a.push(D)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{u()}).catch(f=>{this.reject(f)}),0===a.length&&u(),this.initialized=!0}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),LC=(()=>{var t;class r{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();const Xy=new Wr("LocaleId",{providedIn:"root",factory:()=>kt(Xy,gn.Optional|gn.SkipSelf)||function Hw(){return typeof $localize<"u"&&$localize.locale||Ed}()}),zw=new Wr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let VC=(()=>{var t;class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ee.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();class Ww{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let qw=(()=>{var t;class r{compileModuleSync(a){return new $n(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),_=tl(ji(a).declarations).reduce((D,S)=>{const B=Vn(S);return B&&D.push(new Rh(B)),D},[]);return new Ww(u,_)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();const jC=new Wr(""),HC=new Wr("");let MI,fb=(()=>{var t;class r{constructor(a,u,f){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,MI||(function pb(t){MI=t}(f),f.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ui.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,f){let _=-1;u&&u>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==_),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:_,updateCb:f})}whenStable(a,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,f){return[]}}return(t=r).\u0275fac=function(a){return new(a||t)(ct(Ui),ct(zC),ct(HC))},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),r})(),zC=(()=>{var t;class r{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){var f,_;return null!==(f=null===(_=MI)||void 0===_?void 0:_.findTestabilityInTree(this,a,u))&&void 0!==f?f:null}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})(),Id=null;const GC=new Wr("AllowMultipleToken"),xI=new Wr("PlatformDestroyListeners"),OI=new Wr("appBootstrapListener");class _b{constructor(r,s){this.name=r,this.token=s}}function YC(t,r,s=[]){const a=`Platform: ${r}`,u=new Wr(a);return(f=[])=>{let _=NI();if(!_||_.injector.get(GC,!1)){const D=[...s,...f,{provide:u,useValue:!0}];t?t(D):function vb(t){if(Id&&!Id.get(GC,!1))throw new ge(400,!1);(function WC(){!function Na(t){hl=t}(()=>{throw new ge(600,!1)})})(),Id=t;const r=t.get(ZC);(function qC(t){const r=t.get(Z_,null);null==r||r.forEach(s=>s())})(t)}(function KC(t=[],r){return ps.create({name:r,providers:[{provide:Pg,useValue:"platform"},{provide:xI,useValue:new Set([()=>Id=null])},...t]})}(D,a))}return function Eb(t){const r=NI();if(!r)throw new ge(401,!1);return r}()}}function NI(){var t,r;return null!==(t=null===(r=Id)||void 0===r?void 0:r.get(ZC))&&void 0!==t?t:null}let ZC=(()=>{var t;class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const f=function Ib(t="zone.js",r){return"noop"===t?new jf:"zone.js"===t?new Ui(r):t}(null==u?void 0:u.ngZone,function XC(t){var r,s;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==t?void 0:t.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(s=null==t?void 0:t.runCoalescing)&&void 0!==s&&s}}({eventCoalescing:null==u?void 0:u.ngZoneEventCoalescing,runCoalescing:null==u?void 0:u.ngZoneRunCoalescing}));return f.run(()=>{const _=function Un(t,r,s){return new Cn(t,r,s)}(a.moduleType,this.injector,function nT(t){return[{provide:Ui,useFactory:t},{provide:Ja,multi:!0,useFactory:()=>{const r=kt(Cb,{optional:!0});return()=>r.initialize()}},{provide:tT,useFactory:Db},{provide:Hf,useFactory:Yg}]}(()=>f)),D=_.injector.get(ql,null);return f.runOutsideAngular(()=>{const S=f.onError.subscribe({next:B=>{D.handleError(B)}});_.onDestroy(()=>{Jy(this._modules,_),S.unsubscribe()})}),function QC(t,r,s){try{const a=s();return sy(a)?a.catch(u=>{throw r.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(D,f,()=>{const S=_.injector.get(SI);return S.runInitializers(),S.donePromise.then(()=>(function W0(t){St(t,"Expected localeId to be defined"),"string"==typeof t&&(G0=t.toLowerCase().replace(/_/g,"-"))}(_.injector.get(Xy,Ed)||Ed),this._moduleDoBootstrap(_),_))})})}bootstrapModule(a,u=[]){const f=JC({},u);return function gb(t,r,s){const a=new $n(s);return Promise.resolve(a)}(0,0,a).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(a){const u=a.injector.get($p);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!a.instance.ngDoBootstrap)throw new ge(-403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(xI,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=r).\u0275fac=function(a){return new(a||t)(ct(ps))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();function JC(t,r){return Array.isArray(r)?r.reduce(JC,t):{...t,...r}}let $p=(()=>{var t;class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=kt(tT),this.zoneIsStable=kt(Hf),this.componentTypes=[],this.components=[],this.isStable=kt(VC).hasPendingTasks.pipe((0,$e.w)(a=>a?(0,te.of)(!1):this.zoneIsStable),(0,Oe.x)(),(0,ne.B)()),this._injector=kt(Fs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const f=a instanceof Vg;if(!this._injector.get(SI).done)throw!f&&Jr(a),new ge(405,!1);let D;D=f?a:this._injector.get($u).resolveComponentFactory(a),this.componentTypes.push(D.componentType);const S=function mb(t){return t.isBoundToModule}(D)?void 0:this._injector.get(gt),W=D.create(ps.NULL,[],u||D.selector,S),ce=W.location.nativeElement,Ge=W.injector.get(jC,null);return null==Ge||Ge.registerApplication(ce),W.onDestroy(()=>{this.detachView(W.hostView),Jy(this.components,W),null==Ge||Ge.unregisterApplication(ce)}),this._loadComponent(W),W}tick(){if(this._runningTick)throw new ge(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Jy(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(OI,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Jy(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ge(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function Jy(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const tT=new Wr("",{providedIn:"root",factory:()=>kt(ql).handleError.bind(void 0)});function Db(){const t=kt(Ui),r=kt(ql);return s=>t.runOutsideAngular(()=>r.handleError(s))}let Cb=(()=>{var t;class r{constructor(){this.zone=kt(Ui),this.applicationRef=kt($p)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function wb(){return!1}function bb(){}let Ab=(()=>{class r{}return r.__NG_ELEMENT_ID__=Sb,r})();function Sb(t){return function Rb(t,r,s){if(uo(t)&&!s){const a=So(t.index,r);return new Xu(a,a)}return 47&t.type?new Xu(r[Ur],r):null}(Mi(),Ut(),16==(16&t))}class sT{constructor(){}supports(r){return Kl(r)}create(r){return new kb(r)}}const Nb=(t,r)=>r;class kb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Nb}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,u=0,f=null;for(;s||a;){const _=!a||s&&s.currentIndex<lT(a,u,f)?s:a,D=lT(_,u,f),S=_.currentIndex;if(_===a)u--,a=a._nextRemoved;else if(s=s._next,null==_.previousIndex)u++;else{f||(f=[]);const B=D-u,W=S-u;if(B!=W){for(let Ge=0;Ge<B;Ge++){const rt=Ge<f.length?f[Ge]:f[Ge]=0,Mt=rt+Ge;W<=Mt&&Mt<B&&(f[Ge]=rt+1)}f[_.previousIndex]=W-B}}D!==S&&r(_,D,S)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Kl(r))throw new ge(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let u,f,_,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let D=0;D<this.length;D++)f=r[D],_=this._trackByFn(D,f),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,f,_,D)),Object.is(s.item,f)||this._addIdentityChange(s,f)):(s=this._mismatch(s,f,_,D),a=!0),s=s._next}else u=0,function Cm(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,D=>{_=this._trackByFn(u,D),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,D,_,u)),Object.is(s.item,D)||this._addIdentityChange(s,D)):(s=this._mismatch(s,D,_,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,u){let f;return null===r?f=this._itTail:(f=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,f,u)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,f,u)):r=this._addAfter(new Fb(s,a),f,u),r}_verifyReinsertion(r,s,a,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?r=this._reinsertAfter(f,r._prev,u):r.currentIndex!=u&&(r.currentIndex=u,this._addToMoves(r,u)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const u=r._prevRemoved,f=r._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const u=null===s?this._itHead:s._next;return r._next=u,r._prev=s,null===u?this._itTail=r:u._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new aT),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aT),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Fb{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Lb{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class aT{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new Lb,this.map.set(s,a)),a.add(r)}get(r,s){const u=this.map.get(r);return u?u.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lT(t,r,s){const a=t.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+r+u}class uT{constructor(){}supports(r){return r instanceof Map||Tm(r)}create(){return new Vb}}class Vb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Tm(r)))throw new ge(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const f=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,f)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const u=this._records.get(r);this._maybeAddToChanges(u,s);const f=u._prev,_=u._next;return f&&(f._next=_),_&&(_._prev=f),u._next=null,u._prev=null,u}const a=new Bb(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class Bb{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cT(){return new BI([new sT])}let BI=(()=>{var t;class r{constructor(a){this.factories=a}static create(a,u){if(null!=u){const f=u.factories.slice();a=a.concat(f)}return new r(a)}static extend(a){return{provide:r,useFactory:u=>r.create(a,u||cT()),deps:[[r,new qa,new vu]]}}find(a){const u=this.factories.find(f=>f.supports(a));if(null!=u)return u;throw new ge(901,!1)}}return(t=r).\u0275prov=_t({token:t,providedIn:"root",factory:cT}),r})();function dT(){return new $I([new uT])}let $I=(()=>{var t;class r{constructor(a){this.factories=a}static create(a,u){if(u){const f=u.factories.slice();a=a.concat(f)}return new r(a)}static extend(a){return{provide:r,useFactory:u=>r.create(a,u||dT()),deps:[[r,new qa,new vu]]}}find(a){const u=this.factories.find(f=>f.supports(a));if(u)return u;throw new ge(901,!1)}}return(t=r).\u0275prov=_t({token:t,providedIn:"root",factory:dT}),r})();const jb=YC(null,"core",[]);let Hb=(()=>{var t;class r{constructor(a){}}return(t=r).\u0275fac=function(a){return new(a||t)(ct($p))},t.\u0275mod=nr({type:t}),t.\u0275inj=qt({}),r})();function eA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function nA(t,r){const s=Vn(t),a=r.elementInjector||Sf();return new Rh(s).create(a,r.projectableNodes,r.hostElement,r.environmentInjector)}function rA(t){const r=Vn(t);if(!r)return null;const s=new Rh(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},7217:(Ht,Ke,x)=>{"use strict";x.d(Ke,{Dh:()=>Oe,GT:()=>ne,cc:()=>xe,hO:()=>we,on:()=>ue,pX:()=>te,xv:()=>re});var d=x(1180),h=x(5879),Y=x(1920),ae=x(7142);const Ee=["ngOnDestroy"],te=(Xe,it,ge,Le={})=>new Proxy(Xe,{get:(Pe,ze)=>ge.runOutsideAngular(()=>{var ke;if(Xe[ze])return null!=Le&&null!==(ke=Le.spy)&&void 0!==ke&&ke.get&&Le.spy.get(ze,Xe[ze]),Xe[ze];if(Ee.indexOf(ze)>-1)return()=>{};const _e=it.toPromise().then(lt=>{const Qe=null==lt?void 0:lt[ze];return"function"==typeof Qe?Qe.bind(lt):null!=Qe&&Qe.then?Qe.then(ut=>ge.run(()=>ut)):ge.run(()=>Qe)});return new Proxy(()=>{},{get:(lt,Qe)=>_e[Qe],apply:(lt,Qe,ut)=>_e.then(pt=>{var Ae;const Te=null==pt?void 0:pt(...ut);return null!=Le&&null!==(Ae=Le.spy)&&void 0!==Ae&&Ae.apply&&Le.spy.apply(ze,ut,Te),Te})})})}),ne=(Xe,it)=>{it.forEach(ge=>{Object.getOwnPropertyNames(ge.prototype||ge).forEach(Le=>{Object.defineProperty(Xe.prototype,Le,Object.getOwnPropertyDescriptor(ge.prototype||ge,Le))})})};class $e{constructor(it){return it}}const Oe=new h.OlP("angularfire2.app.options"),re=new h.OlP("angularfire2.app.name");function ue(Xe,it,ge){const Pe="object"==typeof ge&&ge||{};Pe.name=Pe.name||"string"==typeof ge&&ge||"[DEFAULT]";const ke=ae.Z.apps.filter(_e=>_e&&_e.name===Pe.name)[0]||it.runOutsideAngular(()=>ae.Z.initializeApp(Xe,Pe));try{if(JSON.stringify(Xe)!==JSON.stringify(ke.options)){const _e=!!module.hot;De("error",`${ke.name} Firebase App already initialized with different options${_e?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new $e(ke)}const De=(Xe,...it)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Xe](...it)},Ce={provide:$e,useFactory:ue,deps:[Oe,h.R0b,[new h.FiY,re]]};let we=(()=>{var Xe;class it{static initializeApp(Le,Pe){return{ngModule:it,providers:[{provide:Oe,useValue:Le},{provide:re,useValue:Pe}]}}constructor(Le){ae.Z.registerVersion("angularfire",Y.q4.full,"core"),ae.Z.registerVersion("angularfire",Y.q4.full,"app-compat"),ae.Z.registerVersion("angular",h.q4F.full,Le.toString())}}return Xe=it,(0,d.Z)(it,"\u0275fac",function(Le){return new(Le||Xe)(h.LFG(h.Lbi))}),(0,d.Z)(it,"\u0275mod",h.oAB({type:Xe})),(0,d.Z)(it,"\u0275inj",h.cJS({providers:[Ce]})),it})();function xe(Xe,it,ge,Le,Pe){const[,ze,ke]=globalThis.\u0275AngularfireInstanceCache.find(_e=>_e[0]===Xe)||[];if(ze)return function He(Xe,it){try{return Xe.toString()===it.toString()}catch{return Xe===it}}(Pe,ke)||(fe("error",`${it} was already initialized on the ${ge} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:Pe,was:ke})),ze;{const _e=Le();return globalThis.\u0275AngularfireInstanceCache.push([Xe,_e,Pe]),_e}}const Fe=typeof module<"u"&&!!module.hot,fe=(Xe,...it)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Xe](...it)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1920:(Ht,Ke,x)=>{"use strict";x.d(Ke,{q4:()=>xe,iC:()=>pt,HU:()=>ze,Rf:()=>Xe,vb:()=>fe,JM:()=>Fe,u3:()=>at});var d=x(1180),h=x(5879),Y=x(3182),ae=x(1954),te=x(2631);const $e=new class ne extends te.v{}(class Ee extends ae.o{constructor(Ue,ee){super(Ue,ee),this.scheduler=Ue,this.work=ee}schedule(Ue,ee=0){return ee>0?super.schedule(Ue,ee):(this.delay=ee,this.state=Ue,this.scheduler.flush(this),this)}execute(Ue,ee){return ee>0||this.closed?super.execute(Ue,ee):this._execute(Ue,ee)}requestAsyncId(Ue,ee,oe=0){return null!=oe&&oe>0||null==oe&&this.delay>0?super.requestAsyncId(Ue,ee,oe):(Ue.flush(this),0)}});var re=x(6321),ue=x(5592),De=x(9397),Ce=x(5137),we=x(3093);const xe=new h.GfV("ANGULARFIRE2_VERSION");function Fe(tt,Ue,ee){if(Ue){if(1===Ue.length)return Ue[0];const Re=Ue.filter(qe=>qe.app===ee);if(1===Re.length)return Re[0]}return ee.container.getProvider(tt).getImmediate({optional:!0})}const fe=(tt,Ue)=>{const ee=Ue?[Ue]:(0,Y.C6)(),oe=[];return ee.forEach(be=>{be.container.getProvider(tt).instances.forEach(qe=>{oe.includes(qe)||oe.push(qe)})}),oe};class Xe{constructor(){return fe(it)}}const it="app-check";function ge(){}class Le{constructor(Ue,ee=$e){(0,d.Z)(this,"zone",void 0),(0,d.Z)(this,"delegate",void 0),this.zone=Ue,this.delegate=ee}now(){return this.delegate.now()}schedule(Ue,ee,oe){const be=this.zone;return this.delegate.schedule(function(qe){be.runGuarded(()=>{Ue.apply(this,[qe])})},ee,oe)}}class Pe{constructor(Ue){(0,d.Z)(this,"zone",void 0),(0,d.Z)(this,"task",null),this.zone=Ue}call(Ue,ee){const oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ge,{},ge,ge)),ee.pipe((0,De.b)({next:oe,complete:oe,error:oe})).subscribe(Ue).add(oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ze=(()=>{var tt;class Ue{constructor(oe){(0,d.Z)(this,"ngZone",void 0),(0,d.Z)(this,"outsideAngular",void 0),(0,d.Z)(this,"insideAngular",void 0),this.ngZone=oe,this.outsideAngular=oe.runOutsideAngular(()=>new Le(Zone.current)),this.insideAngular=oe.run(()=>new Le(Zone.current,re.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return tt=Ue,(0,d.Z)(Ue,"\u0275fac",function(oe){return new(oe||tt)(h.LFG(h.R0b))}),(0,d.Z)(Ue,"\u0275prov",h.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"})),Ue})();function ke(){const tt=globalThis.\u0275AngularFireScheduler;if(!tt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return tt}function lt(tt){return ke().ngZone.run(()=>tt())}function pt(tt){return function Ae(tt){return function(ee){return(ee=ee.lift(new Pe(tt.ngZone))).pipe((0,Ce.R)(tt.outsideAngular),(0,we.Q)(tt.insideAngular))}}(ke())(tt)}const Te=(tt,Ue)=>function(){const oe=arguments;return Ue&&setTimeout(()=>{"scheduled"===Ue.state&&Ue.invoke()},10),lt(()=>tt.apply(void 0,oe))},at=(tt,Ue)=>function(){let ee;const oe=arguments;for(let Re=0;Re<arguments.length;Re++)"function"==typeof oe[Re]&&(Ue&&(ee||(ee=lt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ge,{},ge,ge)))),oe[Re]=Te(oe[Re],ee));const be=function _e(tt){return ke().ngZone.runOutsideAngular(()=>tt())}(()=>tt.apply(this,oe));if(!Ue){if(be instanceof ue.y){const Re=ke();return be.pipe((0,Ce.R)(Re.outsideAngular),(0,we.Q)(Re.insideAngular))}return lt(()=>be)}return be instanceof ue.y?be.pipe(pt):be instanceof Promise?lt(()=>new Promise((Re,qe)=>be.then(nt=>lt(()=>Re(nt)),nt=>lt(()=>qe(nt))))):"function"==typeof be&&ee?function(){return setTimeout(()=>{ee&&"scheduled"===ee.state&&ee.invoke()},10),be.apply(this,arguments)}:lt(()=>be)}},95:(Ht,Ke,x)=>{"use strict";x.d(Ke,{NI:()=>Ne,u:()=>Hi,cw:()=>jt,sg:()=>vn,u5:()=>wt,Fd:()=>Hn,qQ:()=>Gi,Cf:()=>ze,JU:()=>xe,a5:()=>Tn,JJ:()=>wn,JL:()=>cn,F:()=>J,On:()=>Hr,UX:()=>hn,Q7:()=>vi,kI:()=>lt,_Y:()=>di});var d=x(5879),h=x(6814),Y=x(2459),ae=x(5592),Ee=x(7453),te=x(4829),ne=x(4564),$e=x(8251),Oe=x(7400),re=x(2714),De=x(7398);let Ce=(()=>{var k;class R{constructor(U,he){this._renderer=U,this._elementRef=he,this.onChange=Nt=>{},this.onTouched=()=>{}}setProperty(U,he){this._renderer.setProperty(this._elementRef.nativeElement,U,he)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}}return(k=R).\u0275fac=function(U){return new(U||k)(d.Y36(d.Qsj),d.Y36(d.SBq))},k.\u0275dir=d.lG2({type:k}),R})(),we=(()=>{var k;class R extends Ce{}return(k=R).\u0275fac=function(){let Q;return function(he){return(Q||(Q=d.n5z(k)))(he||k)}}(),k.\u0275dir=d.lG2({type:k,features:[d.qOj]}),R})();const xe=new d.OlP("NgValueAccessor"),fe={provide:xe,useExisting:(0,d.Gpc)(()=>ge),multi:!0},it=new d.OlP("CompositionEventMode");let ge=(()=>{var k;class R extends Ce{constructor(U,he,Nt){super(U,he),this._compositionMode=Nt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Xe(){const k=(0,h.q)()?(0,h.q)().getUserAgent():"";return/android (\d+)/.test(k.toLowerCase())}())}writeValue(U){this.setProperty("value",null==U?"":U)}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}}return(k=R).\u0275fac=function(U){return new(U||k)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(it,8))},k.\u0275dir=d.lG2({type:k,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(U,he){1&U&&d.NdJ("input",function(En){return he._handleInput(En.target.value)})("blur",function(){return he.onTouched()})("compositionstart",function(){return he._compositionStart()})("compositionend",function(En){return he._compositionEnd(En.target.value)})},features:[d._Bn([fe]),d.qOj]}),R})();function Le(k){return null==k||("string"==typeof k||Array.isArray(k))&&0===k.length}function Pe(k){return null!=k&&"number"==typeof k.length}const ze=new d.OlP("NgValidators"),ke=new d.OlP("NgAsyncValidators"),_e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lt{static min(R){return Qe(R)}static max(R){return ut(R)}static required(R){return pt(R)}static requiredTrue(R){return function Ae(k){return!0===k.value?null:{required:!0}}(R)}static email(R){return function Te(k){return Le(k.value)||_e.test(k.value)?null:{email:!0}}(R)}static minLength(R){return function at(k){return R=>Le(R.value)||!Pe(R.value)?null:R.value.length<k?{minlength:{requiredLength:k,actualLength:R.value.length}}:null}(R)}static maxLength(R){return function tt(k){return R=>Pe(R.value)&&R.value.length>k?{maxlength:{requiredLength:k,actualLength:R.value.length}}:null}(R)}static pattern(R){return function Ue(k){if(!k)return ee;let R,Q;return"string"==typeof k?(Q="","^"!==k.charAt(0)&&(Q+="^"),Q+=k,"$"!==k.charAt(k.length-1)&&(Q+="$"),R=new RegExp(Q)):(Q=k.toString(),R=k),U=>{if(Le(U.value))return null;const he=U.value;return R.test(he)?null:{pattern:{requiredPattern:Q,actualValue:he}}}}(R)}static nullValidator(R){return null}static compose(R){return Ct(R)}static composeAsync(R){return Je(R)}}function Qe(k){return R=>{if(Le(R.value)||Le(k))return null;const Q=parseFloat(R.value);return!isNaN(Q)&&Q<k?{min:{min:k,actual:R.value}}:null}}function ut(k){return R=>{if(Le(R.value)||Le(k))return null;const Q=parseFloat(R.value);return!isNaN(Q)&&Q>k?{max:{max:k,actual:R.value}}:null}}function pt(k){return Le(k.value)?{required:!0}:null}function ee(k){return null}function oe(k){return null!=k}function be(k){return(0,d.QGY)(k)?(0,Y.D)(k):k}function Re(k){let R={};return k.forEach(Q=>{R=null!=Q?{...R,...Q}:R}),0===Object.keys(R).length?null:R}function qe(k,R){return R.map(Q=>Q(k))}function St(k){return k.map(R=>function nt(k){return!k.validate}(R)?R:Q=>R.validate(Q))}function Ct(k){if(!k)return null;const R=k.filter(oe);return 0==R.length?null:function(Q){return Re(qe(Q,R))}}function zt(k){return null!=k?Ct(St(k)):null}function Je(k){if(!k)return null;const R=k.filter(oe);return 0==R.length?null:function(Q){return function ue(...k){const R=(0,ne.jO)(k),{args:Q,keys:U}=(0,Ee.D)(k),he=new ae.y(Nt=>{const{length:En}=Q;if(!En)return void Nt.complete();const yr=new Array(En);let qi=En,co=En;for(let Yi=0;Yi<En;Yi++){let ho=!1;(0,te.Xf)(Q[Yi]).subscribe((0,$e.x)(Nt,os=>{ho||(ho=!0,co--),yr[Yi]=os},()=>qi--,void 0,()=>{(!qi||!ho)&&(co||Nt.next(U?(0,re.n)(U,yr):yr),Nt.complete())}))}});return R?he.pipe((0,Oe.Z)(R)):he}(qe(Q,R).map(be)).pipe((0,De.U)(Re))}}function mt(k){return null!=k?Je(St(k)):null}function _t(k,R){return null===k?[R]:Array.isArray(k)?[...k,R]:[k,R]}function Ot(k){return k._rawValidators}function qt(k){return k._rawAsyncValidators}function an(k){return k?Array.isArray(k)?k:[k]:[]}function vt(k,R){return Array.isArray(k)?k.includes(R):k===R}function Zt(k,R){const Q=an(R);return an(k).forEach(he=>{vt(Q,he)||Q.push(he)}),Q}function Xt(k,R){return an(R).filter(Q=>!vt(k,Q))}class bt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=zt(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=mt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R=void 0){this.control&&this.control.reset(R)}hasError(R,Q){return!!this.control&&this.control.hasError(R,Q)}getError(R,Q){return this.control?this.control.getError(R,Q):null}}class On extends bt{get formDirective(){return null}get path(){return null}}class Tn extends bt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Sr{constructor(R){this._cd=R}get isTouched(){var R;return!(null===(R=this._cd)||void 0===R||null===(R=R.control)||void 0===R||!R.touched)}get isUntouched(){var R;return!(null===(R=this._cd)||void 0===R||null===(R=R.control)||void 0===R||!R.untouched)}get isPristine(){var R;return!(null===(R=this._cd)||void 0===R||null===(R=R.control)||void 0===R||!R.pristine)}get isDirty(){var R;return!(null===(R=this._cd)||void 0===R||null===(R=R.control)||void 0===R||!R.dirty)}get isValid(){var R;return!(null===(R=this._cd)||void 0===R||null===(R=R.control)||void 0===R||!R.valid)}get isInvalid(){var R;return!(null===(R=this._cd)||void 0===R||null===(R=R.control)||void 0===R||!R.invalid)}get isPending(){var R;return!(null===(R=this._cd)||void 0===R||null===(R=R.control)||void 0===R||!R.pending)}get isSubmitted(){var R;return!(null===(R=this._cd)||void 0===R||!R.submitted)}}let wn=(()=>{var k;class R extends Sr{constructor(U){super(U)}}return(k=R).\u0275fac=function(U){return new(U||k)(d.Y36(Tn,2))},k.\u0275dir=d.lG2({type:k,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(U,he){2&U&&d.ekj("ng-untouched",he.isUntouched)("ng-touched",he.isTouched)("ng-pristine",he.isPristine)("ng-dirty",he.isDirty)("ng-valid",he.isValid)("ng-invalid",he.isInvalid)("ng-pending",he.isPending)},features:[d.qOj]}),R})(),cn=(()=>{var k;class R extends Sr{constructor(U){super(U)}}return(k=R).\u0275fac=function(U){return new(U||k)(d.Y36(On,10))},k.\u0275dir=d.lG2({type:k,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(U,he){2&U&&d.ekj("ng-untouched",he.isUntouched)("ng-touched",he.isTouched)("ng-pristine",he.isPristine)("ng-dirty",he.isDirty)("ng-valid",he.isValid)("ng-invalid",he.isInvalid)("ng-pending",he.isPending)("ng-submitted",he.isSubmitted)},features:[d.qOj]}),R})();const Mr="VALID",ii="INVALID",xr="PENDING",vr="DISABLED";function Ve(k){return(O(k)?k.validators:k)||null}function L(k,R){return(O(R)?R.asyncValidators:k)||null}function O(k){return null!=k&&!Array.isArray(k)&&"object"==typeof k}class ct{constructor(R,Q){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(R),this._assignAsyncValidators(Q)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get valid(){return this.status===Mr}get invalid(){return this.status===ii}get pending(){return this.status==xr}get disabled(){return this.status===vr}get enabled(){return this.status!==vr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._assignValidators(R)}setAsyncValidators(R){this._assignAsyncValidators(R)}addValidators(R){this.setValidators(Zt(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(Zt(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(Xt(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(Xt(R,this._rawAsyncValidators))}hasValidator(R){return vt(this._rawValidators,R)}hasAsyncValidator(R){return vt(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){this.touched=!0,this._parent&&!R.onlySelf&&this._parent.markAsTouched(R)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(R=>R.markAllAsTouched())}markAsUntouched(R={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Q=>{Q.markAsUntouched({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}markAsDirty(R={}){this.pristine=!1,this._parent&&!R.onlySelf&&this._parent.markAsDirty(R)}markAsPristine(R={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Q=>{Q.markAsPristine({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}markAsPending(R={}){this.status=xr,!1!==R.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!R.onlySelf&&this._parent.markAsPending(R)}disable(R={}){const Q=this._parentMarkedDirty(R.onlySelf);this.status=vr,this.errors=null,this._forEachChild(U=>{U.disable({...R,onlySelf:!0})}),this._updateValue(),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...R,skipPristineCheck:Q}),this._onDisabledChange.forEach(U=>U(!0))}enable(R={}){const Q=this._parentMarkedDirty(R.onlySelf);this.status=Mr,this._forEachChild(U=>{U.enable({...R,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors({...R,skipPristineCheck:Q}),this._onDisabledChange.forEach(U=>U(!1))}_updateAncestors(R){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(R){this._parent=R}getRawValue(){return this.value}updateValueAndValidity(R={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mr||this.status===xr)&&this._runAsyncValidator(R.emitEvent)),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity(R)}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(Q=>Q._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vr:Mr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R){if(this.asyncValidator){this.status=xr,this._hasOwnPendingAsyncValidator=!0;const Q=be(this.asyncValidator(this));this._asyncValidationSubscription=Q.subscribe(U=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(U,{emitEvent:R})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(R,Q={}){this.errors=R,this._updateControlsErrors(!1!==Q.emitEvent)}get(R){let Q=R;return null==Q||(Array.isArray(Q)||(Q=Q.split(".")),0===Q.length)?null:Q.reduce((U,he)=>U&&U._find(he),this)}getError(R,Q){const U=Q?this.get(Q):this;return U&&U.errors?U.errors[R]:null}hasError(R,Q){return!!this.getError(R,Q)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(R)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?vr:this.errors?ii:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xr)?xr:this._anyControlsHaveStatus(ii)?ii:Mr}_anyControlsHaveStatus(R){return this._anyControls(Q=>Q.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R={}){this.pristine=!this._anyControlsDirty(),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}_updateTouched(R={}){this.touched=this._anyControlsTouched(),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){O(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(R){return null}_assignValidators(R){this._rawValidators=Array.isArray(R)?R.slice():R,this._composedValidatorFn=function K(k){return Array.isArray(k)?zt(k):k||null}(this._rawValidators)}_assignAsyncValidators(R){this._rawAsyncValidators=Array.isArray(R)?R.slice():R,this._composedAsyncValidatorFn=function z(k){return Array.isArray(k)?mt(k):k||null}(this._rawAsyncValidators)}}class jt extends ct{constructor(R,Q,U){super(Ve(Q),L(U,Q)),this.controls=R,this._initObservables(),this._setUpdateStrategy(Q),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(R,Q){return this.controls[R]?this.controls[R]:(this.controls[R]=Q,Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange),Q)}addControl(R,Q,U={}){this.registerControl(R,Q),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}removeControl(R,Q={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}setControl(R,Q,U={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],Q&&this.registerControl(R,Q),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}contains(R){return this.controls.hasOwnProperty(R)&&this.controls[R].enabled}setValue(R,Q={}){(function We(k,R,Q){k._forEachChild((U,he)=>{if(void 0===Q[he])throw new d.vHH(1002,"")})})(this,0,R),Object.keys(R).forEach(U=>{(function se(k,R,Q){const U=k.controls;if(!(R?Object.keys(U):U).length)throw new d.vHH(1e3,"");if(!U[Q])throw new d.vHH(1001,"")})(this,!0,U),this.controls[U].setValue(R[U],{onlySelf:!0,emitEvent:Q.emitEvent})}),this.updateValueAndValidity(Q)}patchValue(R,Q={}){null!=R&&(Object.keys(R).forEach(U=>{const he=this.controls[U];he&&he.patchValue(R[U],{onlySelf:!0,emitEvent:Q.emitEvent})}),this.updateValueAndValidity(Q))}reset(R={},Q={}){this._forEachChild((U,he)=>{U.reset(R[he],{onlySelf:!0,emitEvent:Q.emitEvent})}),this._updatePristine(Q),this._updateTouched(Q),this.updateValueAndValidity(Q)}getRawValue(){return this._reduceChildren({},(R,Q,U)=>(R[U]=Q.getRawValue(),R))}_syncPendingControls(){let R=this._reduceChildren(!1,(Q,U)=>!!U._syncPendingControls()||Q);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){Object.keys(this.controls).forEach(Q=>{const U=this.controls[Q];U&&R(U,Q)})}_setUpControls(){this._forEachChild(R=>{R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(R){for(const[Q,U]of Object.entries(this.controls))if(this.contains(Q)&&R(U))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Q,U,he)=>((U.enabled||this.disabled)&&(Q[he]=U.value),Q))}_reduceChildren(R,Q){let U=R;return this._forEachChild((he,Nt)=>{U=Q(U,he,Nt)}),U}_allControlsDisabled(){for(const R of Object.keys(this.controls))if(this.controls[R].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(R){return this.controls.hasOwnProperty(R)?this.controls[R]:null}}const je=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Me}),Me="always";function dt(k,R){return[...R.path,k]}function me(k,R,Q=Me){var U,he;It(k,R),R.valueAccessor.writeValue(k.value),(k.disabled||"always"===Q)&&(null===(U=(he=R.valueAccessor).setDisabledState)||void 0===U||U.call(he,k.disabled)),function ln(k,R){R.valueAccessor.registerOnChange(Q=>{k._pendingValue=Q,k._pendingChange=!0,k._pendingDirty=!0,"change"===k.updateOn&&er(k,R)})}(k,R),function Gn(k,R){const Q=(U,he)=>{R.valueAccessor.writeValue(U),he&&R.viewToModelUpdate(U)};k.registerOnChange(Q),R._registerOnDestroy(()=>{k._unregisterOnChange(Q)})}(k,R),function qn(k,R){R.valueAccessor.registerOnTouched(()=>{k._pendingTouched=!0,"blur"===k.updateOn&&k._pendingChange&&er(k,R),"submit"!==k.updateOn&&k.markAsTouched()})}(k,R),function Pt(k,R){if(R.valueAccessor.setDisabledState){const Q=U=>{R.valueAccessor.setDisabledState(U)};k.registerOnDisabledChange(Q),R._registerOnDestroy(()=>{k._unregisterOnDisabledChange(Q)})}}(k,R)}function Se(k,R,Q=!0){const U=()=>{};R.valueAccessor&&(R.valueAccessor.registerOnChange(U),R.valueAccessor.registerOnTouched(U)),tn(k,R),k&&(R._invokeOnDestroyCallbacks(),k._registerOnCollectionChange(()=>{}))}function Ye(k,R){k.forEach(Q=>{Q.registerOnValidatorChange&&Q.registerOnValidatorChange(R)})}function It(k,R){const Q=Ot(k);null!==R.validator?k.setValidators(_t(Q,R.validator)):"function"==typeof Q&&k.setValidators([Q]);const U=qt(k);null!==R.asyncValidator?k.setAsyncValidators(_t(U,R.asyncValidator)):"function"==typeof U&&k.setAsyncValidators([U]);const he=()=>k.updateValueAndValidity();Ye(R._rawValidators,he),Ye(R._rawAsyncValidators,he)}function tn(k,R){let Q=!1;if(null!==k){if(null!==R.validator){const he=Ot(k);if(Array.isArray(he)&&he.length>0){const Nt=he.filter(En=>En!==R.validator);Nt.length!==he.length&&(Q=!0,k.setValidators(Nt))}}if(null!==R.asyncValidator){const he=qt(k);if(Array.isArray(he)&&he.length>0){const Nt=he.filter(En=>En!==R.asyncValidator);Nt.length!==he.length&&(Q=!0,k.setAsyncValidators(Nt))}}}const U=()=>{};return Ye(R._rawValidators,U),Ye(R._rawAsyncValidators,U),Q}function er(k,R){k._pendingDirty&&k.markAsDirty(),k.setValue(k._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(k._pendingValue),k._pendingChange=!1}function or(k,R){It(k,R)}function gr(k,R){if(!k.hasOwnProperty("model"))return!1;const Q=k.model;return!!Q.isFirstChange()||!Object.is(R,Q.currentValue)}function dr(k,R){k._syncPendingControls(),R.forEach(Q=>{const U=Q.control;"submit"===U.updateOn&&U._pendingChange&&(Q.viewToModelUpdate(U._pendingValue),U._pendingChange=!1)})}function ci(k,R){if(!R)return null;let Q,U,he;return Array.isArray(R),R.forEach(Nt=>{Nt.constructor===ge?Q=Nt:function sr(k){return Object.getPrototypeOf(k.constructor)===we}(Nt)?U=Nt:he=Nt}),he||U||Q||null}const $r={provide:On,useExisting:(0,d.Gpc)(()=>J)},wi=(()=>Promise.resolve())();let J=(()=>{var k;class R extends On{constructor(U,he,Nt){super(),this.callSetDisabledState=Nt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new jt({},zt(U),mt(he))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(U){wi.then(()=>{const he=this._findContainer(U.path);U.control=he.registerControl(U.name,U.control),me(U.control,U,this.callSetDisabledState),U.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(U)})}getControl(U){return this.form.get(U.path)}removeControl(U){wi.then(()=>{const he=this._findContainer(U.path);he&&he.removeControl(U.name),this._directives.delete(U)})}addFormGroup(U){wi.then(()=>{const he=this._findContainer(U.path),Nt=new jt({});or(Nt,U),he.registerControl(U.name,Nt),Nt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(U){wi.then(()=>{const he=this._findContainer(U.path);he&&he.removeControl(U.name)})}getFormGroup(U){return this.form.get(U.path)}updateModel(U,he){wi.then(()=>{this.form.get(U.path).setValue(he)})}setValue(U){this.control.setValue(U)}onSubmit(U){var he;return this.submitted=!0,dr(this.form,this._directives),this.ngSubmit.emit(U),"dialog"===(null==U||null===(he=U.target)||void 0===he?void 0:he.method)}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(U){return U.pop(),U.length?this.form.get(U):this.form}}return(k=R).\u0275fac=function(U){return new(U||k)(d.Y36(ze,10),d.Y36(ke,10),d.Y36(je,8))},k.\u0275dir=d.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(U,he){1&U&&d.NdJ("submit",function(En){return he.onSubmit(En)})("reset",function(){return he.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([$r]),d.qOj]}),R})();function q(k,R){const Q=k.indexOf(R);Q>-1&&k.splice(Q,1)}function ve(k){return"object"==typeof k&&null!==k&&2===Object.keys(k).length&&"value"in k&&"disabled"in k}const Ne=class extends ct{constructor(R=null,Q,U){super(Ve(Q),L(U,Q)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(R),this._setUpdateStrategy(Q),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),O(Q)&&(Q.nonNullable||Q.initialValueIsDefault)&&(this.defaultValue=ve(R)?R.value:R)}setValue(R,Q={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==Q.emitModelToViewChange&&this._onChange.forEach(U=>U(this.value,!1!==Q.emitViewToModelChange)),this.updateValueAndValidity(Q)}patchValue(R,Q={}){this.setValue(R,Q)}reset(R=this.defaultValue,Q={}){this._applyFormState(R),this.markAsPristine(Q),this.markAsUntouched(Q),this.setValue(this.value,Q),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){q(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){q(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){ve(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}},nr={provide:Tn,useExisting:(0,d.Gpc)(()=>Hr)},bi=(()=>Promise.resolve())();let Hr=(()=>{var k;class R extends Tn{constructor(U,he,Nt,En,yr,qi){super(),this._changeDetectorRef=yr,this.callSetDisabledState=qi,this.control=new Ne,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=U,this._setValidators(he),this._setAsyncValidators(Nt),this.valueAccessor=ci(0,En)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const he=U.name.previousValue;this.formDirective.removeControl({name:he,path:this._getPath(he)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),gr(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){me(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){bi.then(()=>{var he;this.control.setValue(U,{emitViewToModelChange:!1}),null===(he=this._changeDetectorRef)||void 0===he||he.markForCheck()})}_updateDisabled(U){const he=U.isDisabled.currentValue,Nt=0!==he&&(0,d.VuI)(he);bi.then(()=>{var En;Nt&&!this.control.disabled?this.control.disable():!Nt&&this.control.disabled&&this.control.enable(),null===(En=this._changeDetectorRef)||void 0===En||En.markForCheck()})}_getPath(U){return this._parent?dt(U,this._parent):[U]}}return(k=R).\u0275fac=function(U){return new(U||k)(d.Y36(On,9),d.Y36(ze,10),d.Y36(ke,10),d.Y36(xe,10),d.Y36(d.sBO,8),d.Y36(je,8))},k.\u0275dir=d.lG2({type:k,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([nr]),d.qOj,d.TTD]}),R})(),di=(()=>{var k;class R{}return(k=R).\u0275fac=function(U){return new(U||k)},k.\u0275dir=d.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),R})(),Jr=(()=>{var k;class R{}return(k=R).\u0275fac=function(U){return new(U||k)},k.\u0275mod=d.oAB({type:k}),k.\u0275inj=d.cJS({}),R})();const Oo=new d.OlP("NgModelWithFormControlWarning"),un={provide:On,useExisting:(0,d.Gpc)(()=>vn)};let vn=(()=>{var k;class R extends On{constructor(U,he,Nt){super(),this.callSetDisabledState=Nt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(U),this._setAsyncValidators(he)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const he=this.form.get(U.path);return me(he,U,this.callSetDisabledState),he.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),he}getControl(U){return this.form.get(U.path)}removeControl(U){Se(U.control||null,U,!1),function Ei(k,R){const Q=k.indexOf(R);Q>-1&&k.splice(Q,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,he){this.form.get(U.path).setValue(he)}onSubmit(U){var he;return this.submitted=!0,dr(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===(null==U||null===(he=U.target)||void 0===he?void 0:he.method)}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const he=U.control,Nt=this.form.get(U.path);he!==Nt&&(Se(he||null,U),(k=>k instanceof Ne)(Nt)&&(me(Nt,U,this.callSetDisabledState),U.control=Nt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const he=this.form.get(U.path);or(he,U),he.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const he=this.form.get(U.path);he&&function Tr(k,R){return tn(k,R)}(he,U)&&he.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){It(this.form,this),this._oldForm&&tn(this._oldForm,this)}_checkFormPresent(){}}return(k=R).\u0275fac=function(U){return new(U||k)(d.Y36(ze,10),d.Y36(ke,10),d.Y36(je,8))},k.\u0275dir=d.lG2({type:k,selectors:[["","formGroup",""]],hostBindings:function(U,he){1&U&&d.NdJ("submit",function(En){return he.onSubmit(En)})("reset",function(){return he.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([un]),d.qOj,d.TTD]}),R})();const Nr={provide:Tn,useExisting:(0,d.Gpc)(()=>Hi)};let Hi=(()=>{var k;class R extends Tn{set isDisabled(U){}constructor(U,he,Nt,En,yr){super(),this._ngModelWarningConfig=yr,this._added=!1,this.name=null,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(he),this._setAsyncValidators(Nt),this.valueAccessor=ci(0,En)}ngOnChanges(U){this._added||this._setUpControl(),gr(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return dt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(k=R)._ngModelWarningSentOnce=!1,k.\u0275fac=function(U){return new(U||k)(d.Y36(On,13),d.Y36(ze,10),d.Y36(ke,10),d.Y36(xe,10),d.Y36(Oo,8))},k.\u0275dir=d.lG2({type:k,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([Nr]),d.qOj,d.TTD]}),R})();function Io(k){return"number"==typeof k?k:parseFloat(k)}let zi=(()=>{var k;class R{constructor(){this._validator=ee}ngOnChanges(U){if(this.inputName in U){const he=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(he),this._validator=this._enabled?this.createValidator(he):ee,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}}return(k=R).\u0275fac=function(U){return new(U||k)},k.\u0275dir=d.lG2({type:k,features:[d.TTD]}),R})();const ls={provide:ze,useExisting:(0,d.Gpc)(()=>Hn),multi:!0};let Hn=(()=>{var k;class R extends zi{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=U=>Io(U),this.createValidator=U=>ut(U)}}return(k=R).\u0275fac=function(){let Q;return function(he){return(Q||(Q=d.n5z(k)))(he||k)}}(),k.\u0275dir=d.lG2({type:k,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(U,he){2&U&&d.uIk("max",he._enabled?he.max:null)},inputs:{max:"max"},features:[d._Bn([ls]),d.qOj]}),R})();const ko={provide:ze,useExisting:(0,d.Gpc)(()=>Gi),multi:!0};let Gi=(()=>{var k;class R extends zi{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=U=>Io(U),this.createValidator=U=>Qe(U)}}return(k=R).\u0275fac=function(){let Q;return function(he){return(Q||(Q=d.n5z(k)))(he||k)}}(),k.\u0275dir=d.lG2({type:k,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(U,he){2&U&&d.uIk("min",he._enabled?he.min:null)},inputs:{min:"min"},features:[d._Bn([ko]),d.qOj]}),R})();const Wi={provide:ze,useExisting:(0,d.Gpc)(()=>vi),multi:!0};let vi=(()=>{var k;class R extends zi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.VuI,this.createValidator=U=>pt}enabled(U){return U}}return(k=R).\u0275fac=function(){let Q;return function(he){return(Q||(Q=d.n5z(k)))(he||k)}}(),k.\u0275dir=d.lG2({type:k,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(U,he){2&U&&d.uIk("required",he._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([Wi]),d.qOj]}),R})(),Lo=(()=>{var k;class R{}return(k=R).\u0275fac=function(U){return new(U||k)},k.\u0275mod=d.oAB({type:k}),k.\u0275inj=d.cJS({imports:[Jr]}),R})(),wt=(()=>{var k;class R{static withConfig(U){var he;return{ngModule:R,providers:[{provide:je,useValue:null!==(he=U.callSetDisabledState)&&void 0!==he?he:Me}]}}}return(k=R).\u0275fac=function(U){return new(U||k)},k.\u0275mod=d.oAB({type:k}),k.\u0275inj=d.cJS({imports:[Lo]}),R})(),hn=(()=>{var k;class R{static withConfig(U){var he,Nt;return{ngModule:R,providers:[{provide:Oo,useValue:null!==(he=U.warnOnNgModelWithFormControl)&&void 0!==he?he:"always"},{provide:je,useValue:null!==(Nt=U.callSetDisabledState)&&void 0!==Nt?Nt:Me}]}}}return(k=R).\u0275fac=function(U){return new(U||k)},k.\u0275mod=d.oAB({type:k}),k.\u0275inj=d.cJS({imports:[Lo]}),R})()},6593:(Ht,Ke,x)=>{"use strict";x.d(Ke,{Dx:()=>Tn,H7:()=>cr,b2:()=>vt,q6:()=>_t});var d=x(5879),h=x(6814);class Y extends h.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ae extends Y{static makeCurrent(){(0,h.HT)(new ae)}onAndCancel(L,z,O){return L.addEventListener(z,O),()=>{L.removeEventListener(z,O)}}dispatchEvent(L,z){L.dispatchEvent(z)}remove(L){L.parentNode&&L.parentNode.removeChild(L)}createElement(L,z){return(z=z||this.getDefaultDocument()).createElement(L)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(L){return L.nodeType===Node.ELEMENT_NODE}isShadowRoot(L){return L instanceof DocumentFragment}getGlobalEventTarget(L,z){return"window"===z?window:"document"===z?L:"body"===z?L.body:null}getBaseHref(L){const z=function te(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==z?null:function $e(K){ne=ne||document.createElement("a"),ne.setAttribute("href",K);const L=ne.pathname;return"/"===L.charAt(0)?L:`/${L}`}(z)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(L){return(0,h.Mx)(document.cookie,L)}}let ne,Ee=null,re=(()=>{var K;class L{build(){return new XMLHttpRequest}}return(K=L).\u0275fac=function(O){return new(O||K)},K.\u0275prov=d.Yz7({token:K,factory:K.\u0275fac}),L})();const ue=new d.OlP("EventManagerPlugins");let De=(()=>{var K;class L{constructor(O,se){this._zone=se,this._eventNameToPlugin=new Map,O.forEach(We=>{We.manager=this}),this._plugins=O.slice().reverse()}addEventListener(O,se,We){return this._findPluginFor(se).addEventListener(O,se,We)}getZone(){return this._zone}_findPluginFor(O){let se=this._eventNameToPlugin.get(O);if(se)return se;if(se=this._plugins.find(ct=>ct.supports(O)),!se)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(O,se),se}}return(K=L).\u0275fac=function(O){return new(O||K)(d.LFG(ue),d.LFG(d.R0b))},K.\u0275prov=d.Yz7({token:K,factory:K.\u0275fac}),L})();class Ce{constructor(L){this._doc=L}}const we="ng-app-id";let xe=(()=>{var K;class L{constructor(O,se,We,ct={}){this.doc=O,this.appId=se,this.nonce=We,this.platformId=ct,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,h.PM)(ct),this.resetHostNodes()}addStyles(O){for(const se of O)1===this.changeUsageCount(se,1)&&this.onStyleAdded(se)}removeStyles(O){for(const se of O)this.changeUsageCount(se,-1)<=0&&this.onStyleRemoved(se)}ngOnDestroy(){const O=this.styleNodesInDOM;O&&(O.forEach(se=>se.remove()),O.clear());for(const se of this.getAllStyles())this.onStyleRemoved(se);this.resetHostNodes()}addHost(O){this.hostNodes.add(O);for(const se of this.getAllStyles())this.addStyleToHost(O,se)}removeHost(O){this.hostNodes.delete(O)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(O){for(const se of this.hostNodes)this.addStyleToHost(se,O)}onStyleRemoved(O){var se;const We=this.styleRef;null===(se=We.get(O))||void 0===se||null===(se=se.elements)||void 0===se||se.forEach(ct=>ct.remove()),We.delete(O)}collectServerRenderedStyles(){var O;const se=null===(O=this.doc.head)||void 0===O?void 0:O.querySelectorAll(`style[${we}="${this.appId}"]`);if(null!=se&&se.length){const We=new Map;return se.forEach(ct=>{null!=ct.textContent&&We.set(ct.textContent,ct)}),We}return null}changeUsageCount(O,se){const We=this.styleRef;if(We.has(O)){const ct=We.get(O);return ct.usage+=se,ct.usage}return We.set(O,{usage:se,elements:[]}),se}getStyleElement(O,se){const We=this.styleNodesInDOM,ct=null==We?void 0:We.get(se);if((null==ct?void 0:ct.parentNode)===O)return We.delete(se),ct.removeAttribute(we),ct;{const jt=this.doc.createElement("style");return this.nonce&&jt.setAttribute("nonce",this.nonce),jt.textContent=se,this.platformIsServer&&jt.setAttribute(we,this.appId),jt}}addStyleToHost(O,se){var We;const ct=this.getStyleElement(O,se);O.appendChild(ct);const jt=this.styleRef,kt=null===(We=jt.get(se))||void 0===We?void 0:We.elements;kt?kt.push(ct):jt.set(se,{elements:[ct],usage:1})}resetHostNodes(){const O=this.hostNodes;O.clear(),O.add(this.doc.head)}}return(K=L).\u0275fac=function(O){return new(O||K)(d.LFG(h.K0),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},K.\u0275prov=d.Yz7({token:K,factory:K.\u0275fac}),L})();const He={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Fe=/%COMP%/g,Le=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ke(K,L){return L.map(z=>z.replace(Fe,K))}let _e=(()=>{var K;class L{constructor(O,se,We,ct,jt,kt,yn,fn=null){this.eventManager=O,this.sharedStylesHost=se,this.appId=We,this.removeStylesOnCompDestroy=ct,this.doc=jt,this.platformId=kt,this.ngZone=yn,this.nonce=fn,this.rendererByCompId=new Map,this.platformIsServer=(0,h.PM)(kt),this.defaultRenderer=new lt(O,jt,yn,this.platformIsServer)}createRenderer(O,se){if(!O||!se)return this.defaultRenderer;this.platformIsServer&&se.encapsulation===d.ifc.ShadowDom&&(se={...se,encapsulation:d.ifc.Emulated});const We=this.getOrCreateRenderer(O,se);return We instanceof at?We.applyToHost(O):We instanceof Te&&We.applyStyles(),We}getOrCreateRenderer(O,se){const We=this.rendererByCompId;let ct=We.get(se.id);if(!ct){const jt=this.doc,kt=this.ngZone,yn=this.eventManager,fn=this.sharedStylesHost,Ln=this.removeStylesOnCompDestroy,je=this.platformIsServer;switch(se.encapsulation){case d.ifc.Emulated:ct=new at(yn,fn,se,this.appId,Ln,jt,kt,je);break;case d.ifc.ShadowDom:return new Ae(yn,fn,O,se,jt,kt,this.nonce,je);default:ct=new Te(yn,fn,se,Ln,jt,kt,je)}We.set(se.id,ct)}return ct}ngOnDestroy(){this.rendererByCompId.clear()}}return(K=L).\u0275fac=function(O){return new(O||K)(d.LFG(De),d.LFG(xe),d.LFG(d.AFp),d.LFG(Le),d.LFG(h.K0),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},K.\u0275prov=d.Yz7({token:K,factory:K.\u0275fac}),L})();class lt{constructor(L,z,O,se){this.eventManager=L,this.doc=z,this.ngZone=O,this.platformIsServer=se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(L,z){return z?this.doc.createElementNS(He[z]||z,L):this.doc.createElement(L)}createComment(L){return this.doc.createComment(L)}createText(L){return this.doc.createTextNode(L)}appendChild(L,z){(pt(L)?L.content:L).appendChild(z)}insertBefore(L,z,O){L&&(pt(L)?L.content:L).insertBefore(z,O)}removeChild(L,z){L&&L.removeChild(z)}selectRootElement(L,z){let O="string"==typeof L?this.doc.querySelector(L):L;if(!O)throw new d.vHH(-5104,!1);return z||(O.textContent=""),O}parentNode(L){return L.parentNode}nextSibling(L){return L.nextSibling}setAttribute(L,z,O,se){if(se){z=se+":"+z;const We=He[se];We?L.setAttributeNS(We,z,O):L.setAttribute(z,O)}else L.setAttribute(z,O)}removeAttribute(L,z,O){if(O){const se=He[O];se?L.removeAttributeNS(se,z):L.removeAttribute(`${O}:${z}`)}else L.removeAttribute(z)}addClass(L,z){L.classList.add(z)}removeClass(L,z){L.classList.remove(z)}setStyle(L,z,O,se){se&(d.JOm.DashCase|d.JOm.Important)?L.style.setProperty(z,O,se&d.JOm.Important?"important":""):L.style[z]=O}removeStyle(L,z,O){O&d.JOm.DashCase?L.style.removeProperty(z):L.style[z]=""}setProperty(L,z,O){L[z]=O}setValue(L,z){L.nodeValue=z}listen(L,z,O){if("string"==typeof L&&!(L=(0,h.q)().getGlobalEventTarget(this.doc,L)))throw new Error(`Unsupported event target ${L} for event ${z}`);return this.eventManager.addEventListener(L,z,this.decoratePreventDefault(O))}decoratePreventDefault(L){return z=>{if("__ngUnwrap__"===z)return L;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>L(z)):L(z))&&z.preventDefault()}}}function pt(K){return"TEMPLATE"===K.tagName&&void 0!==K.content}class Ae extends lt{constructor(L,z,O,se,We,ct,jt,kt){super(L,We,ct,kt),this.sharedStylesHost=z,this.hostEl=O,this.shadowRoot=O.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const yn=ke(se.id,se.styles);for(const fn of yn){const Ln=document.createElement("style");jt&&Ln.setAttribute("nonce",jt),Ln.textContent=fn,this.shadowRoot.appendChild(Ln)}}nodeOrShadowRoot(L){return L===this.hostEl?this.shadowRoot:L}appendChild(L,z){return super.appendChild(this.nodeOrShadowRoot(L),z)}insertBefore(L,z,O){return super.insertBefore(this.nodeOrShadowRoot(L),z,O)}removeChild(L,z){return super.removeChild(this.nodeOrShadowRoot(L),z)}parentNode(L){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(L)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Te extends lt{constructor(L,z,O,se,We,ct,jt,kt){super(L,We,ct,jt),this.sharedStylesHost=z,this.removeStylesOnCompDestroy=se,this.styles=kt?ke(kt,O.styles):O.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class at extends Te{constructor(L,z,O,se,We,ct,jt,kt){const yn=se+"-"+O.id;super(L,z,O,We,ct,jt,kt,yn),this.contentAttr=function Pe(K){return"_ngcontent-%COMP%".replace(Fe,K)}(yn),this.hostAttr=function ze(K){return"_nghost-%COMP%".replace(Fe,K)}(yn)}applyToHost(L){this.applyStyles(),this.setAttribute(L,this.hostAttr,"")}createElement(L,z){const O=super.createElement(L,z);return super.setAttribute(O,this.contentAttr,""),O}}let tt=(()=>{var K;class L extends Ce{constructor(O){super(O)}supports(O){return!0}addEventListener(O,se,We){return O.addEventListener(se,We,!1),()=>this.removeEventListener(O,se,We)}removeEventListener(O,se,We){return O.removeEventListener(se,We)}}return(K=L).\u0275fac=function(O){return new(O||K)(d.LFG(h.K0))},K.\u0275prov=d.Yz7({token:K,factory:K.\u0275fac}),L})();const Ue=["alt","control","meta","shift"],ee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oe={alt:K=>K.altKey,control:K=>K.ctrlKey,meta:K=>K.metaKey,shift:K=>K.shiftKey};let be=(()=>{var K;class L extends Ce{constructor(O){super(O)}supports(O){return null!=L.parseEventName(O)}addEventListener(O,se,We){const ct=L.parseEventName(se),jt=L.eventCallback(ct.fullKey,We,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.q)().onAndCancel(O,ct.domEventName,jt))}static parseEventName(O){const se=O.toLowerCase().split("."),We=se.shift();if(0===se.length||"keydown"!==We&&"keyup"!==We)return null;const ct=L._normalizeKey(se.pop());let jt="",kt=se.indexOf("code");if(kt>-1&&(se.splice(kt,1),jt="code."),Ue.forEach(fn=>{const Ln=se.indexOf(fn);Ln>-1&&(se.splice(Ln,1),jt+=fn+".")}),jt+=ct,0!=se.length||0===ct.length)return null;const yn={};return yn.domEventName=We,yn.fullKey=jt,yn}static matchEventFullKeyCode(O,se){let We=ee[O.key]||O.key,ct="";return se.indexOf("code.")>-1&&(We=O.code,ct="code."),!(null==We||!We)&&(We=We.toLowerCase()," "===We?We="space":"."===We&&(We="dot"),Ue.forEach(jt=>{jt!==We&&(0,oe[jt])(O)&&(ct+=jt+".")}),ct+=We,ct===se)}static eventCallback(O,se,We){return ct=>{L.matchEventFullKeyCode(ct,O)&&We.runGuarded(()=>se(ct))}}static _normalizeKey(O){return"esc"===O?"escape":O}}return(K=L).\u0275fac=function(O){return new(O||K)(d.LFG(h.K0))},K.\u0275prov=d.Yz7({token:K,factory:K.\u0275fac}),L})();const _t=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:h.bD},{provide:d.g9A,useValue:function Ct(){ae.makeCurrent()},multi:!0},{provide:h.K0,useFactory:function Je(){return(0,d.RDi)(document),document},deps:[]}]),Ot=new d.OlP(""),qt=[{provide:d.rWj,useClass:class Oe{addToWindow(L){d.dqk.getAngularTestability=(O,se=!0)=>{const We=L.findTestabilityInTree(O,se);if(null==We)throw new d.vHH(5103,!1);return We},d.dqk.getAllAngularTestabilities=()=>L.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>L.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(O=>{const se=d.dqk.getAllAngularTestabilities();let We=se.length,ct=!1;const jt=function(kt){ct=ct||kt,We--,0==We&&O(ct)};se.forEach(kt=>{kt.whenStable(jt)})})}findTestabilityInTree(L,z,O){if(null==z)return null;const se=L.getTestability(z);return null!=se?se:O?(0,h.q)().isShadowRoot(z)?this.findTestabilityInTree(L,z.host,!0):this.findTestabilityInTree(L,z.parentElement,!0):null}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],an=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function zt(){return new d.qLn},deps:[]},{provide:ue,useClass:tt,multi:!0,deps:[h.K0,d.R0b,d.Lbi]},{provide:ue,useClass:be,multi:!0,deps:[h.K0]},_e,xe,De,{provide:d.FYo,useExisting:_e},{provide:h.JF,useClass:re,deps:[]},[]];let vt=(()=>{var K;class L{constructor(O){}static withServerTransition(O){return{ngModule:L,providers:[{provide:d.AFp,useValue:O.appId}]}}}return(K=L).\u0275fac=function(O){return new(O||K)(d.LFG(Ot,12))},K.\u0275mod=d.oAB({type:K}),K.\u0275inj=d.cJS({providers:[...an,...qt],imports:[h.ez,d.hGG]}),L})(),Tn=(()=>{var K;class L{constructor(O){this._doc=O}getTitle(){return this._doc.title}setTitle(O){this._doc.title=O||""}}return(K=L).\u0275fac=function(O){return new(O||K)(d.LFG(h.K0))},K.\u0275prov=d.Yz7({token:K,factory:function(O){let se=null;return se=O?new O:function On(){return new Tn((0,d.LFG)(h.K0))}(),se},providedIn:"root"}),L})();typeof window<"u"&&window;let cr=(()=>{var K;class L{}return(K=L).\u0275fac=function(O){return new(O||K)},K.\u0275prov=d.Yz7({token:K,factory:function(O){let se=null;return se=O?new(O||K):d.LFG(Jn),se},providedIn:"root"}),L})(),Jn=(()=>{var K;class L extends cr{constructor(O){super(),this._doc=O}sanitize(O,se){if(null==se)return null;switch(O){case d.q3G.NONE:return se;case d.q3G.HTML:return(0,d.qzn)(se,"HTML")?(0,d.z3N)(se):(0,d.EiD)(this._doc,String(se)).toString();case d.q3G.STYLE:return(0,d.qzn)(se,"Style")?(0,d.z3N)(se):se;case d.q3G.SCRIPT:if((0,d.qzn)(se,"Script"))return(0,d.z3N)(se);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(se,"URL")?(0,d.z3N)(se):(0,d.mCW)(String(se));case d.q3G.RESOURCE_URL:if((0,d.qzn)(se,"ResourceURL"))return(0,d.z3N)(se);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(O){return(0,d.JVY)(O)}bypassSecurityTrustStyle(O){return(0,d.L6k)(O)}bypassSecurityTrustScript(O){return(0,d.eBb)(O)}bypassSecurityTrustUrl(O){return(0,d.LAX)(O)}bypassSecurityTrustResourceUrl(O){return(0,d.pB0)(O)}}return(K=L).\u0275fac=function(O){return new(O||K)(d.LFG(h.K0))},K.\u0275prov=d.Yz7({token:K,factory:function(O){let se=null;return se=O?new O:function ni(K){return new Jn(K.get(h.K0))}(d.LFG(d.zs3)),se},providedIn:"root"}),L})()},2692:(Ht,Ke,x)=>{"use strict";x.d(Ke,{gz:()=>Li,y6:()=>di,OD:()=>ci,eC:()=>Je,wm:()=>So,wN:()=>ar,F0:()=>Kn,rH:()=>io,Bz:()=>Mi,Hx:()=>_n});var d=x(5879),h=x(5592),Y=x(4674),Ee=x(2459),te=x(2096),ne=x(5619),$e=x(2572),Oe=x(6973),re=x(5211),ue=x(4829);function De(I){return new h.y(A=>{(0,ue.Xf)(I()).subscribe(A)})}var Ce=x(8407);function we(I,A){const M=(0,Y.m)(I)?I:()=>I,C=N=>N.error(M());return new h.y(A?N=>A.schedule(C,0,N):C)}var xe=x(6232),He=x(7394),Fe=x(9360),fe=x(8251);function Xe(){return(0,Fe.e)((I,A)=>{let M=null;I._refCount++;const C=(0,fe.x)(A,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(M=null);const N=I._connection,Z=M;M=null,N&&(!Z||N===Z)&&N.unsubscribe(),A.unsubscribe()});I.subscribe(C),C.closed||(M=I.connect())})}class it extends h.y{constructor(A,M){super(),this.source=A,this.subjectFactory=M,this._subject=null,this._refCount=0,this._connection=null,(0,Fe.A)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,null==A||A.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new He.w0;const M=this.getSubject();A.add(this.source.subscribe((0,fe.x)(M,void 0,()=>{this._teardown(),M.complete()},C=>{this._teardown(),M.error(C)},()=>this._teardown()))),A.closed&&(this._connection=null,A=He.w0.EMPTY)}return A}refCount(){return Xe()(this)}}var ge=x(8645),Le=x(6814),Pe=x(7398),ze=x(4664),ke=x(8180),_e=x(7921),lt=x(2181),Qe=x(1631),ut=x(1374),pt=x(6328),Ae=x(9397);function Te(I){return(0,Fe.e)((A,M)=>{let Z,C=null,N=!1;C=A.subscribe((0,fe.x)(M,void 0,void 0,pe=>{Z=(0,ue.Xf)(I(pe,Te(I)(A))),C?(C.unsubscribe(),C=null,Z.subscribe(M)):N=!0})),N&&(C.unsubscribe(),C=null,Z.subscribe(M))})}var at=x(6699),tt=x(3572);function Ue(I){return I<=0?()=>xe.E:(0,Fe.e)((A,M)=>{let C=[];A.subscribe((0,fe.x)(M,N=>{C.push(N),I<C.length&&C.shift()},()=>{for(const N of C)M.next(N);M.complete()},void 0,()=>{C=null}))})}var ee=x(3026),oe=x(2737),qe=x(4716),nt=x(2420),Ct=x(7537),zt=x(6593);const Je="primary",mt=Symbol("RouteTitle");class _t{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const M=this.params[A];return Array.isArray(M)?M[0]:M}return null}getAll(A){if(this.has(A)){const M=this.params[A];return Array.isArray(M)?M:[M]}return[]}get keys(){return Object.keys(this.params)}}function Ot(I){return new _t(I)}function qt(I,A,M){const C=M.path.split("/");if(C.length>I.length||"full"===M.pathMatch&&(A.hasChildren()||C.length<I.length))return null;const N={};for(let Z=0;Z<C.length;Z++){const pe=C[Z],st=I[Z];if(pe.startsWith(":"))N[pe.substring(1)]=st;else if(pe!==st.path)return null}return{consumed:I.slice(0,C.length),posParams:N}}function vt(I,A){const M=I?Object.keys(I):void 0,C=A?Object.keys(A):void 0;if(!M||!C||M.length!=C.length)return!1;let N;for(let Z=0;Z<M.length;Z++)if(N=M[Z],!Zt(I[N],A[N]))return!1;return!0}function Zt(I,A){if(Array.isArray(I)&&Array.isArray(A)){if(I.length!==A.length)return!1;const M=[...I].sort(),C=[...A].sort();return M.every((N,Z)=>C[Z]===N)}return I===A}function Xt(I){return I.length>0?I[I.length-1]:null}function bt(I){return function ae(I){return!!I&&(I instanceof h.y||(0,Y.m)(I.lift)&&(0,Y.m)(I.subscribe))}(I)?I:(0,d.QGY)(I)?(0,Ee.D)(Promise.resolve(I)):(0,te.of)(I)}const On={exact:function gn(I,A,M){if(!Nn(I.segments,A.segments)||!kn(I.segments,A.segments,M)||I.numberOfChildren!==A.numberOfChildren)return!1;for(const C in A.children)if(!I.children[C]||!gn(I.children[C],A.children[C],M))return!1;return!0},subset:cn},Tn={exact:function Qn(I,A){return vt(I,A)},subset:function wn(I,A){return Object.keys(A).length<=Object.keys(I).length&&Object.keys(A).every(M=>Zt(I[M],A[M]))},ignored:()=>!0};function Sr(I,A,M){return On[M.paths](I.root,A.root,M.matrixParams)&&Tn[M.queryParams](I.queryParams,A.queryParams)&&!("exact"===M.fragment&&I.fragment!==A.fragment)}function cn(I,A,M){return Wn(I,A,A.segments,M)}function Wn(I,A,M,C){if(I.segments.length>M.length){const N=I.segments.slice(0,M.length);return!(!Nn(N,M)||A.hasChildren()||!kn(N,M,C))}if(I.segments.length===M.length){if(!Nn(I.segments,M)||!kn(I.segments,M,C))return!1;for(const N in A.children)if(!I.children[N]||!cn(I.children[N],A.children[N],C))return!1;return!0}{const N=M.slice(0,I.segments.length),Z=M.slice(I.segments.length);return!!(Nn(I.segments,N)&&kn(I.segments,N,C)&&I.children[Je])&&Wn(I.children[Je],A,Z,C)}}function kn(I,A,M){return A.every((C,N)=>Tn[M](I[N].parameters,C.parameters))}class _r{constructor(A=new en([],{}),M={},C=null){this.root=A,this.queryParams=M,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ot(this.queryParams)),this._queryParamMap}toString(){return ti.serialize(this)}}class en{constructor(A,M){this.segments=A,this.children=M,this.parent=null,Object.values(M).forEach(C=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cr(this)}}class Xn{constructor(A,M){this.path=A,this.parameters=M}get parameterMap(){return this._parameterMap||(this._parameterMap=Ot(this.parameters)),this._parameterMap}toString(){return xr(this)}}function Nn(I,A){return I.length===A.length&&I.every((M,C)=>M.path===A[C].path)}let _n=(()=>{var I;class A{}return(I=A).\u0275fac=function(C){return new(C||I)},I.\u0275prov=d.Yz7({token:I,factory:function(){return new ir},providedIn:"root"}),A})();class ir{parse(A){const M=new kt(A);return new _r(M.parseRootSegment(),M.parseQueryParams(),M.parseFragment())}serialize(A){const M=`/${ni(A.root,!0)}`,C=function Ve(I){const A=Object.keys(I).map(M=>{const C=I[M];return Array.isArray(C)?C.map(N=>`${Cr(M)}=${Cr(N)}`).join("&"):`${Cr(M)}=${Cr(C)}`}).filter(M=>!!M);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${M}${C}${"string"==typeof A.fragment?`#${function ri(I){return encodeURI(I)}(A.fragment)}`:""}`}}const ti=new ir;function cr(I){return I.segments.map(A=>xr(A)).join("/")}function ni(I,A){if(!I.hasChildren())return cr(I);if(A){const M=I.children[Je]?ni(I.children[Je],!1):"",C=[];return Object.entries(I.children).forEach(([N,Z])=>{N!==Je&&C.push(`${N}:${ni(Z,!1)}`)}),C.length>0?`${M}(${C.join("//")})`:M}{const M=function Dr(I,A){let M=[];return Object.entries(I.children).forEach(([C,N])=>{C===Je&&(M=M.concat(A(N,C)))}),Object.entries(I.children).forEach(([C,N])=>{C!==Je&&(M=M.concat(A(N,C)))}),M}(I,(C,N)=>N===Je?[ni(I.children[Je],!1)]:[`${N}:${ni(C,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[Je]?`${cr(I)}/${M[0]}`:`${cr(I)}/(${M.join("//")})`}}function Jn(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cr(I){return Jn(I).replace(/%3B/gi,";")}function Qr(I){return Jn(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mr(I){return decodeURIComponent(I)}function ii(I){return Mr(I.replace(/\+/g,"%20"))}function xr(I){return`${Qr(I.path)}${function vr(I){return Object.keys(I).map(A=>`;${Qr(A)}=${Qr(I[A])}`).join("")}(I.parameters)}`}const K=/^[^\/()?;#]+/;function L(I){const A=I.match(K);return A?A[0]:""}const z=/^[^\/()?;=#]+/,se=/^[^=?&#]+/,ct=/^[^&#]+/;class kt{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let M={};this.peekStartsWith("/(")&&(this.capture("/"),M=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(A.length>0||Object.keys(M).length>0)&&(C[Je]=new en(A,M)),C}parseSegment(){const A=L(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(A),new Xn(Mr(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const M=function O(I){const A=I.match(z);return A?A[0]:""}(this.remaining);if(!M)return;this.capture(M);let C="";if(this.consumeOptional("=")){const N=L(this.remaining);N&&(C=N,this.capture(C))}A[Mr(M)]=Mr(C)}parseQueryParam(A){const M=function We(I){const A=I.match(se);return A?A[0]:""}(this.remaining);if(!M)return;this.capture(M);let C="";if(this.consumeOptional("=")){const pe=function jt(I){const A=I.match(ct);return A?A[0]:""}(this.remaining);pe&&(C=pe,this.capture(C))}const N=ii(M),Z=ii(C);if(A.hasOwnProperty(N)){let pe=A[N];Array.isArray(pe)||(pe=[pe],A[N]=pe),pe.push(Z)}else A[N]=Z}parseParens(A){const M={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=L(this.remaining),N=this.remaining[C.length];if("/"!==N&&")"!==N&&";"!==N)throw new d.vHH(4010,!1);let Z;C.indexOf(":")>-1?(Z=C.slice(0,C.indexOf(":")),this.capture(Z),this.capture(":")):A&&(Z=Je);const pe=this.parseChildren();M[Z]=1===Object.keys(pe).length?pe[Je]:new en([],pe),this.consumeOptional("//")}return M}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new d.vHH(4011,!1)}}function yn(I){return I.segments.length>0?new en([],{[Je]:I}):I}function fn(I){const A={};for(const C of Object.keys(I.children)){const Z=fn(I.children[C]);if(C===Je&&0===Z.segments.length&&Z.hasChildren())for(const[pe,st]of Object.entries(Z.children))A[pe]=st;else(Z.segments.length>0||Z.hasChildren())&&(A[C]=Z)}return function Ln(I){if(1===I.numberOfChildren&&I.children[Je]){const A=I.children[Je];return new en(I.segments.concat(A.segments),A.children)}return I}(new en(I.segments,A))}function je(I){return I instanceof _r}function dt(I){var A;let M;const Z=yn(function C(pe){const st={};for(const yt of pe.children){const xt=C(yt);st[yt.outlet]=xt}const Yt=new en(pe.url,st);return pe===I&&(M=Yt),Yt}(I.root));return null!==(A=M)&&void 0!==A?A:Z}function me(I,A,M,C){let N=I;for(;N.parent;)N=N.parent;if(0===A.length)return Pt(N,N,N,M,C);const Z=function ln(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new tn(!0,0,I);let A=0,M=!1;const C=I.reduce((N,Z,pe)=>{if("object"==typeof Z&&null!=Z){if(Z.outlets){const st={};return Object.entries(Z.outlets).forEach(([Yt,yt])=>{st[Yt]="string"==typeof yt?yt.split("/"):yt}),[...N,{outlets:st}]}if(Z.segmentPath)return[...N,Z.segmentPath]}return"string"!=typeof Z?[...N,Z]:0===pe?(Z.split("/").forEach((st,Yt)=>{0==Yt&&"."===st||(0==Yt&&""===st?M=!0:".."===st?A++:""!=st&&N.push(st))}),N):[...N,Z]},[]);return new tn(M,A,C)}(A);if(Z.toRoot())return Pt(N,N,new en([],{}),M,C);const pe=function er(I,A,M){if(I.isAbsolute)return new qn(A,!0,0);if(!M)return new qn(A,!1,NaN);if(null===M.parent)return new qn(M,!0,0);const C=Se(I.commands[0])?0:1;return function Gn(I,A,M){let C=I,N=A,Z=M;for(;Z>N;){if(Z-=N,C=C.parent,!C)throw new d.vHH(4005,!1);N=C.segments.length}return new qn(C,!1,N-Z)}(M,M.segments.length-1+C,I.numberOfDoubleDots)}(Z,N,I),st=pe.processChildren?jn(pe.segmentGroup,pe.index,Z.commands):Tr(pe.segmentGroup,pe.index,Z.commands);return Pt(N,pe.segmentGroup,st,M,C)}function Se(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Ye(I){return"object"==typeof I&&null!=I&&I.outlets}function Pt(I,A,M,C,N){let pe,Z={};C&&Object.entries(C).forEach(([Yt,yt])=>{Z[Yt]=Array.isArray(yt)?yt.map(xt=>`${xt}`):`${yt}`}),pe=I===A?M:It(I,A,M);const st=yn(fn(pe));return new _r(st,Z,N)}function It(I,A,M){const C={};return Object.entries(I.children).forEach(([N,Z])=>{C[N]=Z===A?M:It(Z,A,M)}),new en(I.segments,C)}class tn{constructor(A,M,C){if(this.isAbsolute=A,this.numberOfDoubleDots=M,this.commands=C,A&&C.length>0&&Se(C[0]))throw new d.vHH(4003,!1);const N=C.find(Ye);if(N&&N!==Xt(C))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qn{constructor(A,M,C){this.segmentGroup=A,this.processChildren=M,this.index=C}}function Tr(I,A,M){if(I||(I=new en([],{})),0===I.segments.length&&I.hasChildren())return jn(I,A,M);const C=function pr(I,A,M){let C=0,N=A;const Z={match:!1,pathIndex:0,commandIndex:0};for(;N<I.segments.length;){if(C>=M.length)return Z;const pe=I.segments[N],st=M[C];if(Ye(st))break;const Yt=`${st}`,yt=C<M.length-1?M[C+1]:null;if(N>0&&void 0===Yt)break;if(Yt&&yt&&"object"==typeof yt&&void 0===yt.outlets){if(!gr(Yt,yt,pe))return Z;C+=2}else{if(!gr(Yt,{},pe))return Z;C++}N++}return{match:!0,pathIndex:N,commandIndex:C}}(I,A,M),N=M.slice(C.commandIndex);if(C.match&&C.pathIndex<I.segments.length){const Z=new en(I.segments.slice(0,C.pathIndex),{});return Z.children[Je]=new en(I.segments.slice(C.pathIndex),I.children),jn(Z,0,N)}return C.match&&0===N.length?new en(I.segments,{}):C.match&&!I.hasChildren()?Sn(I,A,M):C.match?jn(I,0,N):Sn(I,A,M)}function jn(I,A,M){if(0===M.length)return new en(I.segments,{});{const C=function or(I){return Ye(I[0])?I[0].outlets:{[Je]:I}}(M),N={};if(Object.keys(C).some(Z=>Z!==Je)&&I.children[Je]&&1===I.numberOfChildren&&0===I.children[Je].segments.length){const Z=jn(I.children[Je],A,M);return new en(I.segments,Z.children)}return Object.entries(C).forEach(([Z,pe])=>{"string"==typeof pe&&(pe=[pe]),null!==pe&&(N[Z]=Tr(I.children[Z],A,pe))}),Object.entries(I.children).forEach(([Z,pe])=>{void 0===C[Z]&&(N[Z]=pe)}),new en(I.segments,N)}}function Sn(I,A,M){const C=I.segments.slice(0,A);let N=0;for(;N<M.length;){const Z=M[N];if(Ye(Z)){const Yt=mi(Z.outlets);return new en(C,Yt)}if(0===N&&Se(M[0])){C.push(new Xn(I.segments[A].path,Ti(M[0]))),N++;continue}const pe=Ye(Z)?Z.outlets[Je]:`${Z}`,st=N<M.length-1?M[N+1]:null;pe&&st&&Se(st)?(C.push(new Xn(pe,Ti(st))),N+=2):(C.push(new Xn(pe,{})),N++)}return new en(C,{})}function mi(I){const A={};return Object.entries(I).forEach(([M,C])=>{"string"==typeof C&&(C=[C]),null!==C&&(A[M]=Sn(new en([],{}),0,C))}),A}function Ti(I){const A={};return Object.entries(I).forEach(([M,C])=>A[M]=`${C}`),A}function gr(I,A,M){return I==M.path&&vt(A,M.parameters)}const sr="imperative";class dr{constructor(A,M){this.id=A,this.url=M}}class ci extends dr{constructor(A,M,C="imperative",N=null){super(A,M),this.type=0,this.navigationTrigger=C,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ei extends dr{constructor(A,M,C){super(A,M),this.urlAfterRedirects=C,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ji extends dr{constructor(A,M,C,N){super(A,M),this.reason=C,this.code=N,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $r extends dr{constructor(A,M,C,N){super(A,M),this.reason=C,this.code=N,this.type=16}}class wi extends dr{constructor(A,M,C,N){super(A,M),this.error=C,this.target=N,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class J extends dr{constructor(A,M,C,N){super(A,M),this.urlAfterRedirects=C,this.state=N,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q extends dr{constructor(A,M,C,N){super(A,M),this.urlAfterRedirects=C,this.state=N,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ve extends dr{constructor(A,M,C,N,Z){super(A,M),this.urlAfterRedirects=C,this.state=N,this.shouldActivate=Z,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ne extends dr{constructor(A,M,C,N){super(A,M),this.urlAfterRedirects=C,this.state=N,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ht extends dr{constructor(A,M,C,N){super(A,M),this.urlAfterRedirects=C,this.state=N,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ot{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Dt{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Lt{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rt{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ft{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pn{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class In{constructor(A,M,C){this.routerEvent=A,this.position=M,this.anchor=C,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Mn{}class nr{constructor(A){this.url=A}}class Hr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new di,this.attachRef=null}}let di=(()=>{var I;class A{constructor(){this.contexts=new Map}onChildOutletCreated(C,N){const Z=this.getOrCreateContext(C);Z.outlet=N,this.contexts.set(C,Z)}onChildOutletDestroyed(C){const N=this.getContext(C);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let N=this.getContext(C);return N||(N=new Hr,this.contexts.set(C,N)),N}getContext(C){return this.contexts.get(C)||null}}return(I=A).\u0275fac=function(C){return new(C||I)},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),A})();class Ai{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const M=this.pathFromRoot(A);return M.length>1?M[M.length-2]:null}children(A){const M=Vn(A,this._root);return M?M.children.map(C=>C.value):[]}firstChild(A){const M=Vn(A,this._root);return M&&M.children.length>0?M.children[0].value:null}siblings(A){const M=qr(A,this._root);return M.length<2?[]:M[M.length-2].children.map(N=>N.value).filter(N=>N!==A)}pathFromRoot(A){return qr(A,this._root).map(M=>M.value)}}function Vn(I,A){if(I===A.value)return A;for(const M of A.children){const C=Vn(I,M);if(C)return C}return null}function qr(I,A){if(I===A.value)return[A];for(const M of A.children){const C=qr(I,M);if(C.length)return C.unshift(A),C}return[]}class wr{constructor(A,M){this.value=A,this.children=M}toString(){return`TreeNode(${this.value})`}}function Jr(I){const A={};return I&&I.children.forEach(M=>A[M.value.outlet]=M),A}class ji extends Ai{constructor(A,M){super(A),this.snapshot=M,vn(this,A)}toString(){return this.snapshot.toString()}}function ns(I,A){const M=function xo(I,A){const pe=new br([],{},{},"",{},Je,A,null,{});return new un("",new wr(pe,[]))}(0,A),C=new ne.X([new Xn("",{})]),N=new ne.X({}),Z=new ne.X({}),pe=new ne.X({}),st=new ne.X(""),Yt=new Li(C,N,pe,st,Z,Je,A,M.root);return Yt.snapshot=M.root,new ji(new wr(Yt,[]),M)}class Li{constructor(A,M,C,N,Z,pe,st,Yt){var yt,xt;this.urlSubject=A,this.paramsSubject=M,this.queryParamsSubject=C,this.fragmentSubject=N,this.dataSubject=Z,this.outlet=pe,this.component=st,this._futureSnapshot=Yt,this.title=null!==(yt=null===(xt=this.dataSubject)||void 0===xt?void 0:xt.pipe((0,Pe.U)(Rn=>Rn[mt])))&&void 0!==yt?yt:(0,te.of)(void 0),this.url=A,this.params=M,this.queryParams=C,this.fragment=N,this.data=Z}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pe.U)(A=>Ot(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pe.U)(A=>Ot(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Oo(I,A="emptyOnly"){const M=I.pathFromRoot;let C=0;if("always"!==A)for(C=M.length-1;C>=1;){const N=M[C],Z=M[C-1];if(N.routeConfig&&""===N.routeConfig.path)C--;else{if(Z.component)break;C--}}return function gs(I){return I.reduce((A,M)=>{var C;return{params:{...A.params,...M.params},data:{...A.data,...M.data},resolve:{...M.data,...A.resolve,...null===(C=M.routeConfig)||void 0===C?void 0:C.data,...M._resolvedData}}},{params:{},data:{},resolve:{}})}(M.slice(C))}class br{get title(){var A;return null===(A=this.data)||void 0===A?void 0:A[mt]}constructor(A,M,C,N,Z,pe,st,Yt,yt){this.url=A,this.params=M,this.queryParams=C,this.fragment=N,this.data=Z,this.outlet=pe,this.component=st,this.routeConfig=Yt,this._resolve=yt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ot(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ot(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class un extends Ai{constructor(A,M){super(M),this.url=A,vn(this,M)}toString(){return Or(this._root)}}function vn(I,A){A.value._routerState=I,A.children.forEach(M=>vn(I,M))}function Or(I){const A=I.children.length>0?` { ${I.children.map(Or).join(", ")} } `:"";return`${I.value}${A}`}function ui(I){if(I.snapshot){const A=I.snapshot,M=I._futureSnapshot;I.snapshot=M,vt(A.queryParams,M.queryParams)||I.queryParamsSubject.next(M.queryParams),A.fragment!==M.fragment&&I.fragmentSubject.next(M.fragment),vt(A.params,M.params)||I.paramsSubject.next(M.params),function an(I,A){if(I.length!==A.length)return!1;for(let M=0;M<I.length;++M)if(!vt(I[M],A[M]))return!1;return!0}(A.url,M.url)||I.urlSubject.next(M.url),vt(A.data,M.data)||I.dataSubject.next(M.data)}else I.snapshot=I._futureSnapshot,I.dataSubject.next(I._futureSnapshot.data)}function Oi(I,A){const M=vt(I.params,A.params)&&function Fr(I,A){return Nn(I,A)&&I.every((M,C)=>vt(M.parameters,A[C].parameters))}(I.url,A.url);return M&&!(!I.parent!=!A.parent)&&(!I.parent||Oi(I.parent,A.parent))}let Yr=(()=>{var I;class A{constructor(){this.activated=null,this._activatedRoute=null,this.name=Je,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(di),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(Nr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(C){if(C.name){const{firstChange:N,previousValue:Z}=C.name;if(N)return;this.isTrackedInParentContexts(Z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Z)),this.initializeOutletWithName()}}ngOnDestroy(){var C;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(C=this.inputBinder)||void 0===C||C.unsubscribeFromRouteData(this)}isTrackedInParentContexts(C){var N;return(null===(N=this.parentContexts.getContext(C))||void 0===N?void 0:N.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const C=this.parentContexts.getContext(this.name);null!=C&&C.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,N){var Z;this.activated=C,this._activatedRoute=N,this.location.insert(C.hostView),null===(Z=this.inputBinder)||void 0===Z||Z.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,N){var Z;if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=C;const pe=this.location,Yt=C.snapshot.component,yt=this.parentContexts.getOrCreateContext(this.name).children,xt=new Ni(C,yt,pe.injector);this.activated=pe.createComponent(Yt,{index:pe.length,injector:xt,environmentInjector:null!=N?N:this.environmentInjector}),this.changeDetector.markForCheck(),null===(Z=this.inputBinder)||void 0===Z||Z.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(I=A).\u0275fac=function(C){return new(C||I)},I.\u0275dir=d.lG2({type:I,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),A})();class Ni{constructor(A,M,C){this.route=A,this.childContexts=M,this.parent=C}get(A,M){return A===Li?this.route:A===di?this.childContexts:this.parent.get(A,M)}}const Nr=new d.OlP("");let Hi=(()=>{var I;class A{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(C){this.unsubscribeFromRouteData(C),this.subscribeToRouteData(C)}unsubscribeFromRouteData(C){var N;null===(N=this.outletDataSubscriptions.get(C))||void 0===N||N.unsubscribe(),this.outletDataSubscriptions.delete(C)}subscribeToRouteData(C){const{activatedRoute:N}=C,Z=(0,$e.a)([N.queryParams,N.params,N.data]).pipe((0,ze.w)(([pe,st,Yt],yt)=>(Yt={...pe,...st,...Yt},0===yt?(0,te.of)(Yt):Promise.resolve(Yt)))).subscribe(pe=>{if(!C.isActivated||!C.activatedComponentRef||C.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(C);const st=(0,d.qFp)(N.component);if(st)for(const{templateName:Yt}of st.inputs)C.activatedComponentRef.setInput(Yt,pe[Yt]);else this.unsubscribeFromRouteData(C)});this.outletDataSubscriptions.set(C,Z)}}return(I=A).\u0275fac=function(C){return new(C||I)},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac}),A})();function xn(I,A,M){if(M&&I.shouldReuseRoute(A.value,M.value.snapshot)){const C=M.value;C._futureSnapshot=A.value;const N=function Eo(I,A,M){return A.children.map(C=>{for(const N of M.children)if(I.shouldReuseRoute(C.value,N.value.snapshot))return xn(I,C,N);return xn(I,C)})}(I,A,M);return new wr(C,N)}{if(I.shouldAttach(A.value)){const Z=I.retrieve(A.value);if(null!==Z){const pe=Z.route;return pe.value._futureSnapshot=A.value,pe.children=A.children.map(st=>xn(I,st)),pe}}const C=function bo(I){return new Li(new ne.X(I.url),new ne.X(I.params),new ne.X(I.queryParams),new ne.X(I.fragment),new ne.X(I.data),I.outlet,I.component,I)}(A.value),N=A.children.map(Z=>xn(I,Z));return new wr(C,N)}}const eo="ngNavigationCancelingError";function Ur(I,A){const{redirectTo:M,navigationBehaviorOptions:C}=je(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,N=Ao(!1,0,A);return N.url=M,N.navigationBehaviorOptions=C,N}function Ao(I,A,M){const C=new Error("NavigationCancelingError: "+(I||""));return C[eo]=!0,C.cancellationCode=A,M&&(C.url=M),C}function to(I){return I&&I[eo]}let no=(()=>{var I;class A{}return(I=A).\u0275fac=function(C){return new(C||I)},I.\u0275cmp=d.Xpm({type:I,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(C,N){1&C&&d._UZ(0,"router-outlet")},dependencies:[Yr],encapsulation:2}),A})();function hi(I){const A=I.children&&I.children.map(hi),M=A?{...I,children:A}:{...I};return!M.component&&!M.loadComponent&&(A||M.loadChildren)&&M.outlet&&M.outlet!==Je&&(M.component=no),M}function vi(I){return I.outlet||Je}function Fo(I){var A;if(!I)return null;if(null!==(A=I.routeConfig)&&void 0!==A&&A._injector)return I.routeConfig._injector;for(let M=I.parent;M;M=M.parent){const C=M.routeConfig;if(null!=C&&C._loadedInjector)return C._loadedInjector;if(null!=C&&C._injector)return C._injector}return null}class Si{constructor(A,M,C,N,Z){this.routeReuseStrategy=A,this.futureState=M,this.currState=C,this.forwardEvent=N,this.inputBindingEnabled=Z}activate(A){const M=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(M,C,A),ui(this.futureState.root),this.activateChildRoutes(M,C,A)}deactivateChildRoutes(A,M,C){const N=Jr(M);A.children.forEach(Z=>{const pe=Z.value.outlet;this.deactivateRoutes(Z,N[pe],C),delete N[pe]}),Object.values(N).forEach(Z=>{this.deactivateRouteAndItsChildren(Z,C)})}deactivateRoutes(A,M,C){const N=A.value,Z=M?M.value:null;if(N===Z)if(N.component){const pe=C.getContext(N.outlet);pe&&this.deactivateChildRoutes(A,M,pe.children)}else this.deactivateChildRoutes(A,M,C);else Z&&this.deactivateRouteAndItsChildren(M,C)}deactivateRouteAndItsChildren(A,M){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,M):this.deactivateRouteAndOutlet(A,M)}detachAndStoreRouteSubtree(A,M){const C=M.getContext(A.value.outlet),N=C&&A.value.component?C.children:M,Z=Jr(A);for(const pe of Object.keys(Z))this.deactivateRouteAndItsChildren(Z[pe],N);if(C&&C.outlet){const pe=C.outlet.detach(),st=C.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:pe,route:A,contexts:st})}}deactivateRouteAndOutlet(A,M){const C=M.getContext(A.value.outlet),N=C&&A.value.component?C.children:M,Z=Jr(A);for(const pe of Object.keys(Z))this.deactivateRouteAndItsChildren(Z[pe],N);C&&(C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated()),C.attachRef=null,C.route=null)}activateChildRoutes(A,M,C){const N=Jr(M);A.children.forEach(Z=>{this.activateRoutes(Z,N[Z.value.outlet],C),this.forwardEvent(new pn(Z.value.snapshot))}),A.children.length&&this.forwardEvent(new Rt(A.value.snapshot))}activateRoutes(A,M,C){const N=A.value,Z=M?M.value:null;if(ui(N),N===Z)if(N.component){const pe=C.getOrCreateContext(N.outlet);this.activateChildRoutes(A,M,pe.children)}else this.activateChildRoutes(A,M,C);else if(N.component){const pe=C.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const st=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),pe.children.onOutletReAttached(st.contexts),pe.attachRef=st.componentRef,pe.route=st.route.value,pe.outlet&&pe.outlet.attach(st.componentRef,st.route.value),ui(st.route.value),this.activateChildRoutes(A,null,pe.children)}else{const st=Fo(N.snapshot);pe.attachRef=null,pe.route=N,pe.injector=st,pe.outlet&&pe.outlet.activateWith(N,pe.injector),this.activateChildRoutes(A,null,pe.children)}}else this.activateChildRoutes(A,null,C)}}class si{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class Vi{constructor(A,M){this.component=A,this.route=M}}function uo(I,A,M){const C=I._root;return Rr(C,A?A._root:null,M,[C.value])}function Bi(I,A){const M=Symbol(),C=A.get(I,M);return C===M?"function"!=typeof I||(0,d.Z0I)(I)?A.get(I):I:C}function Rr(I,A,M,C,N={canDeactivateChecks:[],canActivateChecks:[]}){const Z=Jr(A);return I.children.forEach(pe=>{(function us(I,A,M,C,N={canDeactivateChecks:[],canActivateChecks:[]}){const Z=I.value,pe=A?A.value:null,st=M?M.getContext(I.value.outlet):null;if(pe&&Z.routeConfig===pe.routeConfig){const Yt=function Lo(I,A,M){if("function"==typeof M)return M(I,A);switch(M){case"pathParamsChange":return!Nn(I.url,A.url);case"pathParamsOrQueryParamsChange":return!Nn(I.url,A.url)||!vt(I.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Oi(I,A)||!vt(I.queryParams,A.queryParams);default:return!Oi(I,A)}}(pe,Z,Z.routeConfig.runGuardsAndResolvers);Yt?N.canActivateChecks.push(new si(C)):(Z.data=pe.data,Z._resolvedData=pe._resolvedData),Rr(I,A,Z.component?st?st.children:null:M,C,N),Yt&&st&&st.outlet&&st.outlet.isActivated&&N.canDeactivateChecks.push(new Vi(st.outlet.component,pe))}else pe&&qo(A,st,N),N.canActivateChecks.push(new si(C)),Rr(I,null,Z.component?st?st.children:null:M,C,N)})(pe,Z[pe.value.outlet],M,C.concat([pe.value]),N),delete Z[pe.value.outlet]}),Object.entries(Z).forEach(([pe,st])=>qo(st,M.getContext(pe),N)),N}function qo(I,A,M){const C=Jr(I),N=I.value;Object.entries(C).forEach(([Z,pe])=>{qo(pe,N.component?A?A.children.getContext(Z):null:A,M)}),M.canDeactivateChecks.push(new Vi(N.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,N))}function ms(I){return"function"==typeof I}function k(I){return I instanceof Oe.K||"EmptyError"===(null==I?void 0:I.name)}const R=Symbol("INITIAL_VALUE");function Q(){return(0,ze.w)(I=>(0,$e.a)(I.map(A=>A.pipe((0,ke.q)(1),(0,_e.O)(R)))).pipe((0,Pe.U)(A=>{for(const M of A)if(!0!==M){if(M===R)return R;if(!1===M||M instanceof _r)return M}return!0}),(0,lt.h)(A=>A!==R),(0,ke.q)(1)))}function os(I){return(0,Ce.z)((0,Ae.b)(A=>{if(je(A))throw Ur(0,A)}),(0,Pe.U)(A=>!0===A))}class Pi{constructor(A){this.segmentGroup=A||null}}class As{constructor(A){this.urlTree=A}}function ki(I){return we(new Pi(I))}function Yo(I){return we(new As(I))}class Oa{constructor(A,M){this.urlSerializer=A,this.urlTree=M}noMatchError(A){return new d.vHH(4002,!1)}lineralizeSegments(A,M){let C=[],N=M.root;for(;;){if(C=C.concat(N.segments),0===N.numberOfChildren)return(0,te.of)(C);if(N.numberOfChildren>1||!N.children[Je])return we(new d.vHH(4e3,!1));N=N.children[Je]}}applyRedirectCommands(A,M,C){return this.applyRedirectCreateUrlTree(M,this.urlSerializer.parse(M),A,C)}applyRedirectCreateUrlTree(A,M,C,N){const Z=this.createSegmentGroup(A,M.root,C,N);return new _r(Z,this.createQueryParams(M.queryParams,this.urlTree.queryParams),M.fragment)}createQueryParams(A,M){const C={};return Object.entries(A).forEach(([N,Z])=>{if("string"==typeof Z&&Z.startsWith(":")){const st=Z.substring(1);C[N]=M[st]}else C[N]=Z}),C}createSegmentGroup(A,M,C,N){const Z=this.createSegments(A,M.segments,C,N);let pe={};return Object.entries(M.children).forEach(([st,Yt])=>{pe[st]=this.createSegmentGroup(A,Yt,C,N)}),new en(Z,pe)}createSegments(A,M,C,N){return M.map(Z=>Z.path.startsWith(":")?this.findPosParam(A,Z,N):this.findOrReturn(Z,C))}findPosParam(A,M,C){const N=C[M.path.substring(1)];if(!N)throw new d.vHH(4001,!1);return N}findOrReturn(A,M){let C=0;for(const N of M){if(N.path===A.path)return M.splice(C),N;C++}return A}}const cs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function da(I,A,M,C,N){const Z=Ko(I,A,M);return Z.matched?(C=function lo(I,A){var M;return I.providers&&!I._injector&&(I._injector=(0,d.MMx)(I.providers,A,`Route: ${I.path}`)),null!==(M=I._injector)&&void 0!==M?M:A}(A,C),function _s(I,A,M,C){const N=A.canMatch;if(!N||0===N.length)return(0,te.of)(!0);const Z=N.map(pe=>{const st=Bi(pe,I);return bt(function ie(I){return I&&ms(I.canMatch)}(st)?st.canMatch(A,M):I.runInContext(()=>st(A,M)))});return(0,te.of)(Z).pipe(Q(),os())}(C,A,M).pipe((0,Pe.U)(pe=>!0===pe?Z:{...cs}))):(0,te.of)(Z)}function Ko(I,A,M){var C,N;if(""===A.path)return"full"===A.pathMatch&&(I.hasChildren()||M.length>0)?{...cs}:{matched:!0,consumedSegments:[],remainingSegments:M,parameters:{},positionalParamSegments:{}};const pe=(A.matcher||qt)(M,I,A);if(!pe)return{...cs};const st={};Object.entries(null!==(C=pe.posParams)&&void 0!==C?C:{}).forEach(([yt,xt])=>{st[yt]=xt.path});const Yt=pe.consumed.length>0?{...st,...pe.consumed[pe.consumed.length-1].parameters}:st;return{matched:!0,consumedSegments:pe.consumed,remainingSegments:M.slice(pe.consumed.length),parameters:Yt,positionalParamSegments:null!==(N=pe.posParams)&&void 0!==N?N:{}}}function ha(I,A,M,C){return M.length>0&&function ll(I,A,M){return M.some(C=>ds(I,A,C)&&vi(C)!==Je)}(I,M,C)?{segmentGroup:new en(A,Sl(C,new en(M,I.children))),slicedSegments:[]}:0===M.length&&function ul(I,A,M){return M.some(C=>ds(I,A,C))}(I,M,C)?{segmentGroup:new en(I.segments,fi(I,0,M,C,I.children)),slicedSegments:M}:{segmentGroup:new en(I.segments,I.children),slicedSegments:M}}function fi(I,A,M,C,N){const Z={};for(const pe of C)if(ds(I,M,pe)&&!N[vi(pe)]){const st=new en([],{});Z[vi(pe)]=st}return{...N,...Z}}function Sl(I,A){const M={};M[Je]=A;for(const C of I)if(""===C.path&&vi(C)!==Je){const N=new en([],{});M[vi(C)]=N}return M}function ds(I,A,M){return(!(I.hasChildren()||A.length>0)||"full"!==M.pathMatch)&&""===M.path}class $s{constructor(A,M,C,N,Z,pe,st){this.injector=A,this.configLoader=M,this.rootComponentType=C,this.config=N,this.urlTree=Z,this.paramsInheritanceStrategy=pe,this.urlSerializer=st,this.allowRedirects=!0,this.applyRedirects=new Oa(this.urlSerializer,this.urlTree)}noMatchError(A){return new d.vHH(4002,!1)}recognize(){const A=ha(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,A,Je).pipe(Te(M=>{if(M instanceof As)return this.allowRedirects=!1,this.urlTree=M.urlTree,this.match(M.urlTree);throw M instanceof Pi?this.noMatchError(M):M}),(0,Pe.U)(M=>{const C=new br([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Je,this.rootComponentType,null,{}),N=new wr(C,M),Z=new un("",N),pe=function Me(I,A,M=null,C=null){return me(dt(I),A,M,C)}(C,[],this.urlTree.queryParams,this.urlTree.fragment);return pe.queryParams=this.urlTree.queryParams,Z.url=this.urlSerializer.serialize(pe),this.inheritParamsAndData(Z._root),{state:Z,tree:pe}}))}match(A){return this.processSegmentGroup(this.injector,this.config,A.root,Je).pipe(Te(C=>{throw C instanceof Pi?this.noMatchError(C):C}))}inheritParamsAndData(A){const M=A.value,C=Oo(M,this.paramsInheritanceStrategy);M.params=Object.freeze(C.params),M.data=Object.freeze(C.data),A.children.forEach(N=>this.inheritParamsAndData(N))}processSegmentGroup(A,M,C,N){return 0===C.segments.length&&C.hasChildren()?this.processChildren(A,M,C):this.processSegment(A,M,C,C.segments,N,!0)}processChildren(A,M,C){const N=[];for(const Z of Object.keys(C.children))"primary"===Z?N.unshift(Z):N.push(Z);return(0,Ee.D)(N).pipe((0,pt.b)(Z=>{const pe=C.children[Z],st=function is(I,A){const M=I.filter(C=>vi(C)===A);return M.push(...I.filter(C=>vi(C)!==A)),M}(M,Z);return this.processSegmentGroup(A,st,pe,Z)}),(0,at.R)((Z,pe)=>(Z.push(...pe),Z)),(0,tt.d)(null),function be(I,A){const M=arguments.length>=2;return C=>C.pipe(I?(0,lt.h)((N,Z)=>I(N,Z,C)):oe.y,Ue(1),M?(0,tt.d)(A):(0,ee.T)(()=>new Oe.K))}(),(0,Qe.z)(Z=>{if(null===Z)return ki(C);const pe=Pl(Z);return function dl(I){I.sort((A,M)=>A.value.outlet===Je?-1:M.value.outlet===Je?1:A.value.outlet.localeCompare(M.value.outlet))}(pe),(0,te.of)(pe)}))}processSegment(A,M,C,N,Z,pe){return(0,Ee.D)(M).pipe((0,pt.b)(st=>{var Yt;return this.processSegmentAgainstRoute(null!==(Yt=st._injector)&&void 0!==Yt?Yt:A,M,st,C,N,Z,pe).pipe(Te(yt=>{if(yt instanceof Pi)return(0,te.of)(null);throw yt}))}),(0,ut.P)(st=>!!st),Te(st=>{if(k(st))return function Rl(I,A,M){return 0===A.length&&!I.children[M]}(C,N,Z)?(0,te.of)([]):ki(C);throw st}))}processSegmentAgainstRoute(A,M,C,N,Z,pe,st){return function Ss(I,A,M,C){return!!(vi(I)===C||C!==Je&&ds(A,M,I))&&("**"===I.path||Ko(A,I,M).matched)}(C,N,Z,pe)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(A,N,C,Z,pe,st):st&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,N,M,C,Z,pe):ki(N):ki(N)}expandSegmentAgainstRouteUsingRedirect(A,M,C,N,Z,pe){return"**"===N.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,C,N,pe):this.expandRegularSegmentAgainstRouteUsingRedirect(A,M,C,N,Z,pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,M,C,N){const Z=this.applyRedirects.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?Yo(Z):this.applyRedirects.lineralizeSegments(C,Z).pipe((0,Qe.z)(pe=>{const st=new en(pe,{});return this.processSegment(A,M,st,pe,N,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,M,C,N,Z,pe){const{matched:st,consumedSegments:Yt,remainingSegments:yt,positionalParamSegments:xt}=Ko(M,N,Z);if(!st)return ki(M);const Rn=this.applyRedirects.applyRedirectCommands(Yt,N.redirectTo,xt);return N.redirectTo.startsWith("/")?Yo(Rn):this.applyRedirects.lineralizeSegments(N,Rn).pipe((0,Qe.z)(Kr=>this.processSegment(A,C,M,Kr.concat(yt),pe,!1)))}matchSegmentAgainstRoute(A,M,C,N,Z,pe){let st;if("**"===C.path){var Yt,yt;const xt=N.length>0?Xt(N).parameters:{},Rn=new br(N,xt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hl(C),vi(C),null!==(Yt=null!==(yt=C.component)&&void 0!==yt?yt:C._loadedComponent)&&void 0!==Yt?Yt:null,C,Rs(C));st=(0,te.of)({snapshot:Rn,consumedSegments:[],remainingSegments:[]}),M.children={}}else st=da(M,C,N,A).pipe((0,Pe.U)(({matched:xt,consumedSegments:Rn,remainingSegments:Kr,parameters:hr})=>{var nn,xi;return xt?{snapshot:new br(Rn,hr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hl(C),vi(C),null!==(nn=null!==(xi=C.component)&&void 0!==xi?xi:C._loadedComponent)&&void 0!==nn?nn:null,C,Rs(C)),consumedSegments:Rn,remainingSegments:Kr}:null}));return st.pipe((0,ze.w)(xt=>{var Rn;return null===xt?ki(M):(A=null!==(Rn=C._injector)&&void 0!==Rn?Rn:A,this.getChildConfig(A,C,N).pipe((0,ze.w)(({routes:Kr})=>{var hr;const nn=null!==(hr=C._loadedInjector)&&void 0!==hr?hr:A,{snapshot:xi,consumedSegments:lr,remainingSegments:gl}=xt,{segmentGroup:tr,slicedSegments:rn}=ha(M,lr,gl,Kr);if(0===rn.length&&tr.hasChildren())return this.processChildren(nn,Kr,tr).pipe((0,Pe.U)(La=>null===La?null:[new wr(xi,La)]));if(0===Kr.length&&0===rn.length)return(0,te.of)([new wr(xi,[])]);const Zr=vi(C)===Z;return this.processSegment(nn,Kr,tr,rn,Zr?Je:Z,!0).pipe((0,Pe.U)(La=>[new wr(xi,La)]))})))}))}getChildConfig(A,M,C){return M.children?(0,te.of)({routes:M.children,injector:A}):M.loadChildren?void 0!==M._loadedRoutes?(0,te.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):function ho(I,A,M,C){const N=A.canLoad;if(void 0===N||0===N.length)return(0,te.of)(!0);const Z=N.map(pe=>{const st=Bi(pe,I);return bt(function v(I){return I&&ms(I.canLoad)}(st)?st.canLoad(A,M):I.runInContext(()=>st(A,M)))});return(0,te.of)(Z).pipe(Q(),os())}(A,M,C).pipe((0,Qe.z)(N=>N?this.configLoader.loadChildren(A,M).pipe((0,Ae.b)(Z=>{M._loadedRoutes=Z.routes,M._loadedInjector=Z.injector})):function Bs(I){return we(Ao(!1,3))}())):(0,te.of)({routes:[],injector:A})}}function Do(I){const A=I.value.routeConfig;return A&&""===A.path}function Pl(I){const A=[],M=new Set;for(const C of I){if(!Do(C)){A.push(C);continue}const N=A.find(Z=>C.value.routeConfig===Z.value.routeConfig);void 0!==N?(N.children.push(...C.children),M.add(N)):A.push(C)}for(const C of M){const N=Pl(C.children);A.push(new wr(C.value,N))}return A.filter(C=>!M.has(C))}function hl(I){return I.data||{}}function Rs(I){return I.resolve||{}}function T(I){return"string"==typeof I.title||null===I.title}function $(I){return(0,ze.w)(A=>{const M=I(A);return M?(0,Ee.D)(M).pipe((0,Pe.U)(()=>A)):(0,te.of)(A)})}const Ie=new d.OlP("ROUTES");let F=(()=>{var I;class A{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(C){if(this.componentLoaders.get(C))return this.componentLoaders.get(C);if(C._loadedComponent)return(0,te.of)(C._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(C);const N=bt(C.loadComponent()).pipe((0,Pe.U)(Be),(0,Ae.b)(pe=>{this.onLoadEndListener&&this.onLoadEndListener(C),C._loadedComponent=pe}),(0,qe.x)(()=>{this.componentLoaders.delete(C)})),Z=new it(N,()=>new ge.x).pipe(Xe());return this.componentLoaders.set(C,Z),Z}loadChildren(C,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,te.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const pe=this.loadModuleFactoryOrRoutes(N.loadChildren).pipe((0,Pe.U)(Yt=>{this.onLoadEndListener&&this.onLoadEndListener(N);let yt,xt;return Array.isArray(Yt)?xt=Yt:(yt=Yt.create(C).injector,xt=yt.get(Ie,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:xt.map(hi),injector:yt}}),(0,qe.x)(()=>{this.childrenLoaders.delete(N)})),st=new it(pe,()=>new ge.x).pipe(Xe());return this.childrenLoaders.set(N,st),st}loadModuleFactoryOrRoutes(C){return bt(C()).pipe((0,Pe.U)(Be),(0,Qe.z)(N=>N instanceof d.YKP||Array.isArray(N)?(0,te.of)(N):(0,Ee.D)(this.compiler.compileModuleAsync(N))))}}return(I=A).\u0275fac=function(C){return new(C||I)},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),A})();function Be(I){return function de(I){return I&&"object"==typeof I&&"default"in I}(I)?I.default:I}let At=(()=>{var I;class A{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ge.x,this.transitionAbortSubject=new ge.x,this.configLoader=(0,d.f3M)(F),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(_n),this.rootContexts=(0,d.f3M)(di),this.inputBindingEnabled=null!==(0,d.f3M)(Nr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,te.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Z=>this.events.next(new Dt(Z)),this.configLoader.onLoadStartListener=Z=>this.events.next(new ot(Z))}complete(){var C;null===(C=this.transitions)||void 0===C||C.complete()}handleNavigationRequest(C){var N;const Z=++this.navigationId;null===(N=this.transitions)||void 0===N||N.next({...this.transitions.value,...C,id:Z})}setupNavigations(C,N,Z){return this.transitions=new ne.X({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:C.urlHandlingStrategy.extract(N),urlAfterRedirects:C.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:sr,restoredState:null,currentSnapshot:Z.snapshot,targetSnapshot:null,currentRouterState:Z,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,lt.h)(pe=>0!==pe.id),(0,Pe.U)(pe=>({...pe,extractedUrl:C.urlHandlingStrategy.extract(pe.rawUrl)})),(0,ze.w)(pe=>{this.currentTransition=pe;let st=!1,Yt=!1;return(0,te.of)(pe).pipe((0,Ae.b)(yt=>{this.currentNavigation={id:yt.id,initialUrl:yt.rawUrl,extractedUrl:yt.extractedUrl,trigger:yt.source,extras:yt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ze.w)(yt=>{var xt;const Rn=yt.currentBrowserUrl.toString(),Kr=!C.navigated||yt.extractedUrl.toString()!==Rn||Rn!==yt.currentUrlTree.toString(),hr=null!==(xt=yt.extras.onSameUrlNavigation)&&void 0!==xt?xt:C.onSameUrlNavigation;if(!Kr&&"reload"!==hr){const nn="";return this.events.next(new $r(yt.id,this.urlSerializer.serialize(yt.rawUrl),nn,0)),yt.resolve(null),xe.E}if(C.urlHandlingStrategy.shouldProcessUrl(yt.rawUrl))return(0,te.of)(yt).pipe((0,ze.w)(nn=>{var xi,lr;const gl=null===(xi=this.transitions)||void 0===xi?void 0:xi.getValue();return this.events.next(new ci(nn.id,this.urlSerializer.serialize(nn.extractedUrl),nn.source,nn.restoredState)),gl!==(null===(lr=this.transitions)||void 0===lr?void 0:lr.getValue())?xe.E:Promise.resolve(nn)}),function Na(I,A,M,C,N,Z){return(0,Qe.z)(pe=>function cl(I,A,M,C,N,Z,pe="emptyOnly"){return new $s(I,A,M,C,N,pe,Z).recognize()}(I,A,M,C,pe.extractedUrl,N,Z).pipe((0,Pe.U)(({state:st,tree:Yt})=>({...pe,targetSnapshot:st,urlAfterRedirects:Yt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,C.config,this.urlSerializer,C.paramsInheritanceStrategy),(0,Ae.b)(nn=>{pe.targetSnapshot=nn.targetSnapshot,pe.urlAfterRedirects=nn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:nn.urlAfterRedirects};const xi=new J(nn.id,this.urlSerializer.serialize(nn.extractedUrl),this.urlSerializer.serialize(nn.urlAfterRedirects),nn.targetSnapshot);this.events.next(xi)}));if(Kr&&C.urlHandlingStrategy.shouldProcessUrl(yt.currentRawUrl)){const{id:nn,extractedUrl:xi,source:lr,restoredState:gl,extras:tr}=yt,rn=new ci(nn,this.urlSerializer.serialize(xi),lr,gl);this.events.next(rn);const Zr=ns(0,this.rootComponentType).snapshot;return this.currentTransition=pe={...yt,targetSnapshot:Zr,urlAfterRedirects:xi,extras:{...tr,skipLocationChange:!1,replaceUrl:!1}},(0,te.of)(pe)}{const nn="";return this.events.next(new $r(yt.id,this.urlSerializer.serialize(yt.extractedUrl),nn,1)),yt.resolve(null),xe.E}}),(0,Ae.b)(yt=>{const xt=new q(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(xt)}),(0,Pe.U)(yt=>(this.currentTransition=pe={...yt,guards:uo(yt.targetSnapshot,yt.currentSnapshot,this.rootContexts)},pe)),function U(I,A){return(0,Qe.z)(M=>{const{targetSnapshot:C,currentSnapshot:N,guards:{canActivateChecks:Z,canDeactivateChecks:pe}}=M;return 0===pe.length&&0===Z.length?(0,te.of)({...M,guardsResult:!0}):function he(I,A,M,C){return(0,Ee.D)(I).pipe((0,Qe.z)(N=>function Yi(I,A,M,C,N){const Z=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!Z||0===Z.length)return(0,te.of)(!0);const pe=Z.map(st=>{var Yt;const yt=null!==(Yt=Fo(A))&&void 0!==Yt?Yt:N,xt=Bi(st,yt);return bt(function V(I){return I&&ms(I.canDeactivate)}(xt)?xt.canDeactivate(I,A,M,C):yt.runInContext(()=>xt(I,A,M,C))).pipe((0,ut.P)())});return(0,te.of)(pe).pipe(Q())}(N.component,N.route,M,A,C)),(0,ut.P)(N=>!0!==N,!0))}(pe,C,N,I).pipe((0,Qe.z)(st=>st&&function ua(I){return"boolean"==typeof I}(st)?function Nt(I,A,M,C){return(0,Ee.D)(A).pipe((0,pt.b)(N=>(0,re.z)(function yr(I,A){return null!==I&&A&&A(new Lt(I)),(0,te.of)(!0)}(N.route.parent,C),function En(I,A){return null!==I&&A&&A(new Ft(I)),(0,te.of)(!0)}(N.route,C),function co(I,A,M){const C=A[A.length-1],Z=A.slice(0,A.length-1).reverse().map(pe=>function Ri(I){const A=I.routeConfig?I.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:I,guards:A}:null}(pe)).filter(pe=>null!==pe).map(pe=>De(()=>{const st=pe.guards.map(Yt=>{var yt;const xt=null!==(yt=Fo(pe.node))&&void 0!==yt?yt:M,Rn=Bi(Yt,xt);return bt(function y(I){return I&&ms(I.canActivateChild)}(Rn)?Rn.canActivateChild(C,I):xt.runInContext(()=>Rn(C,I))).pipe((0,ut.P)())});return(0,te.of)(st).pipe(Q())}));return(0,te.of)(Z).pipe(Q())}(I,N.path,M),function qi(I,A,M){const C=A.routeConfig?A.routeConfig.canActivate:null;if(!C||0===C.length)return(0,te.of)(!0);const N=C.map(Z=>De(()=>{var pe;const st=null!==(pe=Fo(A))&&void 0!==pe?pe:M,Yt=Bi(Z,st);return bt(function j(I){return I&&ms(I.canActivate)}(Yt)?Yt.canActivate(A,I):st.runInContext(()=>Yt(A,I))).pipe((0,ut.P)())}));return(0,te.of)(N).pipe(Q())}(I,N.route,M))),(0,ut.P)(N=>!0!==N,!0))}(C,Z,I,A):(0,te.of)(st)),(0,Pe.U)(st=>({...M,guardsResult:st})))})}(this.environmentInjector,yt=>this.events.next(yt)),(0,Ae.b)(yt=>{if(pe.guardsResult=yt.guardsResult,je(yt.guardsResult))throw Ur(0,yt.guardsResult);const xt=new ve(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot,!!yt.guardsResult);this.events.next(xt)}),(0,lt.h)(yt=>!!yt.guardsResult||(this.cancelNavigationTransition(yt,"",3),!1)),$(yt=>{if(yt.guards.canActivateChecks.length)return(0,te.of)(yt).pipe((0,Ae.b)(xt=>{const Rn=new Ne(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(Rn)}),(0,ze.w)(xt=>{let Rn=!1;return(0,te.of)(xt).pipe(function fa(I,A){return(0,Qe.z)(M=>{const{targetSnapshot:C,guards:{canActivateChecks:N}}=M;if(!N.length)return(0,te.of)(M);let Z=0;return(0,Ee.D)(N).pipe((0,pt.b)(pe=>function ru(I,A,M,C){const N=I.routeConfig,Z=I._resolve;return void 0!==(null==N?void 0:N.title)&&!T(N)&&(Z[mt]=N.title),function ka(I,A,M,C){const N=function pa(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}(I);if(0===N.length)return(0,te.of)({});const Z={};return(0,Ee.D)(N).pipe((0,Qe.z)(pe=>function Us(I,A,M,C){var N;const Z=null!==(N=Fo(A))&&void 0!==N?N:C,pe=Bi(I,Z);return bt(pe.resolve?pe.resolve(A,M):Z.runInContext(()=>pe(A,M)))}(I[pe],A,M,C).pipe((0,ut.P)(),(0,Ae.b)(st=>{Z[pe]=st}))),Ue(1),function Re(I){return(0,Pe.U)(()=>I)}(Z),Te(pe=>k(pe)?xe.E:we(pe)))}(Z,I,A,C).pipe((0,Pe.U)(pe=>(I._resolvedData=pe,I.data=Oo(I,M).resolve,N&&T(N)&&(I.data[mt]=N.title),null)))}(pe.route,C,I,A)),(0,Ae.b)(()=>Z++),Ue(1),(0,Qe.z)(pe=>Z===N.length?(0,te.of)(M):xe.E))})}(C.paramsInheritanceStrategy,this.environmentInjector),(0,Ae.b)({next:()=>Rn=!0,complete:()=>{Rn||this.cancelNavigationTransition(xt,"",2)}}))}),(0,Ae.b)(xt=>{const Rn=new ht(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(Rn)}))}),$(yt=>{const xt=Rn=>{var Kr;const hr=[];null!==(Kr=Rn.routeConfig)&&void 0!==Kr&&Kr.loadComponent&&!Rn.routeConfig._loadedComponent&&hr.push(this.configLoader.loadComponent(Rn.routeConfig).pipe((0,Ae.b)(nn=>{Rn.component=nn}),(0,Pe.U)(()=>{})));for(const nn of Rn.children)hr.push(...xt(nn));return hr};return(0,$e.a)(xt(yt.targetSnapshot.root)).pipe((0,tt.d)(),(0,ke.q)(1))}),$(()=>this.afterPreactivation()),(0,Pe.U)(yt=>{const xt=function _i(I,A,M){const C=xn(I,A._root,M?M._root:void 0);return new ji(C,A)}(C.routeReuseStrategy,yt.targetSnapshot,yt.currentRouterState);return this.currentTransition=pe={...yt,targetRouterState:xt},pe}),(0,Ae.b)(()=>{this.events.next(new Mn)}),((I,A,M,C)=>(0,Pe.U)(N=>(new Si(A,N.targetRouterState,N.currentRouterState,M,C).activate(I),N)))(this.rootContexts,C.routeReuseStrategy,yt=>this.events.next(yt),this.inputBindingEnabled),(0,ke.q)(1),(0,Ae.b)({next:yt=>{var xt;st=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ei(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects))),null===(xt=C.titleStrategy)||void 0===xt||xt.updateTitle(yt.targetRouterState.snapshot),yt.resolve(!0)},complete:()=>{st=!0}}),function St(I){return(0,Fe.e)((A,M)=>{(0,ue.Xf)(I).subscribe((0,fe.x)(M,()=>M.complete(),nt.Z)),!M.closed&&A.subscribe(M)})}(this.transitionAbortSubject.pipe((0,Ae.b)(yt=>{throw yt}))),(0,qe.x)(()=>{var yt;st||Yt||this.cancelNavigationTransition(pe,"",1),(null===(yt=this.currentNavigation)||void 0===yt?void 0:yt.id)===pe.id&&(this.currentNavigation=null)}),Te(yt=>{if(Yt=!0,to(yt))this.events.next(new Ji(pe.id,this.urlSerializer.serialize(pe.extractedUrl),yt.message,yt.cancellationCode)),function rs(I){return to(I)&&je(I.url)}(yt)?this.events.next(new nr(yt.url)):pe.resolve(!1);else{var xt;this.events.next(new wi(pe.id,this.urlSerializer.serialize(pe.extractedUrl),yt,null!==(xt=pe.targetSnapshot)&&void 0!==xt?xt:void 0));try{pe.resolve(C.errorHandler(yt))}catch(Rn){pe.reject(Rn)}}return xe.E}))}))}cancelNavigationTransition(C,N,Z){const pe=new Ji(C.id,this.urlSerializer.serialize(C.extractedUrl),N,Z);this.events.next(pe),C.resolve(!1)}}return(I=A).\u0275fac=function(C){return new(C||I)},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),A})();function Wt(I){return I!==sr}let Zn=(()=>{var I;class A{buildTitle(C){let N,Z=C.root;for(;void 0!==Z;){var pe;N=null!==(pe=this.getResolvedTitleForRoute(Z))&&void 0!==pe?pe:N,Z=Z.children.find(st=>st.outlet===Je)}return N}getResolvedTitleForRoute(C){return C.data[mt]}}return(I=A).\u0275fac=function(C){return new(C||I)},I.\u0275prov=d.Yz7({token:I,factory:function(){return(0,d.f3M)(mr)},providedIn:"root"}),A})(),mr=(()=>{var I;class A extends Zn{constructor(C){super(),this.title=C}updateTitle(C){const N=this.buildTitle(C);void 0!==N&&this.title.setTitle(N)}}return(I=A).\u0275fac=function(C){return new(C||I)(d.LFG(zt.Dx))},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),A})(),ar=(()=>{var I;class A{}return(I=A).\u0275fac=function(C){return new(C||I)},I.\u0275prov=d.Yz7({token:I,factory:function(){return(0,d.f3M)(ai)},providedIn:"root"}),A})();class zn{shouldDetach(A){return!1}store(A,M){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,M){return A.routeConfig===M.routeConfig}}let ai=(()=>{var I;class A extends zn{}return(I=A).\u0275fac=function(){let M;return function(N){return(M||(M=d.n5z(I)))(N||I)}}(),I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),A})();const kr=new d.OlP("",{providedIn:"root",factory:()=>({})});let $i=(()=>{var I;class A{}return(I=A).\u0275fac=function(C){return new(C||I)},I.\u0275prov=d.Yz7({token:I,factory:function(){return(0,d.f3M)(hs)},providedIn:"root"}),A})(),hs=(()=>{var I;class A{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,N){return C}}return(I=A).\u0275fac=function(C){return new(C||I)},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),A})();var fo=function(I){return I[I.COMPLETE=0]="COMPLETE",I[I.FAILED=1]="FAILED",I[I.REDIRECTING=2]="REDIRECTING",I}(fo||{});function yi(I,A){I.events.pipe((0,lt.h)(M=>M instanceof Ei||M instanceof Ji||M instanceof wi||M instanceof $r),(0,Pe.U)(M=>M instanceof Ei||M instanceof $r?fo.COMPLETE:M instanceof Ji&&(0===M.code||1===M.code)?fo.REDIRECTING:fo.FAILED),(0,lt.h)(M=>M!==fo.REDIRECTING),(0,ke.q)(1)).subscribe(()=>{A()})}function Vo(I){throw I}function ro(I,A,M){return A.parse("/")}const Bo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},js={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kn=(()=>{var I;class A{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var C,N;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(C=null===(N=this.location.getState())||void 0===N?void 0:N.\u0275routerPageId)&&void 0!==C?C:this.currentPageId}get events(){return this._events}constructor(){var C,N;this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this._events=new ge.x,this.options=(0,d.f3M)(kr,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||Vo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ro,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)($i),this.routeReuseStrategy=(0,d.f3M)(ar),this.titleStrategy=(0,d.f3M)(Zn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(C=null===(N=(0,d.f3M)(Ie,{optional:!0}))||void 0===N?void 0:N.flat())&&void 0!==C?C:[],this.navigationTransitions=(0,d.f3M)(At),this.urlSerializer=(0,d.f3M)(_n),this.location=(0,d.f3M)(Le.Ye),this.componentInputBindingEnabled=!!(0,d.f3M)(Nr,{optional:!0}),this.eventsSubscription=new He.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _r,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ns(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(Z=>{this.lastSuccessfulId=Z.id,this.currentPageId=this.browserPageId},Z=>{this.console.warn(`Unhandled Navigation Error: ${Z}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const C=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:Z}=this.navigationTransitions;if(null===Z)return void(jr(N)&&this._events.next(N));if(N instanceof ci)Wt(Z.source)&&(this.browserUrlTree=Z.extractedUrl);else if(N instanceof $r)this.rawUrlTree=Z.rawUrl;else if(N instanceof J){if("eager"===this.urlUpdateStrategy){if(!Z.extras.skipLocationChange){const pe=this.urlHandlingStrategy.merge(Z.urlAfterRedirects,Z.rawUrl);this.setBrowserUrl(pe,Z)}this.browserUrlTree=Z.urlAfterRedirects}}else if(N instanceof Mn)this.currentUrlTree=Z.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Z.urlAfterRedirects,Z.rawUrl),this.routerState=Z.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Z.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Z),this.browserUrlTree=Z.urlAfterRedirects);else if(N instanceof Ji)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(Z);else if(N instanceof nr){const pe=this.urlHandlingStrategy.merge(N.url,Z.currentRawUrl),st={skipLocationChange:Z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Wt(Z.source)};this.scheduleNavigation(pe,sr,null,st,{resolve:Z.resolve,reject:Z.reject,promise:Z.promise})}N instanceof wi&&this.restoreHistory(Z,!0),N instanceof Ei&&(this.navigated=!0),jr(N)&&this._events.next(N)}catch(Z){this.navigationTransitions.transitionAbortSubject.next(Z)}});this.eventsSubscription.add(C)}resetRootComponentType(C){this.routerState.root.component=C,this.navigationTransitions.rootComponentType=C}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const C=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),sr,C)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(C=>{const N="popstate"===C.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(C.url,N,C.state)},0)}))}navigateToSyncWithBrowser(C,N,Z){const pe={replaceUrl:!0},st=null!=Z&&Z.navigationId?Z:null;if(Z){const yt={...Z};delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(pe.state=yt)}const Yt=this.parseUrl(C);this.scheduleNavigation(Yt,N,st,pe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(C){this.config=C.map(hi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(C,N={}){const{relativeTo:Z,queryParams:pe,fragment:st,queryParamsHandling:Yt,preserveFragment:yt}=N,xt=yt?this.currentUrlTree.fragment:st;let Kr,Rn=null;switch(Yt){case"merge":Rn={...this.currentUrlTree.queryParams,...pe};break;case"preserve":Rn=this.currentUrlTree.queryParams;break;default:Rn=pe||null}null!==Rn&&(Rn=this.removeEmptyProps(Rn));try{Kr=dt(Z?Z.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof C[0]||!C[0].startsWith("/"))&&(C=[]),Kr=this.currentUrlTree.root}return me(Kr,C,Rn,null!=xt?xt:null)}navigateByUrl(C,N={skipLocationChange:!1}){const Z=je(C)?C:this.parseUrl(C),pe=this.urlHandlingStrategy.merge(Z,this.rawUrlTree);return this.scheduleNavigation(pe,sr,null,N)}navigate(C,N={skipLocationChange:!1}){return function Ml(I){for(let A=0;A<I.length;A++)if(null==I[A])throw new d.vHH(4008,!1)}(C),this.navigateByUrl(this.createUrlTree(C,N),N)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){let N;try{N=this.urlSerializer.parse(C)}catch(Z){N=this.malformedUriErrorHandler(Z,this.urlSerializer,C)}return N}isActive(C,N){let Z;if(Z=!0===N?{...Bo}:!1===N?{...js}:N,je(C))return Sr(this.currentUrlTree,C,Z);const pe=this.parseUrl(C);return Sr(this.currentUrlTree,pe,Z)}removeEmptyProps(C){return Object.keys(C).reduce((N,Z)=>{const pe=C[Z];return null!=pe&&(N[Z]=pe),N},{})}scheduleNavigation(C,N,Z,pe,st){if(this.disposed)return Promise.resolve(!1);let Yt,yt,xt;st?(Yt=st.resolve,yt=st.reject,xt=st.promise):xt=new Promise((Kr,hr)=>{Yt=Kr,yt=hr});const Rn=this.pendingTasks.add();return yi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Rn))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:Z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:C,extras:pe,resolve:Yt,reject:yt,promise:xt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xt.catch(Kr=>Promise.reject(Kr))}setBrowserUrl(C,N){const Z=this.urlSerializer.serialize(C);if(this.location.isCurrentPathEqualTo(Z)||N.extras.replaceUrl){const st={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(Z,"",st)}else{const pe={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(Z,"",pe)}}restoreHistory(C,N=!1){if("computed"===this.canceledNavigationResolution){var Z;const st=this.currentPageId-this.browserPageId;0!==st?this.location.historyGo(st):this.currentUrlTree===(null===(Z=this.getCurrentNavigation())||void 0===Z?void 0:Z.finalUrl)&&0===st&&(this.resetState(C),this.browserUrlTree=C.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=C.currentRouterState,this.currentUrlTree=C.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(C,N){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:N}:{navigationId:C}}}return(I=A).\u0275fac=function(C){return new(C||I)},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),A})();function jr(I){return!(I instanceof Mn||I instanceof nr)}let io=(()=>{var I;class A{constructor(C,N,Z,pe,st,Yt){var yt;this.router=C,this.route=N,this.tabIndexAttribute=Z,this.renderer=pe,this.el=st,this.locationStrategy=Yt,this.href=null,this.commands=null,this.onChanges=new ge.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const xt=null===(yt=st.nativeElement.tagName)||void 0===yt?void 0:yt.toLowerCase();this.isAnchorElement="a"===xt||"area"===xt,this.isAnchorElement?this.subscription=C.events.subscribe(Rn=>{Rn instanceof Ei&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(C){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",C)}ngOnChanges(C){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(C){null!=C?(this.commands=Array.isArray(C)?C:[C],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(C,N,Z,pe,st){return!!(null===this.urlTree||this.isAnchorElement&&(0!==C||N||Z||pe||st||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var C;null===(C=this.subscription)||void 0===C||C.unsubscribe()}updateHref(){var C;this.href=null!==this.urlTree&&this.locationStrategy?null===(C=this.locationStrategy)||void 0===C?void 0:C.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const N=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",N)}applyAttributeValue(C,N){const Z=this.renderer,pe=this.el.nativeElement;null!==N?Z.setAttribute(pe,C,N):Z.removeAttribute(pe,C)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(I=A).\u0275fac=function(C){return new(C||I)(d.Y36(Kn),d.Y36(Li),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Le.S$))},I.\u0275dir=d.lG2({type:I,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(C,N){1&C&&d.NdJ("click",function(pe){return N.onClick(pe.button,pe.ctrlKey,pe.shiftKey,pe.altKey,pe.metaKey)}),2&C&&d.uIk("target",N.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]}),A})();class Hs{}let So=(()=>{var I;class A{preload(C,N){return N().pipe(Te(()=>(0,te.of)(null)))}}return(I=A).\u0275fac=function(C){return new(C||I)},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),A})(),cc=(()=>{var I;class A{constructor(C,N,Z,pe,st){this.router=C,this.injector=Z,this.preloadingStrategy=pe,this.loader=st}setUpPreloading(){this.subscription=this.router.events.pipe((0,lt.h)(C=>C instanceof Ei),(0,pt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,N){const Z=[];for(const yt of N){var pe,st;yt.providers&&!yt._injector&&(yt._injector=(0,d.MMx)(yt.providers,C,`Route: ${yt.path}`));const xt=null!==(pe=yt._injector)&&void 0!==pe?pe:C,Rn=null!==(st=yt._loadedInjector)&&void 0!==st?st:xt;var Yt;(yt.loadChildren&&!yt._loadedRoutes&&void 0===yt.canLoad||yt.loadComponent&&!yt._loadedComponent)&&Z.push(this.preloadConfig(xt,yt)),(yt.children||yt._loadedRoutes)&&Z.push(this.processRoutes(Rn,null!==(Yt=yt.children)&&void 0!==Yt?Yt:yt._loadedRoutes))}return(0,Ee.D)(Z).pipe((0,Ct.J)())}preloadConfig(C,N){return this.preloadingStrategy.preload(N,()=>{let Z;Z=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(C,N):(0,te.of)(null);const pe=Z.pipe((0,Qe.z)(st=>{var Yt;return null===st?(0,te.of)(void 0):(N._loadedRoutes=st.routes,N._loadedInjector=st.injector,this.processRoutes(null!==(Yt=st.injector)&&void 0!==Yt?Yt:C,st.routes))}));if(N.loadComponent&&!N._loadedComponent){const st=this.loader.loadComponent(N);return(0,Ee.D)([pe,st]).pipe((0,Ct.J)())}return pe})}}return(I=A).\u0275fac=function(C){return new(C||I)(d.LFG(Kn),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Hs),d.LFG(F))},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),A})();const xl=new d.OlP("");let po=(()=>{var I;class A{constructor(C,N,Z,pe,st={}){this.urlSerializer=C,this.transitions=N,this.viewportScroller=Z,this.zone=pe,this.options=st,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},st.scrollPositionRestoration=st.scrollPositionRestoration||"disabled",st.anchorScrolling=st.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof ci?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof Ei?(this.lastId=C.id,this.scheduleScrollEvent(C,this.urlSerializer.parse(C.urlAfterRedirects).fragment)):C instanceof $r&&0===C.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(C,this.urlSerializer.parse(C.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof In&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new In(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){var C,N;null===(C=this.routerEventsSubscription)||void 0===C||C.unsubscribe(),null===(N=this.scrollEventsSubscription)||void 0===N||N.unsubscribe()}}return(I=A).\u0275fac=function(C){d.$Z()},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac}),A})();function Xo(I,A){return{\u0275kind:I,\u0275providers:A}}function Gs(){const I=(0,d.f3M)(d.zs3);return A=>{var M,C;const N=I.get(d.z2F);if(A!==N.components[0])return;const Z=I.get(Kn),pe=I.get(qh);1===I.get(Ol)&&Z.initialNavigation(),null===(M=I.get(Ws,null,d.XFs.Optional))||void 0===M||M.setUpPreloading(),null===(C=I.get(xl,null,d.XFs.Optional))||void 0===C||C.init(),Z.resetRootComponentType(N.componentTypes[0]),pe.closed||(pe.next(),pe.complete(),pe.unsubscribe())}}const qh=new d.OlP("",{factory:()=>new ge.x}),Ol=new d.OlP("",{providedIn:"root",factory:()=>1}),Ws=new d.OlP("");function pl(I){return Xo(0,[{provide:Ws,useExisting:cc},{provide:Hs,useExisting:I}])}const Fn=new d.OlP("ROUTER_FORROOT_GUARD"),ga=[Le.Ye,{provide:_n,useClass:ir},Kn,di,{provide:Li,useFactory:function Ki(I){return I.routerState.root},deps:[Kn]},F,[]];function Ms(){return new d.PXZ("Router",Kn)}let Mi=(()=>{var I;class A{constructor(C){}static forRoot(C,N){return{ngModule:A,providers:[ga,[],{provide:Ie,multi:!0,useValue:C},{provide:Fn,useFactory:Zi,deps:[[Kn,new d.FiY,new d.tp0]]},{provide:kr,useValue:N||{}},null!=N&&N.useHash?{provide:Le.S$,useClass:Le.Do}:{provide:Le.S$,useClass:Le.b0},{provide:xl,useFactory:()=>{const I=(0,d.f3M)(Le.EM),A=(0,d.f3M)(d.R0b),M=(0,d.f3M)(kr),C=(0,d.f3M)(At),N=(0,d.f3M)(_n);return M.scrollOffset&&I.setOffset(M.scrollOffset),new po(N,C,I,A,M)}},null!=N&&N.preloadingStrategy?pl(N.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:Ms},null!=N&&N.initialNavigation?Ys(N):[],null!=N&&N.bindToComponentInputs?Xo(8,[Hi,{provide:Nr,useExisting:Hi}]).\u0275providers:[],[{provide:mn,useFactory:Gs},{provide:d.tb,multi:!0,useExisting:mn}]]}}static forChild(C){return{ngModule:A,providers:[{provide:Ie,multi:!0,useValue:C}]}}}return(I=A).\u0275fac=function(C){return new(C||I)(d.LFG(Fn,8))},I.\u0275mod=d.oAB({type:I}),I.\u0275inj=d.cJS({}),A})();function Zi(I){return"guarded"}function Ys(I){return["disabled"===I.initialNavigation?Xo(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const A=(0,d.f3M)(Kn);return()=>{A.setUpLocationChangeListener()}}},{provide:Ol,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?Xo(2,[{provide:Ol,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:A=>{const M=A.get(Le.V_,Promise.resolve());return()=>M.then(()=>new Promise(C=>{const N=A.get(Kn),Z=A.get(qh);yi(N,()=>{C(!0)}),A.get(At).afterPreactivation=()=>(C(!0),Z.closed?(0,te.of)(void 0):Z),N.initialNavigation()}))}}]).\u0275providers:[]]}const mn=new d.OlP("")},3106:(Ht,Ke,x)=>{"use strict";x.d(Ke,{Z:()=>xe});var d=x(9058),h=x(4537),Y=x(534),ae=x(7879);class Ee{constructor(Fe,fe){this._delegate=Fe,this.firebase=fe,(0,Y._addComponent)(Fe,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=Fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this._delegate.automaticDataCollectionEnabled=Fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Fe=>{this._delegate.checkDestroyed(),Fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(Fe,fe=Y._DEFAULT_ENTRY_NAME){var Xe;this._delegate.checkDestroyed();const it=this._delegate.container.getProvider(Fe);return!it.isInitialized()&&"EXPLICIT"===(null===(Xe=it.getComponent())||void 0===Xe?void 0:Xe.instantiationMode)&&it.initialize(),it.getImmediate({identifier:fe})}_removeServiceInstance(Fe,fe=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Fe).clearInstance(fe)}_addComponent(Fe){(0,Y._addComponent)(this._delegate,Fe)}_addOrOverwriteComponent(Fe){(0,Y._addOrOverwriteComponent)(this._delegate,Fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function Oe(){const He=function $e(He){const Fe={},fe={__esModule:!0,initializeApp:function ge(ke,_e={}){const lt=Y.initializeApp(ke,_e);if((0,d.r3)(Fe,lt.name))return Fe[lt.name];const Qe=new He(lt,fe);return Fe[lt.name]=Qe,Qe},app:it,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function Pe(ke){const _e=ke.name,lt=_e.replace("-compat","");if(Y._registerComponent(ke)&&"PUBLIC"===ke.type){const Qe=(ut=it())=>{if("function"!=typeof ut[lt])throw ne.create("invalid-app-argument",{appName:_e});return ut[lt]()};void 0!==ke.serviceProps&&(0,d.ZB)(Qe,ke.serviceProps),fe[lt]=Qe,He.prototype[lt]=function(...ut){return this._getService.bind(this,_e).apply(this,ke.multipleInstances?ut:[])}}return"PUBLIC"===ke.type?fe[lt]:null},removeApp:function Xe(ke){delete Fe[ke]},useAsService:function ze(ke,_e){return"serverAuth"===_e?null:_e},modularAPIs:Y}};function it(ke){if(!(0,d.r3)(Fe,ke=ke||Y._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:ke});return Fe[ke]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function Le(){return Object.keys(Fe).map(ke=>Fe[ke])}}),it.App=He,fe}(Ee);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:Oe,extendNamespace:function Fe(fe){(0,d.ZB)(He,fe)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),He}(),ue=new ae.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=re;!function we(He){(0,Y.registerVersion)("@firebase/app-compat","0.2.22",He)}()},534:(Ht,Ke,x)=>{"use strict";x.r(Ke),x.d(Ke,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>ti,_DEFAULT_ENTRY_NAME:()=>gn,_addComponent:()=>kn,_addOrOverwriteComponent:()=>_r,_apps:()=>cn,_clearComponents:()=>Nn,_components:()=>Wn,_getProvider:()=>Xn,_registerComponent:()=>en,_removeServiceInstance:()=>Fr,deleteApp:()=>Cr,getApp:()=>ni,getApps:()=>Jn,initializeApp:()=>cr,onLog:()=>Mr,registerVersion:()=>Qr,setLogLevel:()=>ii});var d=x(5861),h=x(4537),Y=x(7879),ae=x(9058);const Ee=(me,Se)=>Se.some(Ye=>me instanceof Ye);let te,ne;const re=new WeakMap,ue=new WeakMap,De=new WeakMap,Ce=new WeakMap,we=new WeakMap;let Fe={get(me,Se,Ye){if(me instanceof IDBTransaction){if("done"===Se)return ue.get(me);if("objectStoreNames"===Se)return me.objectStoreNames||De.get(me);if("store"===Se)return Ye.objectStoreNames[1]?void 0:Ye.objectStore(Ye.objectStoreNames[0])}return ge(me[Se])},set:(me,Se,Ye)=>(me[Se]=Ye,!0),has:(me,Se)=>me instanceof IDBTransaction&&("done"===Se||"store"===Se)||Se in me};function it(me){return"function"==typeof me?function Xe(me){return me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oe(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(me)?function(...Se){return me.apply(Le(this),Se),ge(re.get(this))}:function(...Se){return ge(me.apply(Le(this),Se))}:function(Se,...Ye){const Pt=me.call(Le(this),Se,...Ye);return De.set(Pt,Se.sort?Se.sort():[Se]),ge(Pt)}}(me):(me instanceof IDBTransaction&&function He(me){if(ue.has(me))return;const Se=new Promise((Ye,Pt)=>{const It=()=>{me.removeEventListener("complete",tn),me.removeEventListener("error",ln),me.removeEventListener("abort",ln)},tn=()=>{Ye(),It()},ln=()=>{Pt(me.error||new DOMException("AbortError","AbortError")),It()};me.addEventListener("complete",tn),me.addEventListener("error",ln),me.addEventListener("abort",ln)});ue.set(me,Se)}(me),Ee(me,function $e(){return te||(te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(me,Fe):me)}function ge(me){if(me instanceof IDBRequest)return function xe(me){const Se=new Promise((Ye,Pt)=>{const It=()=>{me.removeEventListener("success",tn),me.removeEventListener("error",ln)},tn=()=>{Ye(ge(me.result)),It()},ln=()=>{Pt(me.error),It()};me.addEventListener("success",tn),me.addEventListener("error",ln)});return Se.then(Ye=>{Ye instanceof IDBCursor&&re.set(Ye,me)}).catch(()=>{}),we.set(Se,me),Se}(me);if(Ce.has(me))return Ce.get(me);const Se=it(me);return Se!==me&&(Ce.set(me,Se),we.set(Se,me)),Se}const Le=me=>we.get(me),ke=["get","getKey","getAll","getAllKeys","count"],_e=["put","add","delete","clear"],lt=new Map;function Qe(me,Se){if(!(me instanceof IDBDatabase)||Se in me||"string"!=typeof Se)return;if(lt.get(Se))return lt.get(Se);const Ye=Se.replace(/FromIndex$/,""),Pt=Se!==Ye,It=_e.includes(Ye);if(!(Ye in(Pt?IDBIndex:IDBObjectStore).prototype)||!It&&!ke.includes(Ye))return;const tn=function(){var ln=(0,d.Z)(function*(qn,...er){const Gn=this.transaction(qn,It?"readwrite":"readonly");let or=Gn.store;return Pt&&(or=or.index(er.shift())),(yield Promise.all([or[Ye](...er),It&&Gn.done]))[0]});return function(er){return ln.apply(this,arguments)}}();return lt.set(Se,tn),tn}!function fe(me){Fe=me(Fe)}(me=>({...me,get:(Se,Ye,Pt)=>Qe(Se,Ye)||me.get(Se,Ye,Pt),has:(Se,Ye)=>!!Qe(Se,Ye)||me.has(Se,Ye)}));class ut{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(Ye=>{if(function pt(me){const Se=me.getComponent();return"VERSION"===(null==Se?void 0:Se.type)}(Ye)){const Pt=Ye.getImmediate();return`${Pt.library}/${Pt.version}`}return null}).filter(Ye=>Ye).join(" ")}}const Ae="@firebase/app",at=new Y.Yd("@firebase/app"),gn="[DEFAULT]",wn={[Ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},cn=new Map,Wn=new Map;function kn(me,Se){try{me.container.addComponent(Se)}catch(Ye){at.debug(`Component ${Se.name} failed to register with FirebaseApp ${me.name}`,Ye)}}function _r(me,Se){me.container.addOrOverwriteComponent(Se)}function en(me){const Se=me.name;if(Wn.has(Se))return at.debug(`There were multiple attempts to register component ${Se}.`),!1;Wn.set(Se,me);for(const Ye of cn.values())kn(Ye,me);return!0}function Xn(me,Se){const Ye=me.container.getProvider("heartbeat").getImmediate({optional:!0});return Ye&&Ye.triggerHeartbeat(),me.container.getProvider(Se)}function Fr(me,Se,Ye=gn){Xn(me,Se).clearInstance(Ye)}function Nn(){Wn.clear()}const _n=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ir{constructor(Se,Ye,Pt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},Ye),this._name=Ye.name,this._automaticDataCollectionEnabled=Ye.automaticDataCollectionEnabled,this._container=Pt,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}const ti="10.5.2";function cr(me,Se={}){let Ye=me;"object"!=typeof Se&&(Se={name:Se});const Pt=Object.assign({name:gn,automaticDataCollectionEnabled:!1},Se),It=Pt.name;if("string"!=typeof It||!It)throw _n.create("bad-app-name",{appName:String(It)});if(Ye||(Ye=(0,ae.aH)()),!Ye)throw _n.create("no-options");const tn=cn.get(It);if(tn){if((0,ae.vZ)(Ye,tn.options)&&(0,ae.vZ)(Pt,tn.config))return tn;throw _n.create("duplicate-app",{appName:It})}const ln=new h.H0(It);for(const er of Wn.values())ln.addComponent(er);const qn=new ir(Ye,Pt,ln);return cn.set(It,qn),qn}function ni(me=gn){const Se=cn.get(me);if(!Se&&me===gn&&(0,ae.aH)())return cr();if(!Se)throw _n.create("no-app",{appName:me});return Se}function Jn(){return Array.from(cn.values())}function Cr(me){return ri.apply(this,arguments)}function ri(){return(ri=(0,d.Z)(function*(me){const Se=me.name;cn.has(Se)&&(cn.delete(Se),yield Promise.all(me.container.getProviders().map(Ye=>Ye.delete())),me.isDeleted=!0)})).apply(this,arguments)}function Qr(me,Se,Ye){var Pt;let It=null!==(Pt=wn[me])&&void 0!==Pt?Pt:me;Ye&&(It+=`-${Ye}`);const tn=It.match(/\s|\//),ln=Se.match(/\s|\//);if(tn||ln){const qn=[`Unable to register library "${It}" with version "${Se}":`];return tn&&qn.push(`library name "${It}" contains illegal characters (whitespace or "/")`),tn&&ln&&qn.push("and"),ln&&qn.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void at.warn(qn.join(" "))}en(new h.wA(`${It}-version`,()=>({library:It,version:Se}),"VERSION"))}function Mr(me,Se){if(null!==me&&"function"!=typeof me)throw _n.create("invalid-log-argument");(0,Y.Am)(me,Se)}function ii(me){(0,Y.Ub)(me)}const xr="firebase-heartbeat-database",vr=1,Ve="firebase-heartbeat-store";let K=null;function L(){return K||(K=function Pe(me,Se,{blocked:Ye,upgrade:Pt,blocking:It,terminated:tn}={}){const ln=indexedDB.open(me,Se),qn=ge(ln);return Pt&&ln.addEventListener("upgradeneeded",er=>{Pt(ge(ln.result),er.oldVersion,er.newVersion,ge(ln.transaction),er)}),Ye&&ln.addEventListener("blocked",er=>Ye(er.oldVersion,er.newVersion,er)),qn.then(er=>{tn&&er.addEventListener("close",()=>tn()),It&&er.addEventListener("versionchange",Gn=>It(Gn.oldVersion,Gn.newVersion,Gn))}).catch(()=>{}),qn}(xr,vr,{upgrade:(me,Se)=>{0===Se&&me.createObjectStore(Ve)}}).catch(me=>{throw _n.create("idb-open",{originalErrorMessage:me.message})})),K}function O(){return(O=(0,d.Z)(function*(me){try{return yield(yield L()).transaction(Ve).objectStore(Ve).get(ct(me))}catch(Se){if(Se instanceof ae.ZR)at.warn(Se.message);else{const Ye=_n.create("idb-get",{originalErrorMessage:null==Se?void 0:Se.message});at.warn(Ye.message)}}})).apply(this,arguments)}function se(me,Se){return We.apply(this,arguments)}function We(){return(We=(0,d.Z)(function*(me,Se){try{const Pt=(yield L()).transaction(Ve,"readwrite");yield Pt.objectStore(Ve).put(Se,ct(me)),yield Pt.done}catch(Ye){if(Ye instanceof ae.ZR)at.warn(Ye.message);else{const Pt=_n.create("idb-set",{originalErrorMessage:null==Ye?void 0:Ye.message});at.warn(Pt.message)}}})).apply(this,arguments)}function ct(me){return`${me.name}!${me.options.appId}`}class yn{constructor(Se){this.container=Se,this._heartbeatsCache=null;const Ye=this.container.getProvider("app").getImmediate();this._storage=new je(Ye),this._heartbeatsCachePromise=this._storage.read().then(Pt=>(this._heartbeatsCache=Pt,Pt))}triggerHeartbeat(){var Se=this;return(0,d.Z)(function*(){const Pt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),It=fn();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==It&&!Se._heartbeatsCache.heartbeats.some(tn=>tn.date===It))return Se._heartbeatsCache.heartbeats.push({date:It,agent:Pt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(tn=>{const ln=new Date(tn.date).valueOf();return Date.now()-ln<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,d.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const Ye=fn(),{heartbeatsToSend:Pt,unsentEntries:It}=function Ln(me,Se=1024){const Ye=[];let Pt=me.slice();for(const It of me){const tn=Ye.find(ln=>ln.agent===It.agent);if(tn){if(tn.dates.push(It.date),Me(Ye)>Se){tn.dates.pop();break}}else if(Ye.push({agent:It.agent,dates:[It.date]}),Me(Ye)>Se){Ye.pop();break}Pt=Pt.slice(1)}return{heartbeatsToSend:Ye,unsentEntries:Pt}}(Se._heartbeatsCache.heartbeats),tn=(0,ae.L)(JSON.stringify({version:2,heartbeats:Pt}));return Se._heartbeatsCache.lastSentHeartbeatDate=Ye,It.length>0?(Se._heartbeatsCache.heartbeats=It,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),tn})()}}function fn(){return(new Date).toISOString().substring(0,10)}class je{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,d.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function z(me){return O.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var Ye=this;return(0,d.Z)(function*(){var Pt;if(yield Ye._canUseIndexedDBPromise){const tn=yield Ye.read();return se(Ye.app,{lastSentHeartbeatDate:null!==(Pt=Se.lastSentHeartbeatDate)&&void 0!==Pt?Pt:tn.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var Ye=this;return(0,d.Z)(function*(){var Pt;if(yield Ye._canUseIndexedDBPromise){const tn=yield Ye.read();return se(Ye.app,{lastSentHeartbeatDate:null!==(Pt=Se.lastSentHeartbeatDate)&&void 0!==Pt?Pt:tn.lastSentHeartbeatDate,heartbeats:[...tn.heartbeats,...Se.heartbeats]})}})()}}function Me(me){return(0,ae.L)(JSON.stringify({version:2,heartbeats:me})).length}!function dt(me){en(new h.wA("platform-logger",Se=>new ut(Se),"PRIVATE")),en(new h.wA("heartbeat",Se=>new yn(Se),"PRIVATE")),Qr(Ae,"0.9.22",me),Qr(Ae,"0.9.22","esm2017"),Qr("fire-js","")}("")},4537:(Ht,Ke,x)=>{"use strict";x.d(Ke,{H0:()=>$e,wA:()=>Y});var d=x(5861),h=x(9058);class Y{constructor(re,ue,De){this.name=re,this.instanceFactory=ue,this.type=De,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const ae="[DEFAULT]";class Ee{constructor(re,ue){this.name=re,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ue=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ue)){const De=new h.BH;if(this.instancesDeferred.set(ue,De),this.isInitialized(ue)||this.shouldAutoInitialize())try{const Ce=this.getOrInitializeService({instanceIdentifier:ue});Ce&&De.resolve(Ce)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(re){var ue;const De=this.normalizeInstanceIdentifier(null==re?void 0:re.identifier),Ce=null!==(ue=null==re?void 0:re.optional)&&void 0!==ue&&ue;if(!this.isInitialized(De)&&!this.shouldAutoInitialize()){if(Ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:De})}catch(we){if(Ce)return null;throw we}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function ne(Oe){return"EAGER"===Oe.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[ue,De]of this.instancesDeferred.entries()){const Ce=this.normalizeInstanceIdentifier(ue);try{const we=this.getOrInitializeService({instanceIdentifier:Ce});De.resolve(we)}catch{}}}}clearInstance(re=ae){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,d.Z)(function*(){const ue=Array.from(re.instances.values());yield Promise.all([...ue.filter(De=>"INTERNAL"in De).map(De=>De.INTERNAL.delete()),...ue.filter(De=>"_delete"in De).map(De=>De._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=ae){return this.instances.has(re)}getOptions(re=ae){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ue={}}=re,De=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(De))throw Error(`${this.name}(${De}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ce=this.getOrInitializeService({instanceIdentifier:De,options:ue});for(const[we,xe]of this.instancesDeferred.entries())De===this.normalizeInstanceIdentifier(we)&&xe.resolve(Ce);return Ce}onInit(re,ue){var De;const Ce=this.normalizeInstanceIdentifier(ue),we=null!==(De=this.onInitCallbacks.get(Ce))&&void 0!==De?De:new Set;we.add(re),this.onInitCallbacks.set(Ce,we);const xe=this.instances.get(Ce);return xe&&re(xe,Ce),()=>{we.delete(re)}}invokeOnInitCallbacks(re,ue){const De=this.onInitCallbacks.get(ue);if(De)for(const Ce of De)try{Ce(re,ue)}catch{}}getOrInitializeService({instanceIdentifier:re,options:ue={}}){let De=this.instances.get(re);if(!De&&this.component&&(De=this.component.instanceFactory(this.container,{instanceIdentifier:(Oe=re,Oe===ae?void 0:Oe),options:ue}),this.instances.set(re,De),this.instancesOptions.set(re,ue),this.invokeOnInitCallbacks(De,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,De)}catch{}var Oe;return De||null}normalizeInstanceIdentifier(re=ae){return this.component?this.component.multipleInstances?re:ae:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class $e{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ue=this.getProvider(re.name);if(ue.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ue.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ue=new Ee(re,this);return this.providers.set(re,ue),ue}getProviders(){return Array.from(this.providers.values())}}},7879:(Ht,Ke,x)=>{"use strict";x.d(Ke,{Am:()=>Oe,Ub:()=>$e,Yd:()=>ne,in:()=>h});const d=[];var h=function(re){return re[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",re}(h||{});const Y={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},ae=h.INFO,Ee={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},te=(re,ue,...De)=>{if(ue<re.logLevel)return;const Ce=(new Date).toISOString(),we=Ee[ue];if(!we)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[we](`[${Ce}]  ${re.name}:`,...De)};class ne{constructor(ue){this.name=ue,this._logLevel=ae,this._logHandler=te,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in h))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?Y[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...ue),this._logHandler(this,h.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...ue),this._logHandler(this,h.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,h.INFO,...ue),this._logHandler(this,h.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,h.WARN,...ue),this._logHandler(this,h.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...ue),this._logHandler(this,h.ERROR,...ue)}}function $e(re){d.forEach(ue=>{ue.setLogLevel(re)})}function Oe(re,ue){for(const De of d){let Ce=null;ue&&ue.level&&(Ce=Y[ue.level]),De.userLogHandler=null===re?null:(we,xe,...He)=>{const Fe=He.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch{return null}}).filter(fe=>fe).join(" ");xe>=(null!=Ce?Ce:we.logLevel)&&re({level:h[xe].toLowerCase(),message:Fe,args:He,type:we.name})}}}},9843:(Ht,Ke,x)=>{"use strict";x.d(Ke,{Br:()=>vi,We:()=>On,eh:()=>Tn,dr:()=>gn,oU:()=>cn,cs:()=>to,YG:()=>Xn,Sm:()=>Fr,PM:()=>Nn,FN:()=>Dr,Zi:()=>_n,Dq:()=>ti,wI:()=>Jn,W2:()=>Cr,jY:()=>Ve,Gu:()=>K,gu:()=>L,pK:()=>We,Ie:()=>ct,Q$:()=>je,q_:()=>Me,X7:()=>er,jP:()=>bo,Nd:()=>gr,yq:()=>q,ZU:()=>ve,UN:()=>rs,yW:()=>Ne,wd:()=>Dt,sr:()=>Ft,Pc:()=>ms,r4:()=>Rr,HT:()=>is,YI:()=>lo,j9:()=>qt,yF:()=>si});var d=x(5861),h=x(5879),Y=x(95),ae=x(7582),Ee=x(2438),te=x(8645),ne=x(5619),$e=x(2572),Oe=x(2096),re=x(2692),xe=(x(1774),x(2650),x(1904),x(9203),x(2085)),He=x(839),Fe=x(3365),fe=x(1651),it=(x(5662),x(1647)),Pe=(x(6225),x(619),x(1688)),ke=x(2181),_e=x(4664),lt=x(3997),Qe=x(6814);const pt=xe.i,Te=["*"],at=["outlet"],tt=["tabsInner"],Ue=[[["","slot","top"]],"*"],ee=["[slot=top]","*"],Re=v=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(v):"function"==typeof requestAnimationFrame?requestAnimationFrame(v):setTimeout(v);let qe=(()=>{class v{constructor(y,V){this.injector=y,this.el=V,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(y){this.el.nativeElement.value=this.lastValue=y,nt(this.el)}handleValueChange(y,V){y===this.el.nativeElement&&(V!==this.lastValue&&(this.lastValue=V,this.onChange(V)),nt(this.el))}_handleBlurEvent(y){y===this.el.nativeElement&&(this.onTouched(),nt(this.el))}registerOnChange(y){this.onChange=y}registerOnTouched(y){this.onTouched=y}setDisabledState(y){this.el.nativeElement.disabled=y}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let y;try{y=this.injector.get(Y.a5)}catch{}if(!y)return;y.statusChanges&&(this.statusChanges=y.statusChanges.subscribe(()=>nt(this.el)));const V=y.control;V&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(wt=>{if(typeof V[wt]<"u"){const hn=V[wt].bind(V);V[wt]=(...k)=>{hn(...k),nt(this.el)}}})}}return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.zs3),h.Y36(h.SBq))},v.\u0275dir=h.lG2({type:v,hostBindings:function(y,V){1&y&&h.NdJ("ionBlur",function(wt){return V._handleBlurEvent(wt.target)})}}),v})();const nt=v=>{Re(()=>{const j=v.nativeElement,y=null!=j.value&&j.value.toString().length>0,V=St(j);Ct(j,V);const ie=j.closest("ion-item");ie&&Ct(ie,y?[...V,"item-has-value"]:V)})},St=v=>{const j=v.classList,y=[];for(let V=0;V<j.length;V++){const ie=j.item(V);null!==ie&&zt(ie,"ng-")&&y.push(`ion-${ie.substring(3)}`)}return y},Ct=(v,j)=>{const y=v.classList;y.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),y.add(...j)},zt=(v,j)=>v.substring(0,j.length)===j;let qt=(()=>{class v extends qe{constructor(y,V){super(y,V)}_handleInputEvent(y){this.handleValueChange(y,y.value)}}return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.zs3),h.Y36(h.SBq))},v.\u0275dir=h.lG2({type:v,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(y,V){1&y&&h.NdJ("ionInput",function(wt){return V._handleInputEvent(wt.target)})},features:[h._Bn([{provide:Y.JU,useExisting:v,multi:!0}]),h.qOj]}),v})();const an=(v,j)=>{const y=v.prototype;j.forEach(V=>{Object.defineProperty(y,V,{get(){return this.el[V]},set(ie){this.z.runOutsideAngular(()=>this.el[V]=ie)}})})},vt=(v,j)=>{const y=v.prototype;j.forEach(V=>{y[V]=function(){const ie=arguments;return this.z.runOutsideAngular(()=>this.el[V].apply(this.el,ie))}})},Zt=(v,j,y)=>{y.forEach(V=>v[V]=(0,Ee.R)(j,V))};function bt(v){return function(y){const{defineCustomElementFn:V,inputs:ie,methods:wt}=v;return void 0!==V&&V(),ie&&an(y,ie),wt&&vt(y,wt),y}}let On=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],v),v})(),Tn=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement,Zt(this,this.el,["ionChange"])}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],v),v})(),gn=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-app"]],ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({})],v),v})(),cn=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],v),v})(),Xn=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement,Zt(this,this.el,["ionFocus","ionBlur"])}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],v),v})(),Fr=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["collapse"]})],v),v})(),Nn=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],v),v})(),Dr=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["mode"]})],v),v})(),_n=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["color","mode","translucent"]})],v),v})(),ti=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["color","mode"]})],v),v})(),Jn=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],v),v})(),Cr=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement,Zt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],v),v})(),Ve=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["fixed"]})],v),v})(),K=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["collapse","mode","translucent"]})],v),v})(),L=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],v),v})(),We=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement,Zt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],v),v})(),ct=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],v),v})(),je=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["color","mode","position"]})],v),v})(),Me=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],v),v})(),er=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-progress-bar"]],inputs:{buffer:"buffer",color:"color",mode:"mode",reversed:"reversed",type:"type",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["buffer","color","mode","reversed","type","value"]})],v),v})(),gr=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-row"]],ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({})],v),v})(),q=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["color","mode","selectedTab","translucent"]})],v),v})(),ve=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],v),v})(),Ne=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["color","mode"]})],v),v})(),Dt=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["color","size"]})],v),v})(),Ft=(()=>{let v=class{constructor(y,V,ie){this.z=ie,y.detach(),this.el=V.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(y,V){1&y&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,ae.gn)([bt({inputs:["color","mode"]})],v),v})(),pn=(()=>{class v{get(y,V){const ie=Mn();return ie?ie.get(y,V):null}getBoolean(y,V){const ie=Mn();return!!ie&&ie.getBoolean(y,V)}getNumber(y,V){const ie=Mn();return ie?ie.getNumber(y,V):0}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const In=new h.OlP("USERCONFIG"),Mn=()=>{if(typeof window<"u"){const v=window.Ionic;if(null!=v&&v.config)return v.config}return null};let nr=(()=>{class v{constructor(y,V){this.doc=y,this.backButton=new te.x,this.keyboardDidShow=new te.x,this.keyboardDidHide=new te.x,this.pause=new te.x,this.resume=new te.x,this.resize=new te.x,V.run(()=>{var ie;let wt;this.win=y.defaultView,this.backButton.subscribeWithPriority=function(hn,k){return this.subscribe(R=>R.register(hn,Q=>V.run(()=>k(Q))))},Hr(this.pause,y,"pause"),Hr(this.resume,y,"resume"),Hr(this.backButton,y,"ionBackButton"),Hr(this.resize,this.win,"resize"),Hr(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Hr(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(hn=>{wt=hn}),null!==(ie=this.win)&&void 0!==ie&&ie.cordova?y.addEventListener("deviceready",()=>{wt("cordova")},{once:!0}):wt("dom")})}is(y){return(0,xe.a)(this.win,y)}platforms(){return(0,xe.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(y){return bi(this.win.location.href,y)}isLandscape(){return!this.isPortrait()}isPortrait(){var y,V;return null===(y=(V=this.win).matchMedia)||void 0===y?void 0:y.call(V,"(orientation: portrait)").matches}testUserAgent(y){const V=this.win.navigator;return!!(null!=V&&V.userAgent&&V.userAgent.indexOf(y)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return v.\u0275fac=function(y){return new(y||v)(h.LFG(Qe.K0),h.LFG(h.R0b))},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const bi=(v,j)=>{j=j.replace(/[[\]\\]/g,"\\$&");const V=new RegExp("[\\?&]"+j+"=([^&#]*)").exec(v);return V?decodeURIComponent(V[1].replace(/\+/g," ")):null},Hr=(v,j,y)=>{j&&j.addEventListener(y,V=>{v.next(null!=V?V.detail:void 0)})};let di=(()=>{class v{constructor(y,V,ie,wt){this.location=V,this.serializer=ie,this.router=wt,this.direction=Vn,this.animated=qr,this.guessDirection="forward",this.lastNavId=-1,wt&&wt.events.subscribe(hn=>{if(hn instanceof re.OD){const k=hn.restoredState?hn.restoredState.navigationId:hn.id;this.guessDirection=k<this.lastNavId?"back":"forward",this.guessAnimation=hn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?hn.id:k}}),y.backButton.subscribeWithPriority(0,hn=>{this.pop(),hn()})}navigateForward(y,V={}){return this.setDirection("forward",V.animated,V.animationDirection,V.animation),this.navigate(y,V)}navigateBack(y,V={}){return this.setDirection("back",V.animated,V.animationDirection,V.animation),this.navigate(y,V)}navigateRoot(y,V={}){return this.setDirection("root",V.animated,V.animationDirection,V.animation),this.navigate(y,V)}back(y={animated:!0,animationDirection:"back"}){return this.setDirection("back",y.animated,y.animationDirection,y.animation),this.location.back()}pop(){var y=this;return(0,d.Z)(function*(){let V=y.topOutlet;for(;V;){if(yield V.pop())return!0;V=V.parentOutlet}return!1})()}setDirection(y,V,ie,wt){this.direction=y,this.animated=Ai(y,V,ie),this.animationBuilder=wt}setTopOutlet(y){this.topOutlet=y}consumeTransition(){let V,y="root";const ie=this.animationBuilder;return"auto"===this.direction?(y=this.guessDirection,V=this.guessAnimation):(V=this.animated,y=this.direction),this.direction=Vn,this.animated=qr,this.animationBuilder=void 0,{direction:y,animation:V,animationBuilder:ie}}navigate(y,V){if(Array.isArray(y))return this.router.navigate(y,V);{const ie=this.serializer.parse(y.toString());return void 0!==V.queryParams&&(ie.queryParams={...V.queryParams}),void 0!==V.fragment&&(ie.fragment=V.fragment),this.router.navigateByUrl(ie,V)}}}return v.\u0275fac=function(y){return new(y||v)(h.LFG(nr),h.LFG(Qe.Ye),h.LFG(re.Hx),h.LFG(re.F0,8))},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Ai=(v,j,y)=>{if(!1!==j){if(void 0!==y)return y;if("forward"===v||"back"===v)return v;if("root"===v&&!0===j)return"forward"}},Vn="auto",qr=void 0;class wr{constructor(j={}){this.data=j}get(j){return this.data[j]}}let Jr=(()=>{class v{constructor(){this.zone=(0,h.f3M)(h.R0b),this.applicationRef=(0,h.f3M)(h.z2F)}create(y,V,ie){return new ji(y,V,this.applicationRef,this.zone,ie)}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})();class ji{constructor(j,y,V,ie,wt){this.environmentInjector=j,this.injector=y,this.applicationRef=V,this.zone=ie,this.elementReferenceKey=wt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(j,y,V,ie){return this.zone.run(()=>new Promise(wt=>{const hn={...V};void 0!==this.elementReferenceKey&&(hn[this.elementReferenceKey]=j),wt(ns(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,j,y,hn,ie,this.elementReferenceKey))}))}removeViewFromDom(j,y){return this.zone.run(()=>new Promise(V=>{const ie=this.elRefMap.get(y);if(ie){ie.destroy(),this.elRefMap.delete(y);const wt=this.elEventsMap.get(y);wt&&(wt(),this.elEventsMap.delete(y))}V()}))}}const ns=(v,j,y,V,ie,wt,hn,k,R,Q,U)=>{const he=h.zs3.create({providers:gs(R),parent:y}),Nt=(0,h.LMc)(k,{environmentInjector:j,elementInjector:he}),En=Nt.instance,yr=Nt.location.nativeElement;if(R&&(U&&void 0!==En[U]&&console.error(`[Ionic Error]: ${U} is a reserved property when using ${hn.tagName.toLowerCase()}. Rename or remove the "${U}" property from ${k.name}.`),Object.assign(En,R)),Q)for(const co of Q)yr.classList.add(co);const qi=Li(v,En,yr);return hn.appendChild(yr),V.attachView(Nt.hostView),ie.set(yr,Nt),wt.set(yr,qi),yr},xo=[fe.L,fe.a,fe.b,fe.c,fe.d],Li=(v,j,y)=>v.run(()=>{const V=xo.filter(ie=>"function"==typeof j[ie]).map(ie=>{const wt=hn=>j[ie](hn.detail);return y.addEventListener(ie,wt),()=>y.removeEventListener(ie,wt)});return()=>V.forEach(ie=>ie())}),Oo=new h.OlP("NavParamsToken"),gs=v=>[{provide:Oo,useValue:v},{provide:wr,useFactory:br,deps:[Oo]}],br=v=>new wr(v),vn=(v,j)=>((v=v.filter(y=>y.stackId!==j.stackId)).push(j),v),Oi=(v,j)=>{const y=v.createUrlTree(["."],{relativeTo:j});return v.serializeUrl(y)},Yr=(v,j)=>!j||v.stackId!==j.stackId,Ni=(v,j)=>{if(!v)return;const y=Nr(j);for(let V=0;V<y.length;V++){if(V>=v.length)return y[V];if(y[V]!==v[V])return}},Nr=v=>v.split("/").map(j=>j.trim()).filter(j=>""!==j),Hi=v=>{v&&(v.ref.destroy(),v.unlistenEvents())};class _i{constructor(j,y,V,ie,wt,hn){this.containerEl=y,this.router=V,this.navCtrl=ie,this.zone=wt,this.location=hn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==j?Nr(j):void 0}createView(j,y){var V;const ie=Oi(this.router,y),wt=null==j||null===(V=j.location)||void 0===V?void 0:V.nativeElement,hn=Li(this.zone,j.instance,wt);return{id:this.nextId++,stackId:Ni(this.tabsPrefix,ie),unlistenEvents:hn,element:wt,ref:j,url:ie}}getExistingView(j){const y=Oi(this.router,j),V=this.views.find(ie=>ie.url===y);return V&&V.ref.changeDetectorRef.reattach(),V}setActive(j){var y,V;const ie=this.navCtrl.consumeTransition();let{direction:wt,animation:hn,animationBuilder:k}=ie;const R=this.activeView,Q=Yr(j,R);Q&&(wt="back",hn=void 0);const U=this.views.slice();let he;const Nt=this.router;Nt.getCurrentNavigation?he=Nt.getCurrentNavigation():null!==(y=Nt.navigations)&&void 0!==y&&y.value&&(he=Nt.navigations.value),null!==(V=he)&&void 0!==V&&null!==(V=V.extras)&&void 0!==V&&V.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const En=this.views.includes(j),yr=this.insertView(j,wt);En||j.ref.changeDetectorRef.detectChanges();const qi=j.animationBuilder;return void 0===k&&"back"===wt&&!Q&&void 0!==qi&&(k=qi),R&&(R.animationBuilder=k),this.zone.runOutsideAngular(()=>this.wait(()=>(R&&R.ref.changeDetectorRef.detach(),j.ref.changeDetectorRef.reattach(),this.transition(j,R,hn,this.canGoBack(1),!1,k).then(()=>xn(j,yr,U,this.location,this.zone)).then(()=>({enteringView:j,direction:wt,animation:hn,tabSwitch:Q})))))}canGoBack(j,y=this.getActiveStackId()){return this.getStack(y).length>j}pop(j,y=this.getActiveStackId()){return this.zone.run(()=>{const V=this.getStack(y);if(V.length<=j)return Promise.resolve(!1);const ie=V[V.length-j-1];let wt=ie.url;const hn=ie.savedData;if(hn){var k;const Q=hn.get("primary");null!=Q&&null!==(k=Q.route)&&void 0!==k&&null!==(k=k._routerState)&&void 0!==k&&k.snapshot.url&&(wt=Q.route._routerState.snapshot.url)}const{animationBuilder:R}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(wt,{...ie.savedExtras,animation:R}).then(()=>!0)})}startBackTransition(){const j=this.activeView;if(j){const y=this.getStack(j.stackId),V=y[y.length-2],ie=V.animationBuilder;return this.wait(()=>this.transition(V,j,"back",this.canGoBack(2),!0,ie))}return Promise.resolve()}endBackTransition(j){j?(this.skipTransition=!0,this.pop(1)):this.activeView&&Eo(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(j){const y=this.getStack(j);return y.length>0?y[y.length-1]:void 0}getRootUrl(j){const y=this.getStack(j);return y.length>0?y[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Hi),this.activeView=void 0,this.views=[]}getStack(j){return this.views.filter(y=>y.stackId===j)}insertView(j,y){return this.activeView=j,this.views=((v,j,y)=>"root"===y?vn(v,j):"forward"===y?((v,j)=>(v.indexOf(j)>=0?v=v.filter(V=>V.stackId!==j.stackId||V.id<=j.id):v.push(j),v))(v,j):((v,j)=>v.indexOf(j)>=0?v.filter(V=>V.stackId!==j.stackId||V.id<=j.id):vn(v,j))(v,j))(this.views,j,y),this.views.slice()}transition(j,y,V,ie,wt,hn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(y===j)return Promise.resolve(!1);const k=j?j.element:void 0,R=y?y.element:void 0,Q=this.containerEl;return k&&k!==R&&(k.classList.add("ion-page"),k.classList.add("ion-page-invisible"),k.parentElement!==Q&&Q.appendChild(k),Q.commit)?Q.commit(k,R,{duration:void 0===V?0:void 0,direction:V,showGoBack:ie,progressAnimation:wt,animationBuilder:hn}):Promise.resolve(!1)}wait(j){var y=this;return(0,d.Z)(function*(){void 0!==y.runningTask&&(yield y.runningTask,y.runningTask=void 0);const V=y.runningTask=j();return V.finally(()=>y.runningTask=void 0),V})()}}const xn=(v,j,y,V,ie)=>"function"==typeof requestAnimationFrame?new Promise(wt=>{requestAnimationFrame(()=>{Eo(v,j,y,V,ie),wt()})}):Promise.resolve(),Eo=(v,j,y,V,ie)=>{ie.run(()=>y.filter(wt=>!j.includes(wt)).forEach(Hi)),j.forEach(wt=>{const k=V.path().split("?")[0].split("#")[0];if(wt!==v&&wt.url!==k){const R=wt.element;R.setAttribute("aria-hidden","true"),R.classList.add("ion-page-hidden"),wt.ref.changeDetectorRef.detach()}})};let bo=(()=>{class v{constructor(y,V,ie,wt,hn,k,R,Q){this.parentOutlet=Q,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ne.X(null),this.activated=null,this._activatedRoute=null,this.name=re.eC,this.stackWillChange=new h.vpe,this.stackDidChange=new h.vpe,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.parentContexts=(0,h.f3M)(re.y6),this.location=(0,h.f3M)(h.s_b),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(Ur,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,h.f3M)(pn),this.navCtrl=(0,h.f3M)(di),this.nativeEl=wt.nativeElement,this.name=y||re.eC,this.tabsPrefix="true"===V?Oi(hn,R):void 0,this.stackCtrl=new _i(this.tabsPrefix,this.nativeEl,hn,this.navCtrl,k,ie),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(y){this.nativeEl.animation=y}set animated(y){this.nativeEl.animated=y}set swipeGesture(y){this._swipeGesture=y,this.nativeEl.swipeHandler=y?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:V=>this.stackCtrl.endBackTransition(V)}:void 0}ngOnDestroy(){var y;this.stackCtrl.destroy(),null===(y=this.inputBinder)||void 0===y||y.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const y=this.getContext();null!=y&&y.route&&this.activateWith(y.route,y.injector)}new Promise(y=>(0,He.c)(this.nativeEl,y)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(y,V){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const V=this.getContext();this.activatedView.savedData=new Map(V.children.contexts);const ie=this.activatedView.savedData.get("primary");if(ie&&V.route&&(ie.route={...V.route}),this.activatedView.savedExtras={},V.route){const wt=V.route.snapshot;this.activatedView.savedExtras.queryParams=wt.queryParams,this.activatedView.savedExtras.fragment=wt.fragment}}const y=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,V){var ie;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=y;let wt,hn=this.stackCtrl.getExistingView(y);if(hn){wt=this.activated=hn.ref;const Q=hn.savedData;Q&&(this.getContext().children.contexts=Q),this.updateActivatedRouteProxy(wt.instance,y)}else{var k;const Q=y._futureSnapshot,U=this.parentContexts.getOrCreateContext(this.name).children,he=new ne.X(null),Nt=this.createActivatedRouteProxy(he,y),En=new eo(Nt,U,this.location.injector),yr=null!==(k=Q.routeConfig.component)&&void 0!==k?k:Q.component;wt=this.activated=this.location.createComponent(yr,{index:this.location.length,injector:En,environmentInjector:null!=V?V:this.environmentInjector}),he.next(wt.instance),hn=this.stackCtrl.createView(this.activated,y),this.proxyMap.set(wt.instance,Nt),this.currentActivatedRoute$.next({component:wt.instance,activatedRoute:y})}null===(ie=this.inputBinder)||void 0===ie||ie.bindActivatedRouteToOutletComponent(this),this.activatedView=hn,this.navCtrl.setTopOutlet(this);const R=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:hn,tabSwitch:Yr(hn,R)}),this.stackCtrl.setActive(hn).then(Q=>{this.activateEvents.emit(wt.instance),this.stackDidChange.emit(Q)})}canGoBack(y=1,V){return this.stackCtrl.canGoBack(y,V)}pop(y=1,V){return this.stackCtrl.pop(y,V)}getLastUrl(y){const V=this.stackCtrl.getLastUrl(y);return V?V.url:void 0}getLastRouteView(y){return this.stackCtrl.getLastUrl(y)}getRootView(y){return this.stackCtrl.getRootUrl(y)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(y,V){const ie=new re.gz;return ie._futureSnapshot=V._futureSnapshot,ie._routerState=V._routerState,ie.snapshot=V.snapshot,ie.outlet=V.outlet,ie.component=V.component,ie._paramMap=this.proxyObservable(y,"paramMap"),ie._queryParamMap=this.proxyObservable(y,"queryParamMap"),ie.url=this.proxyObservable(y,"url"),ie.params=this.proxyObservable(y,"params"),ie.queryParams=this.proxyObservable(y,"queryParams"),ie.fragment=this.proxyObservable(y,"fragment"),ie.data=this.proxyObservable(y,"data"),ie}proxyObservable(y,V){return y.pipe((0,ke.h)(ie=>!!ie),(0,_e.w)(ie=>this.currentActivatedRoute$.pipe((0,ke.h)(wt=>null!==wt&&wt.component===ie),(0,_e.w)(wt=>wt&&wt.activatedRoute[V]),(0,lt.x)())))}updateActivatedRouteProxy(y,V){const ie=this.proxyMap.get(y);if(!ie)throw new Error("Could not find activated route proxy for view");ie._futureSnapshot=V._futureSnapshot,ie._routerState=V._routerState,ie.snapshot=V.snapshot,ie.outlet=V.outlet,ie.component=V.component,this.currentActivatedRoute$.next({component:y,activatedRoute:V})}}return v.\u0275fac=function(y){return new(y||v)(h.$8M("name"),h.$8M("tabs"),h.Y36(Qe.Ye),h.Y36(h.SBq),h.Y36(re.F0),h.Y36(h.R0b),h.Y36(re.gz),h.Y36(v,12))},v.\u0275dir=h.lG2({type:v,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),v})();class eo{constructor(j,y,V){this.route=j,this.childContexts=y,this.parent=V}get(j,y){return j===re.gz?this.route:j===re.y6?this.childContexts:this.parent.get(j,y)}}const Ur=new h.OlP("");let Ao=(()=>{class v{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){var V;null===(V=this.outletDataSubscriptions.get(y))||void 0===V||V.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:V}=y,ie=(0,$e.a)([V.queryParams,V.params,V.data]).pipe((0,_e.w)(([wt,hn,k],R)=>(k={...wt,...hn,...k},0===R?(0,Oe.of)(k):Promise.resolve(k)))).subscribe(wt=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==V||null===V.component)return void this.unsubscribeFromRouteData(y);const hn=(0,h.qFp)(V.component);if(hn)for(const{templateName:k}of hn.inputs)y.activatedComponentRef.setInput(k,wt[k]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,ie)}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})(),rs=(()=>{class v{constructor(y){this.navCtrl=y,this.ionTabsWillChange=new h.vpe,this.ionTabsDidChange=new h.vpe,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:y,tabSwitch:V}){const ie=y.stackId;V&&void 0!==ie&&this.ionTabsWillChange.emit({tab:ie})}onStackDidChange({enteringView:y,tabSwitch:V}){const ie=y.stackId;V&&void 0!==ie&&(this.tabBar&&(this.tabBar.selectedTab=ie),this.ionTabsDidChange.emit({tab:ie}))}select(y){const V="string"==typeof y,ie=V?y:y.detail.tab,wt=this.outlet.getActiveStackId()===ie,hn=`${this.outlet.tabsPrefix}/${ie}`;if(V||y.stopPropagation(),wt){const k=this.outlet.getActiveStackId(),R=this.outlet.getLastRouteView(k);if((null==R?void 0:R.url)===hn)return;const Q=this.outlet.getRootView(ie);return this.navCtrl.navigateRoot(hn,{...Q&&hn===Q.url&&Q.savedExtras,animated:!0,animationDirection:"back"})}{const k=this.outlet.getLastRouteView(ie);return this.navCtrl.navigateRoot((null==k?void 0:k.url)||hn,{...null==k?void 0:k.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(y=>{const V=y.el.getAttribute("slot");V!==this.tabBarSlot&&(this.tabBarSlot=V,this.relocateTabBar())})}relocateTabBar(){const y=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(y):this.tabsInner.nativeElement.after(y)}}return v.\u0275fac=function(y){return new(y||v)(h.Y36(di))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ion-tabs"]],contentQueries:function(y,V,ie){if(1&y&&(h.Suo(ie,q,5),h.Suo(ie,q,4)),2&y){let wt;h.iGM(wt=h.CRH())&&(V.tabBar=wt.first),h.iGM(wt=h.CRH())&&(V.tabBars=wt)}},viewQuery:function(y,V){if(1&y&&(h.Gf(at,5,bo),h.Gf(tt,7,h.SBq)),2&y){let ie;h.iGM(ie=h.CRH())&&(V.outlet=ie.first),h.iGM(ie=h.CRH())&&(V.tabsInner=ie.first)}},hostBindings:function(y,V){1&y&&h.NdJ("ionTabButtonClick",function(wt){return V.select(wt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:ee,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(y,V){1&y&&(h.F$t(Ue),h.Hsn(0),h.TgZ(1,"div",0,1)(3,"ion-router-outlet",2,3),h.NdJ("stackWillChange",function(wt){return V.onStackWillChange(wt)})("stackDidChange",function(wt){return V.onStackDidChange(wt)}),h.qZA()(),h.Hsn(5,1))},dependencies:[bo],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),v})(),to=(()=>{class v{constructor(y,V,ie){this.routerOutlet=y,this.navCtrl=V,this.config=ie}onClick(y){var V;const ie=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(V=this.routerOutlet)&&void 0!==V&&V.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),y.preventDefault()):null!=ie&&(this.navCtrl.navigateBack(ie,{animation:this.routerAnimation}),y.preventDefault())}}return v.\u0275fac=function(y){return new(y||v)(h.Y36(bo,8),h.Y36(di),h.Y36(pn))},v.\u0275dir=h.lG2({type:v,selectors:[["ion-back-button"]],hostBindings:function(y,V){1&y&&h.NdJ("click",function(wt){return V.onClick(wt)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),v})(),lo=(()=>{class v{constructor(y,V,ie,wt,hn){this.locationStrategy=y,this.navCtrl=V,this.elementRef=ie,this.router=wt,this.routerLink=hn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var y;if(null!==(y=this.routerLink)&&void 0!==y&&y.urlTree){const V=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=V}}onClick(y){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),y.preventDefault()}}return v.\u0275fac=function(y){return new(y||v)(h.Y36(Qe.S$),h.Y36(di),h.Y36(h.SBq),h.Y36(re.F0),h.Y36(re.rH,8))},v.\u0275dir=h.lG2({type:v,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(y,V){1&y&&h.NdJ("click",function(wt){return V.onClick(wt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[h.TTD]}),v})();const ls={provide:Y.Cf,useExisting:(0,h.Gpc)(()=>Hn),multi:!0};let Hn=(()=>{class v extends Y.Fd{}return v.\u0275fac=function(){let j;return function(V){return(j||(j=h.n5z(v)))(V||v)}}(),v.\u0275dir=h.lG2({type:v,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(y,V){2&y&&h.uIk("max",V._enabled?V.max:null)},features:[h._Bn([ls]),h.qOj]}),v})();const ko={provide:Y.Cf,useExisting:(0,h.Gpc)(()=>Gi),multi:!0};let Gi=(()=>{class v extends Y.qQ{}return v.\u0275fac=function(){let j;return function(V){return(j||(j=h.n5z(v)))(V||v)}}(),v.\u0275dir=h.lG2({type:v,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(y,V){2&y&&h.uIk("min",V._enabled?V.min:null)},features:[h._Bn([ko]),h.qOj]}),v})();class Wi{constructor(j){this.ctrl=j}create(j){return this.ctrl.create(j||{})}dismiss(j,y,V){return this.ctrl.dismiss(j,y,V)}getTop(){return this.ctrl.getTop()}}let vi=(()=>{class v extends Wi{constructor(){super(it.a)}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),is=(()=>{class v extends Wi{constructor(){super(it.l)}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),xa=(()=>{class v extends Wi{constructor(){super(it.m),this.angularDelegate=(0,h.f3M)(Jr),this.injector=(0,h.f3M)(h.zs3),this.environmentInjector=(0,h.f3M)(h.lqb)}create(y){return super.create({...y,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})(),Si=(()=>{class v extends Wi{constructor(){super(it.c),this.angularDelegate=(0,h.f3M)(Jr),this.injector=(0,h.f3M)(h.zs3),this.environmentInjector=(0,h.f3M)(h.lqb)}create(y){return super.create({...y,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})(),si=(()=>{class v extends Wi{constructor(){super(it.t)}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class Rr{shouldDetach(j){return!1}shouldAttach(j){return!1}store(j,y){}retrieve(j){return null}shouldReuseRoute(j,y){if(j.routeConfig!==y.routeConfig)return!1;const V=j.params,ie=y.params,wt=Object.keys(V),hn=Object.keys(ie);if(wt.length!==hn.length)return!1;for(const k of wt)if(ie[k]!==V[k])return!1;return!0}}const us=(v,j,y)=>()=>{if(j.defaultView&&typeof window<"u"){(0,Fe.s)({...v,_zoneGate:wt=>y.run(wt)});const ie="__zone_symbol__addEventListener"in j.body?"__zone_symbol__addEventListener":"addEventListener";return function ut(){var v=[];if(typeof window<"u"){var j=window;(!j.customElements||j.Element&&(!j.Element.prototype.closest||!j.Element.prototype.matches||!j.Element.prototype.remove||!j.Element.prototype.getRootNode))&&v.push(x.e(6748).then(x.t.bind(x,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||j.NodeList&&!j.NodeList.prototype.forEach||!j.fetch||!function(){try{var V=new URL("b","http://a");return V.pathname="c%20d","http://a/c%20d"===V.href&&V.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&v.push(x.e(2214).then(x.t.bind(x,2668,23)))}return Promise.all(v)}().then(()=>((v,j)=>{if(!(typeof window>"u"))return pt(),(0,Pe.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),j)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Re,jmp:wt=>y.runOutsideAngular(wt),ael(wt,hn,k,R){wt[ie](hn,k,R)},rel(wt,hn,k,R){wt.removeEventListener(hn,k,R)}}))}};let ms=(()=>{class v{static forRoot(y){return{ngModule:v,providers:[{provide:In,useValue:y},{provide:h.ip1,useFactory:us,multi:!0,deps:[In,Qe.K0,h.R0b]},{provide:Ur,useFactory:ua,deps:[re.F0]}]}}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275mod=h.oAB({type:v}),v.\u0275inj=h.cJS({providers:[Jr,xa,Si],imports:[Qe.ez]}),v})();function ua(v){return null!=v&&v.componentInputBindingEnabled?new Ao:null}},3182:(Ht,Ke,x)=>{"use strict";x.d(Ke,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=x(534);(0,d.registerVersion)("firebase","10.5.2","app")},7142:(Ht,Ke,x)=>{"use strict";x.d(Ke,{Z:()=>d.Z});var d=x(3106);d.Z.registerVersion("firebase","10.5.2","app-compat")},6365:(Ht,Ke,x)=>{"use strict";x.r(Ke);var d=x(5861),h=x(3106),Y=x(3560),ae=x(9058),ne=(x(534),x(7879),x(4537));function $e(){return window}function ue(){return ue=(0,d.Z)(function*(L,z,O){var se;const{BuildInfo:We}=$e();(0,Y.at)(z.sessionId,"AuthEvent did not contain a session ID");const ct=yield function fe(L){return Xe.apply(this,arguments)}(z.sessionId),jt={};return(0,Y.au)()?jt.ibi=We.packageName:(0,Y.av)()?jt.apn=We.packageName:(0,Y.aw)(L,"operation-not-supported-in-this-environment"),We.displayName&&(jt.appDisplayName=We.displayName),jt.sessionId=ct,(0,Y.ax)(L,O,z.type,void 0,null!==(se=z.eventId)&&void 0!==se?se:void 0,jt)}),ue.apply(this,arguments)}function Ce(){return(Ce=(0,d.Z)(function*(L){const{BuildInfo:z}=$e(),O={};(0,Y.au)()?O.iosBundleId=z.packageName:(0,Y.av)()?O.androidPackageName=z.packageName:(0,Y.aw)(L,"operation-not-supported-in-this-environment"),yield(0,Y.ay)(L,O)})).apply(this,arguments)}function He(){return(He=(0,d.Z)(function*(L,z,O){const{cordova:se}=$e();let We=()=>{};try{yield new Promise((ct,jt)=>{let kt=null;function yn(){var je;ct();const Me=null===(je=se.plugins.browsertab)||void 0===je?void 0:je.close;"function"==typeof Me&&Me(),"function"==typeof(null==O?void 0:O.close)&&O.close()}function fn(){kt||(kt=window.setTimeout(()=>{jt((0,Y.aA)(L,"redirect-cancelled-by-user"))},2e3))}function Ln(){"visible"===(null==document?void 0:document.visibilityState)&&fn()}z.addPassiveListener(yn),document.addEventListener("resume",fn,!1),(0,Y.av)()&&document.addEventListener("visibilitychange",Ln,!1),We=()=>{z.removePassiveListener(yn),document.removeEventListener("resume",fn,!1),document.removeEventListener("visibilitychange",Ln,!1),kt&&window.clearTimeout(kt)}})}finally{We()}})).apply(this,arguments)}function Xe(){return(Xe=(0,d.Z)(function*(L){const z=function it(L){if((0,Y.at)(/[0-9a-zA-Z]+/.test(L),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(L);const z=new ArrayBuffer(L.length),O=new Uint8Array(z);for(let se=0;se<L.length;se++)O[se]=L.charCodeAt(se);return O}(L),O=yield crypto.subtle.digest("SHA-256",z);return Array.from(new Uint8Array(O)).map(We=>We.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Le extends Y.aC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(z=>{this.resolveInialized=z})}addPassiveListener(z){this.passiveListeners.add(z)}removePassiveListener(z){this.passiveListeners.delete(z)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(z){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(z)),super.onEvent(z)}initialized(){var z=this;return(0,d.Z)(function*(){yield z.initPromise})()}}function ke(L){return _e.apply(this,arguments)}function _e(){return(_e=(0,d.Z)(function*(L){const z=yield ut()._get(pt(L));return z&&(yield ut()._remove(pt(L))),z})).apply(this,arguments)}function Qe(){const L=[];for(let O=0;O<20;O++){const se=Math.floor(62*Math.random());L.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(se))}return L.join("")}function ut(){return(0,Y.aD)(Y.b)}function pt(L){return(0,Y.aE)("authEvent",L.config.apiKey,L.name)}function at(L){if(null==L||!L.includes("?"))return{};const[z,...O]=L.split("?");return(0,ae.zd)(O.join("?"))}const ee=class Ue{constructor(){this._redirectPersistence=Y.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Y.aF,this._overrideRedirectResult=Y.aG}_initialize(z){var O=this;return(0,d.Z)(function*(){const se=z._key();let We=O.eventManagers.get(se);return We||(We=new Le(z),O.eventManagers.set(se,We),O.attachCallbackListeners(z,We)),We})()}_openPopup(z){(0,Y.aw)(z,"operation-not-supported-in-this-environment")}_openRedirect(z,O,se,We){var ct=this;return(0,d.Z)(function*(){!function Fe(L){var z,O,se,We,ct,jt,kt,yn,fn,Ln;const je=$e();(0,Y.aB)("function"==typeof(null===(z=null==je?void 0:je.universalLinks)||void 0===z?void 0:z.subscribe),L,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,Y.aB)(typeof(null===(O=null==je?void 0:je.BuildInfo)||void 0===O?void 0:O.packageName)<"u",L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,Y.aB)("function"==typeof(null===(ct=null===(We=null===(se=null==je?void 0:je.cordova)||void 0===se?void 0:se.plugins)||void 0===We?void 0:We.browsertab)||void 0===ct?void 0:ct.openUrl),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Y.aB)("function"==typeof(null===(yn=null===(kt=null===(jt=null==je?void 0:je.cordova)||void 0===jt?void 0:jt.plugins)||void 0===kt?void 0:kt.browsertab)||void 0===yn?void 0:yn.isAvailable),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Y.aB)("function"==typeof(null===(Ln=null===(fn=null==je?void 0:je.cordova)||void 0===fn?void 0:fn.InAppBrowser)||void 0===Ln?void 0:Ln.open),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(z);const jt=yield ct._initialize(z);yield jt.initialized(),jt.resetRedirect(),(0,Y.aH)(),yield ct._originValidation(z);const kt=function Pe(L,z,O=null){return{type:z,eventId:O,urlResponse:null,sessionId:Qe(),postBody:null,tenantId:L.tenantId,error:(0,Y.aA)(L,"no-auth-event")}}(z,se,We);yield function ze(L,z){return ut()._set(pt(L),z)}(z,kt);const yn=yield function re(L,z,O){return ue.apply(this,arguments)}(z,kt,O),fn=yield function we(L){const{cordova:z}=$e();return new Promise(O=>{z.plugins.browsertab.isAvailable(se=>{let We=null;se?z.plugins.browsertab.openUrl(L):We=z.InAppBrowser.open(L,(0,Y.az)()?"_blank":"_system","location=yes"),O(We)})})}(yn);return function xe(L,z,O){return He.apply(this,arguments)}(z,jt,fn)})()}_isIframeWebStorageSupported(z,O){throw new Error("Method not implemented.")}_originValidation(z){const O=z._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function De(L){return Ce.apply(this,arguments)}(z)),this.originValidationPromises[O]}attachCallbackListeners(z,O){const{universalLinks:se,handleOpenURL:We,BuildInfo:ct}=$e(),jt=setTimeout((0,d.Z)(function*(){yield ke(z),O.onEvent(oe())}),500),kt=function(){var Ln=(0,d.Z)(function*(je){clearTimeout(jt);const Me=yield ke(z);let dt=null;Me&&null!=je&&je.url&&(dt=function lt(L,z){var O,se;const We=function Te(L){const z=at(L),O=z.link?decodeURIComponent(z.link):void 0,se=at(O).link,We=z.deep_link_id?decodeURIComponent(z.deep_link_id):void 0;return at(We).link||We||se||O||L}(z);if(We.includes("/__/auth/callback")){const ct=at(We),jt=ct.firebaseError?function Ae(L){try{return JSON.parse(L)}catch{return null}}(decodeURIComponent(ct.firebaseError)):null,kt=null===(se=null===(O=null==jt?void 0:jt.code)||void 0===O?void 0:O.split("auth/"))||void 0===se?void 0:se[1],yn=kt?(0,Y.aA)(kt):null;return yn?{type:L.type,eventId:L.eventId,tenantId:L.tenantId,error:yn,urlResponse:null,sessionId:null,postBody:null}:{type:L.type,eventId:L.eventId,tenantId:L.tenantId,sessionId:L.sessionId,urlResponse:We,postBody:null}}return null}(Me,je.url)),O.onEvent(dt||oe())});return function(Me){return Ln.apply(this,arguments)}}();typeof se<"u"&&"function"==typeof se.subscribe&&se.subscribe(null,kt);const yn=We,fn=`${ct.packageName.toLowerCase()}://`;$e().handleOpenURL=function(){var Ln=(0,d.Z)(function*(je){if(je.toLowerCase().startsWith(fn)&&kt({url:je}),"function"==typeof yn)try{yn(je)}catch(Me){console.error(Me)}});return function(je){return Ln.apply(this,arguments)}}()}};function oe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,Y.aA)("no-auth-event")}}function St(){var L;return(null===(L=null==self?void 0:self.location)||void 0===L?void 0:L.protocol)||null}function zt(L=(0,ae.z$)()){return!("file:"!==St()&&"ionic:"!==St()&&"capacitor:"!==St()||!L.toLowerCase().match(/iphone|ipad|ipod|android/))}function qt(){try{const L=self.localStorage,z=Y.aM();if(L)return L.setItem(z,"1"),L.removeItem(z),!function Ot(L=(0,ae.z$)()){return function mt(){return(0,ae.w1)()&&11===(null==document?void 0:document.documentMode)}()||function _t(L=(0,ae.z$)()){return/Edge\/\d+/.test(L)}(L)}()||(0,ae.hl)()}catch{return an()&&(0,ae.hl)()}return!1}function an(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function vt(){return(function Ct(){return"http:"===St()||"https:"===St()}()||(0,ae.ru)()||zt())&&!function Je(){return(0,ae.b$)()||(0,ae.UG)()}()&&qt()&&!an()}function Zt(){return zt()&&typeof document<"u"}function bt(){return(bt=(0,d.Z)(function*(){return!!Zt()&&new Promise(L=>{const z=setTimeout(()=>{L(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(z),L(!0)})})})).apply(this,arguments)}const Tn={LOCAL:"local",NONE:"none",SESSION:"session"},Sr=Y.aB,Qn="persistence";function wn(L){return cn.apply(this,arguments)}function cn(){return(cn=(0,d.Z)(function*(L){yield L._initializationPromise;const z=kn(),O=Y.aE(Qn,L.config.apiKey,L.name);z&&z.setItem(O,L._getPersistence())})).apply(this,arguments)}function kn(){var L;try{return(null===(L=function On(){return typeof window<"u"?window:null}())||void 0===L?void 0:L.sessionStorage)||null}catch{return null}}const _r=Y.aB;class en{constructor(){this.browserResolver=Y.aD(Y.k),this.cordovaResolver=Y.aD(ee),this.underlyingResolver=null,this._redirectPersistence=Y.a,this._completeRedirectFn=Y.aF,this._overrideRedirectResult=Y.aG}_initialize(z){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(z)})()}_openPopup(z,O,se,We){var ct=this;return(0,d.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openPopup(z,O,se,We)})()}_openRedirect(z,O,se,We){var ct=this;return(0,d.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openRedirect(z,O,se,We)})()}_isIframeWebStorageSupported(z,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(z,O)}_originValidation(z){return this.assertedUnderlyingResolver._originValidation(z)}get _shouldInitProactively(){return Zt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _r(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var z=this;return(0,d.Z)(function*(){if(z.underlyingResolver)return;const O=yield function Xt(){return bt.apply(this,arguments)}();z.underlyingResolver=O?z.cordovaResolver:z.browserResolver})()}}function Xn(L){return L.unwrap()}function Nn(L){return _n(L)}function _n(L){const{_tokenResponse:z}=L instanceof ae.ZR?L.customData:L;if(!z)return null;if(!(L instanceof ae.ZR)&&"temporaryProof"in z&&"phoneNumber"in z)return Y.P.credentialFromResult(L);const O=z.providerId;if(!O||O===Y.p.PASSWORD)return null;let se;switch(O){case Y.p.GOOGLE:se=Y.W;break;case Y.p.FACEBOOK:se=Y.V;break;case Y.p.GITHUB:se=Y.X;break;case Y.p.TWITTER:se=Y._;break;default:const{oauthIdToken:We,oauthAccessToken:ct,oauthTokenSecret:jt,pendingToken:kt,nonce:yn}=z;return ct||jt||We||kt?kt?O.startsWith("saml.")?Y.aP._create(O,kt):Y.M._fromParams({providerId:O,signInMethod:O,pendingToken:kt,idToken:We,accessToken:ct}):new Y.Y(O).credential({idToken:We,accessToken:ct,rawNonce:yn}):null}return L instanceof ae.ZR?se.credentialFromError(L):se.credentialFromResult(L)}function ir(L,z){return z.catch(O=>{throw O instanceof ae.ZR&&function Dr(L,z){var O;const se=null===(O=z.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===(null==z?void 0:z.code))z.resolver=new ni(L,Y.ar(L,z));else if(se){const We=_n(z),ct=z;We&&(ct.credential=We,ct.tenantId=se.tenantId||void 0,ct.email=se.email||void 0,ct.phoneNumber=se.phoneNumber||void 0)}}(L,O),O}).then(O=>{const We=O.user;return{operationType:O.operationType,credential:Nn(O),additionalUserInfo:Y.ap(O),user:Jn.getOrCreate(We)}})}function ti(L,z){return cr.apply(this,arguments)}function cr(){return(cr=(0,d.Z)(function*(L,z){const O=yield z;return{verificationId:O.verificationId,confirm:se=>ir(L,O.confirm(se))}})).apply(this,arguments)}class ni{constructor(z,O){this.resolver=O,this.auth=function Fr(L){return L.wrapped()}(z)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(z){return ir(Xn(this.auth),this.resolver.resolveSignIn(z))}}class Jn{constructor(z){this._delegate=z,this.multiFactor=Y.as(z)}static getOrCreate(z){return Jn.USER_MAP.has(z)||Jn.USER_MAP.set(z,new Jn(z)),Jn.USER_MAP.get(z)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(z){return this._delegate.getIdTokenResult(z)}getIdToken(z){return this._delegate.getIdToken(z)}linkAndRetrieveDataWithCredential(z){return this.linkWithCredential(z)}linkWithCredential(z){var O=this;return(0,d.Z)(function*(){return ir(O.auth,Y.a1(O._delegate,z))})()}linkWithPhoneNumber(z,O){var se=this;return(0,d.Z)(function*(){return ti(se.auth,Y.l(se._delegate,z,O))})()}linkWithPopup(z){var O=this;return(0,d.Z)(function*(){return ir(O.auth,Y.d(O._delegate,z,en))})()}linkWithRedirect(z){var O=this;return(0,d.Z)(function*(){return yield wn(Y.aI(O.auth)),Y.g(O._delegate,z,en)})()}reauthenticateAndRetrieveDataWithCredential(z){return this.reauthenticateWithCredential(z)}reauthenticateWithCredential(z){var O=this;return(0,d.Z)(function*(){return ir(O.auth,Y.a2(O._delegate,z))})()}reauthenticateWithPhoneNumber(z,O){return ti(this.auth,Y.r(this._delegate,z,O))}reauthenticateWithPopup(z){return ir(this.auth,Y.e(this._delegate,z,en))}reauthenticateWithRedirect(z){var O=this;return(0,d.Z)(function*(){return yield wn(Y.aI(O.auth)),Y.h(O._delegate,z,en)})()}sendEmailVerification(z){return Y.af(this._delegate,z)}unlink(z){var O=this;return(0,d.Z)(function*(){return yield Y.ao(O._delegate,z),O})()}updateEmail(z){return Y.ak(this._delegate,z)}updatePassword(z){return Y.al(this._delegate,z)}updatePhoneNumber(z){return Y.u(this._delegate,z)}updateProfile(z){return Y.aj(this._delegate,z)}verifyBeforeUpdateEmail(z,O){return Y.ag(this._delegate,z,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Jn.USER_MAP=new WeakMap;const Cr=Y.aB;let ri=(()=>{class L{constructor(O,se){if(this.app=O,se.isInitialized())return this._delegate=se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:We}=O.options;Cr(We,"invalid-api-key",{appName:O.name}),Cr(We,"invalid-api-key",{appName:O.name});const ct=typeof window<"u"?en:void 0;this._delegate=se.initialize({options:{persistence:Mr(We,O.name),popupRedirectResolver:ct}}),this._delegate._updateErrorMap(Y.E),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,se){Y.J(this._delegate,O,se)}applyActionCode(O){return Y.a6(this._delegate,O)}checkActionCode(O){return Y.a7(this._delegate,O)}confirmPasswordReset(O,se){return Y.a5(this._delegate,O,se)}createUserWithEmailAndPassword(O,se){var We=this;return(0,d.Z)(function*(){return ir(We._delegate,Y.a9(We._delegate,O,se))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return Y.ae(this._delegate,O)}isSignInWithEmailLink(O){return Y.ac(this._delegate,O)}getRedirectResult(){var O=this;return(0,d.Z)(function*(){Cr(vt(),O._delegate,"operation-not-supported-in-this-environment");const se=yield Y.j(O._delegate,en);return se?ir(O._delegate,Promise.resolve(se)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function be(L,z){(0,Y.aI)(L)._logFramework(z)}(this._delegate,O)}onAuthStateChanged(O,se,We){const{next:ct,error:jt,complete:kt}=Qr(O,se,We);return this._delegate.onAuthStateChanged(ct,jt,kt)}onIdTokenChanged(O,se,We){const{next:ct,error:jt,complete:kt}=Qr(O,se,We);return this._delegate.onIdTokenChanged(ct,jt,kt)}sendSignInLinkToEmail(O,se){return Y.ab(this._delegate,O,se)}sendPasswordResetEmail(O,se){return Y.a4(this._delegate,O,se||void 0)}setPersistence(O){var se=this;return(0,d.Z)(function*(){let We;switch(function gn(L,z){Sr(Object.values(Tn).includes(z),L,"invalid-persistence-type"),(0,ae.b$)()?Sr(z!==Tn.SESSION,L,"unsupported-persistence-type"):(0,ae.UG)()?Sr(z===Tn.NONE,L,"unsupported-persistence-type"):an()?Sr(z===Tn.NONE||z===Tn.LOCAL&&(0,ae.hl)(),L,"unsupported-persistence-type"):Sr(z===Tn.NONE||qt(),L,"unsupported-persistence-type")}(se._delegate,O),O){case Tn.SESSION:We=Y.a;break;case Tn.LOCAL:We=(yield Y.aD(Y.i)._isAvailable())?Y.i:Y.b;break;case Tn.NONE:We=Y.Q;break;default:return Y.aw("argument-error",{appName:se._delegate.name})}return se._delegate.setPersistence(We)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return ir(this._delegate,Y.$(this._delegate))}signInWithCredential(O){return ir(this._delegate,Y.a0(this._delegate,O))}signInWithCustomToken(O){return ir(this._delegate,Y.a3(this._delegate,O))}signInWithEmailAndPassword(O,se){return ir(this._delegate,Y.aa(this._delegate,O,se))}signInWithEmailLink(O,se){return ir(this._delegate,Y.ad(this._delegate,O,se))}signInWithPhoneNumber(O,se){return ti(this._delegate,Y.s(this._delegate,O,se))}signInWithPopup(O){var se=this;return(0,d.Z)(function*(){return Cr(vt(),se._delegate,"operation-not-supported-in-this-environment"),ir(se._delegate,Y.c(se._delegate,O,en))})()}signInWithRedirect(O){var se=this;return(0,d.Z)(function*(){return Cr(vt(),se._delegate,"operation-not-supported-in-this-environment"),yield wn(se._delegate),Y.f(se._delegate,O,en)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return Y.a8(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return L.Persistence=Tn,L})();function Qr(L,z,O){let se=L;"function"!=typeof L&&({next:se,error:z,complete:O}=L);const We=se;return{next:jt=>We(jt&&Jn.getOrCreate(jt)),error:z,complete:O}}function Mr(L,z){const O=function Wn(L,z){const O=kn();if(!O)return[];const se=Y.aE(Qn,L,z);switch(O.getItem(se)){case Tn.NONE:return[Y.Q];case Tn.LOCAL:return[Y.i,Y.a];case Tn.SESSION:return[Y.a];default:return[]}}(L,z);if(typeof self<"u"&&!O.includes(Y.i)&&O.push(Y.i),typeof window<"u")for(const se of[Y.b,Y.a])O.includes(se)||O.push(se);return O.includes(Y.Q)||O.push(Y.Q),O}class ii{constructor(){this.providerId="phone",this._delegate=new Y.P(Xn(h.Z.auth()))}static credential(z,O){return Y.P.credential(z,O)}verifyPhoneNumber(z,O){return this._delegate.verifyPhoneNumber(z,O)}unwrap(){return this._delegate}}ii.PHONE_SIGN_IN_METHOD=Y.P.PHONE_SIGN_IN_METHOD,ii.PROVIDER_ID=Y.P.PROVIDER_ID;const xr=Y.aB;class vr{constructor(z,O,se=h.Z.app()){var We;xr(null===(We=se.options)||void 0===We?void 0:We.apiKey,"invalid-api-key",{appName:se.name}),this._delegate=new Y.R(se.auth(),z,O),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function K(L){L.INTERNAL.registerComponent(new ne.wA("auth-compat",z=>{const O=z.getProvider("app-compat").getImmediate(),se=z.getProvider("auth");return new ri(O,se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Y.A.EMAIL_SIGNIN,PASSWORD_RESET:Y.A.PASSWORD_RESET,RECOVER_EMAIL:Y.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Y.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Y.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Y.A.VERIFY_EMAIL}},EmailAuthProvider:Y.U,FacebookAuthProvider:Y.V,GithubAuthProvider:Y.X,GoogleAuthProvider:Y.W,OAuthProvider:Y.Y,SAMLAuthProvider:Y.Z,PhoneAuthProvider:ii,PhoneMultiFactorGenerator:Y.m,RecaptchaVerifier:vr,TwitterAuthProvider:Y._,Auth:ri,AuthCredential:Y.K,Error:ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),L.registerVersion("@firebase/auth-compat","0.4.8")}(h.Z)},5861:(Ht,Ke,x)=>{"use strict";function d(Y,ae,Ee,te,ne,$e,Oe){try{var re=Y[$e](Oe),ue=re.value}catch(De){return void Ee(De)}re.done?ae(ue):Promise.resolve(ue).then(te,ne)}function h(Y){return function(){var ae=this,Ee=arguments;return new Promise(function(te,ne){var $e=Y.apply(ae,Ee);function Oe(ue){d($e,te,ne,Oe,re,"next",ue)}function re(ue){d($e,te,ne,Oe,re,"throw",ue)}Oe(void 0)})}}x.d(Ke,{Z:()=>h})},1180:(Ht,Ke,x)=>{"use strict";function d(Ee){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(te){return typeof te}:function(te){return te&&"function"==typeof Symbol&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te})(Ee)}function ae(Ee,te,ne){return(te=function Y(Ee){var te=function h(Ee,te){if("object"!==d(Ee)||null===Ee)return Ee;var ne=Ee[Symbol.toPrimitive];if(void 0!==ne){var $e=ne.call(Ee,te||"default");if("object"!==d($e))return $e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===te?String:Number)(Ee)}(Ee,"string");return"symbol"===d(te)?te:String(te)}(te))in Ee?Object.defineProperty(Ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):Ee[te]=ne,Ee}x.d(Ke,{Z:()=>ae})},7582:(Ht,Ke,x)=>{"use strict";x.d(Ke,{FC:()=>Le,KL:()=>ze,ZT:()=>h,_T:()=>ae,gn:()=>Ee,mG:()=>De,qq:()=>ge});var d=function(ee,oe){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(be,Re){be.__proto__=Re}||function(be,Re){for(var qe in Re)Object.prototype.hasOwnProperty.call(Re,qe)&&(be[qe]=Re[qe])})(ee,oe)};function h(ee,oe){if("function"!=typeof oe&&null!==oe)throw new TypeError("Class extends value "+String(oe)+" is not a constructor or null");function be(){this.constructor=ee}d(ee,oe),ee.prototype=null===oe?Object.create(oe):(be.prototype=oe.prototype,new be)}function ae(ee,oe){var be={};for(var Re in ee)Object.prototype.hasOwnProperty.call(ee,Re)&&oe.indexOf(Re)<0&&(be[Re]=ee[Re]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var qe=0;for(Re=Object.getOwnPropertySymbols(ee);qe<Re.length;qe++)oe.indexOf(Re[qe])<0&&Object.prototype.propertyIsEnumerable.call(ee,Re[qe])&&(be[Re[qe]]=ee[Re[qe]])}return be}function Ee(ee,oe,be,Re){var St,qe=arguments.length,nt=qe<3?oe:null===Re?Re=Object.getOwnPropertyDescriptor(oe,be):Re;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nt=Reflect.decorate(ee,oe,be,Re);else for(var Ct=ee.length-1;Ct>=0;Ct--)(St=ee[Ct])&&(nt=(qe<3?St(nt):qe>3?St(oe,be,nt):St(oe,be))||nt);return qe>3&&nt&&Object.defineProperty(oe,be,nt),nt}function De(ee,oe,be,Re){return new(be||(be=Promise))(function(nt,St){function Ct(mt){try{Je(Re.next(mt))}catch(_t){St(_t)}}function zt(mt){try{Je(Re.throw(mt))}catch(_t){St(_t)}}function Je(mt){mt.done?nt(mt.value):function qe(nt){return nt instanceof be?nt:new be(function(St){St(nt)})}(mt.value).then(Ct,zt)}Je((Re=Re.apply(ee,oe||[])).next())})}function ge(ee){return this instanceof ge?(this.v=ee,this):new ge(ee)}function Le(ee,oe,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,Re=be.apply(ee,oe||[]),nt=[];return qe={},St("next"),St("throw"),St("return"),qe[Symbol.asyncIterator]=function(){return this},qe;function St(Ot){Re[Ot]&&(qe[Ot]=function(qt){return new Promise(function(an,vt){nt.push([Ot,qt,an,vt])>1||Ct(Ot,qt)})})}function Ct(Ot,qt){try{!function zt(Ot){Ot.value instanceof ge?Promise.resolve(Ot.value.v).then(Je,mt):_t(nt[0][2],Ot)}(Re[Ot](qt))}catch(an){_t(nt[0][3],an)}}function Je(Ot){Ct("next",Ot)}function mt(Ot){Ct("throw",Ot)}function _t(Ot,qt){Ot(qt),nt.shift(),nt.length&&Ct(nt[0][0],nt[0][1])}}function ze(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,oe=ee[Symbol.asyncIterator];return oe?oe.call(ee):(ee=function He(ee){var oe="function"==typeof Symbol&&Symbol.iterator,be=oe&&ee[oe],Re=0;if(be)return be.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&Re>=ee.length&&(ee=void 0),{value:ee&&ee[Re++],done:!ee}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),be={},Re("next"),Re("throw"),Re("return"),be[Symbol.asyncIterator]=function(){return this},be);function Re(nt){be[nt]=ee[nt]&&function(St){return new Promise(function(Ct,zt){!function qe(nt,St,Ct,zt){Promise.resolve(zt).then(function(Je){nt({value:Je,done:Ct})},St)}(Ct,zt,(St=ee[nt](St)).done,St.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},Ht=>{Ht(Ht.s=2731)}]);