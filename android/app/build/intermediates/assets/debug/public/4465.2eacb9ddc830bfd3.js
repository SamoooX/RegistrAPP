"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4465],{4465:(B,d,s)=>{s.r(d),s.d(d,{PresentePageModule:()=>R});var f=s(6814),h=s(95),o=s(9843),g=s(2692),u=s(5861),n=s(5879),m=s(547),P=s(4532),p=s(6401),y=s(5261),S=s(6471);const A=[{path:"",component:(()=>{var e;class a{constructor(t,r,c){this.alertController=t,this.dataService=r,this.barcodescanner=c,this.ValidacionCoordenadas=!0,this.firebaseSvc=(0,n.f3M)(m.O),this.utilsSvc=(0,n.f3M)(P.F)}ngOnInit(){this.ValidacionCoordenadas=this.dataService.getActivaBoton()}scan(){var t=this;return(0,u.Z)(function*(){const r=yield t.utilsSvc.loading();t.barcodescanner.scan().then(function(){var c=(0,u.Z)(function*(l){console.log("Scaneando...",l),t.texto=JSON.stringify(l);const v={idAlumno:t.user().uid,idAsignatura:l.text,fecha:new Date,asistencia:!0};yield r.present(),t.firebaseSvc.addDocument("asistencia",v).then(()=>{t.utilsSvc.saveInLocalStorage("asistencia",{data:v,enviado:!0})}),t.utilsSvc.routerLink("tab/asistencia")});return function(l){return c.apply(this,arguments)}}()).catch(function(){var c=(0,u.Z)(function*(l){console.log("ERROR AL ESCANEAR!!!!"),(yield r).dismiss()});return function(l){return c.apply(this,arguments)}}()).finally(()=>{r.dismiss()})})()}user(){return this.utilsSvc.getFromLocalStorage("user")}presentAlert(){var t=this;return(0,u.Z)(function*(){yield(yield t.alertController.create({header:"Aviso",subHeader:"La asistencia se ha registrado correctamente",message:"",buttons:["OK"]})).present()})()}}return(e=a).\u0275fac=function(t){return new(t||e)(n.Y36(o.Br),n.Y36(p.D),n.Y36(y.m))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-presente"]],decls:8,vars:0,consts:[["titulo","Presente"],[1,"ion-padding"],[1,"contenedor"],[1,"ion-align-items-end"],["size","12",1,"ion-text-center"],["color","warning","shape","round",3,"click"]],template:function(t,r){1&t&&(n._UZ(0,"app-header",0),n.TgZ(1,"ion-content",1)(2,"div",2)(3,"ion-grid")(4,"ion-row",3)(5,"ion-col",4)(6,"ion-button",5),n.NdJ("click",function(){return r.scan()}),n._uU(7," Registrar asistencia "),n.qZA()()()()()())},dependencies:[o.YG,o.wI,o.W2,o.jY,o.Nd,S.G],styles:["img[_ngcontent-%COMP%]{height:100%;width:100%}.contenedor[_ngcontent-%COMP%]{position:relative;transform:translateY(60vh);align-content:end}"]}),a})()}];let M=(()=>{var e;class a{}return(e=a).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[g.Bz.forChild(A),g.Bz]}),a})();var C=s(822);let R=(()=>{var e;class a{}return(e=a).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[f.ez,h.u5,o.Pc,M,C.K]}),a})()}}]);